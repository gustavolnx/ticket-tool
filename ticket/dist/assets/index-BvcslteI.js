function eC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function tC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j0={exports:{}},Uc={},V0={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),nC=Symbol.for("react.portal"),rC=Symbol.for("react.fragment"),iC=Symbol.for("react.strict_mode"),sC=Symbol.for("react.profiler"),oC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),lC=Symbol.for("react.forward_ref"),uC=Symbol.for("react.suspense"),cC=Symbol.for("react.memo"),dC=Symbol.for("react.lazy"),Cy=Symbol.iterator;function hC(t){return t===null||typeof t!="object"?null:(t=Cy&&t[Cy]||t["@@iterator"],typeof t=="function"?t:null)}var F0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U0=Object.assign,B0={};function Io(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||F0}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z0(){}z0.prototype=Io.prototype;function Ip(t,e,n){this.props=t,this.context=e,this.refs=B0,this.updater=n||F0}var Cp=Ip.prototype=new z0;Cp.constructor=Ip;U0(Cp,Io.prototype);Cp.isPureReactComponent=!0;var Ay=Array.isArray,$0=Object.prototype.hasOwnProperty,Ap={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function W0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$0.call(e,r)&&!q0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:hl,type:t,key:s,ref:o,props:i,_owner:Ap.current}}function fC(t,e){return{$$typeof:hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rp(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl}function pC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ry=/\/+/g;function eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pC(""+t.key):e.toString(36)}function wu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hl:case nC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+eh(o,0):r,Ay(i)?(n="",t!=null&&(n=t.replace(Ry,"$&/")+"/"),wu(i,e,n,"",function(c){return c})):i!=null&&(Rp(i)&&(i=fC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ry,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ay(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+eh(s,l);o+=wu(s,e,n,u,i)}else if(u=hC(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+eh(s,l++),o+=wu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gl(t,e,n){if(t==null)return t;var r=[],i=0;return wu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Eu={transition:null},gC={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Eu,ReactCurrentOwner:Ap};function H0(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Gl,forEach:function(t,e,n){Gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gl(t,function(){e++}),e},toArray:function(t){return Gl(t,function(e){return e})||[]},only:function(t){if(!Rp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Io;Te.Fragment=rC;Te.Profiler=sC;Te.PureComponent=Ip;Te.StrictMode=iC;Te.Suspense=uC;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gC;Te.act=H0;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ap.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)$0.call(e,u)&&!q0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:hl,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:aC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oC,_context:t},t.Consumer=t};Te.createElement=W0;Te.createFactory=function(t){var e=W0.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:lC,render:t}};Te.isValidElement=Rp;Te.lazy=function(t){return{$$typeof:dC,_payload:{_status:-1,_result:t},_init:mC}};Te.memo=function(t,e){return{$$typeof:cC,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Eu.transition;Eu.transition={};try{t()}finally{Eu.transition=e}};Te.unstable_act=H0;Te.useCallback=function(t,e){return Zt.current.useCallback(t,e)};Te.useContext=function(t){return Zt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Zt.current.useEffect(t,e)};Te.useId=function(){return Zt.current.useId()};Te.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Zt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};Te.useRef=function(t){return Zt.current.useRef(t)};Te.useState=function(t){return Zt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Zt.current.useTransition()};Te.version="18.3.1";V0.exports=Te;var R=V0.exports;const Se=tC(R),yC=eC({__proto__:null,default:Se},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC=R,_C=Symbol.for("react.element"),wC=Symbol.for("react.fragment"),EC=Object.prototype.hasOwnProperty,TC=vC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SC={key:!0,ref:!0,__self:!0,__source:!0};function K0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EC.call(e,r)&&!SC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_C,type:t,key:s,ref:o,props:i,_owner:TC.current}}Uc.Fragment=wC;Uc.jsx=K0;Uc.jsxs=K0;j0.exports=Uc;var f=j0.exports,qu={},G0={exports:{}},wn={},Q0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var W=$.length;$.push(Q);e:for(;0<W;){var ee=W-1>>>1,se=$[ee];if(0<i(se,Q))$[ee]=Q,$[W]=se,W=ee;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],W=$.pop();if(W!==Q){$[0]=W;e:for(var ee=0,se=$.length,pe=se>>>1;ee<pe;){var Ee=2*(ee+1)-1,Re=$[Ee],Oe=Ee+1,Ue=$[Oe];if(0>i(Re,W))Oe<se&&0>i(Ue,Re)?($[ee]=Ue,$[Oe]=W,ee=Oe):($[ee]=Re,$[Ee]=W,ee=Ee);else if(Oe<se&&0>i(Ue,W))$[ee]=Ue,$[Oe]=W,ee=Oe;else break e}}return Q}function i($,Q){var W=$.sortIndex-Q.sortIndex;return W!==0?W:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,g=3,w=!1,S=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=$)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function O($){if(A=!1,y($),!S)if(n(u)!==null)S=!0,Le(M);else{var Q=n(c);Q!==null&&K(O,Q.startTime-$)}}function M($,Q){S=!1,A&&(A=!1,E(v),v=-1),w=!0;var W=g;try{for(y(Q),p=n(u);p!==null&&(!(p.expirationTime>Q)||$&&!N());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,g=p.priorityLevel;var se=ee(p.expirationTime<=Q);Q=t.unstable_now(),typeof se=="function"?p.callback=se:p===n(u)&&r(u),y(Q)}else r(u);p=n(u)}if(p!==null)var pe=!0;else{var Ee=n(c);Ee!==null&&K(O,Ee.startTime-Q),pe=!1}return pe}finally{p=null,g=W,w=!1}}var U=!1,I=null,v=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function D(){if(I!==null){var $=t.unstable_now();P=$;var Q=!0;try{Q=I(!0,$)}finally{Q?k():(U=!1,I=null)}}else U=!1}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,we=ne.port2;ne.port1.onmessage=D,k=function(){we.postMessage(null)}}else k=function(){x(D,0)};function Le($){I=$,U||(U=!0,k())}function K($,Q){v=x(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,Le(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var W=g;g=Q;try{return $()}finally{g=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=g;g=$;try{return Q()}finally{g=W}},t.unstable_scheduleCallback=function($,Q,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,$){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,$={id:d++,callback:Q,priorityLevel:$,startTime:W,expirationTime:se,sortIndex:-1},W>ee?($.sortIndex=W,e(c,$),n(u)===null&&$===n(c)&&(A?(E(v),v=-1):A=!0,K(O,W-ee))):($.sortIndex=se,e(u,$),S||w||(S=!0,Le(M))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var Q=g;return function(){var W=g;g=Q;try{return $.apply(this,arguments)}finally{g=W}}}})(Y0);Q0.exports=Y0;var IC=Q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC=R,_n=IC;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Na={};function ys(t,e){so(t,e),so(t+"Capture",e)}function so(t,e){for(Na[t]=e,t=0;t<e.length;t++)X0.add(e[t])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kh=Object.prototype.hasOwnProperty,AC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Py={},ky={};function RC(t){return Kh.call(ky,t)?!0:Kh.call(Py,t)?!1:AC.test(t)?ky[t]=!0:(Py[t]=!0,!1)}function PC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kC(t,e,n,r){if(e===null||typeof e>"u"||PC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pp=/[\-:]([a-z])/g;function kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pp,kp);bt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pp,kp);bt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pp,kp);bt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function xp(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kC(e,n,i,r)&&(n=null),r||i===null?RC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=CC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Gh=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),xy=Symbol.iterator;function Qo(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,th;function oa(t){if(th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);th=e&&e[1]||""}return`
`+th+t}var nh=!1;function rh(t,e){if(!t||nh)return"";nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{nh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function xC(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=rh(t.type,!1),t;case 11:return t=rh(t.type.render,!1),t;case 1:return t=rh(t.type,!0),t;default:return""}}function Xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ls:return"Fragment";case Ds:return"Portal";case Gh:return"Profiler";case bp:return"StrictMode";case Qh:return"Suspense";case Yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z0:return(t.displayName||"Context")+".Consumer";case J0:return(t._context.displayName||"Context")+".Provider";case Np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Op:return e=t.displayName||null,e!==null?e:Xh(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return Xh(t(e))}catch{}}return null}function bC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(e);case 8:return e===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NC(t){var e=tw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yl(t){t._valueTracker||(t._valueTracker=NC(t))}function nw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jh(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function by(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rw(t,e){e=e.checked,e!=null&&xp(t,"checked",e,!1)}function Zh(t,e){rw(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ef(t,e.type,n):e.hasOwnProperty("defaultValue")&&ef(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ef(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var aa=Array.isArray;function Ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(aa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function iw(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xl,ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OC=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(t){OC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ya[e]=ya[t]})});function aw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ya.hasOwnProperty(t)&&ya[t]?(""+e).trim():e+"px"}function lw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DC=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rf(t,e){if(e){if(DC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=null;function Dp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var af=null,Gs=null,Qs=null;function Ly(t){if(t=ml(t)){if(typeof af!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Wc(e),af(t.stateNode,t.type,e))}}function uw(t){Gs?Qs?Qs.push(t):Qs=[t]:Gs=t}function cw(){if(Gs){var t=Gs,e=Qs;if(Qs=Gs=null,Ly(t),e)for(t=0;t<e.length;t++)Ly(e[t])}}function dw(t,e){return t(e)}function hw(){}var ih=!1;function fw(t,e,n){if(ih)return t(e,n);ih=!0;try{return dw(t,e,n)}finally{ih=!1,(Gs!==null||Qs!==null)&&(hw(),cw())}}function Da(t,e){var n=t.stateNode;if(n===null)return null;var r=Wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var lf=!1;if(br)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){lf=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{lf=!1}function LC(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var va=!1,Hu=null,Ku=!1,uf=null,MC={onError:function(t){va=!0,Hu=t}};function jC(t,e,n,r,i,s,o,l,u){va=!1,Hu=null,LC.apply(MC,arguments)}function VC(t,e,n,r,i,s,o,l,u){if(jC.apply(this,arguments),va){if(va){var c=Hu;va=!1,Hu=null}else throw Error(H(198));Ku||(Ku=!0,uf=c)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function My(t){if(vs(t)!==t)throw Error(H(188))}function FC(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return My(i),t;if(s===r)return My(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function mw(t){return t=FC(t),t!==null?gw(t):null}function gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gw(t);if(e!==null)return e;t=t.sibling}return null}var yw=_n.unstable_scheduleCallback,jy=_n.unstable_cancelCallback,UC=_n.unstable_shouldYield,BC=_n.unstable_requestPaint,at=_n.unstable_now,zC=_n.unstable_getCurrentPriorityLevel,Lp=_n.unstable_ImmediatePriority,vw=_n.unstable_UserBlockingPriority,Gu=_n.unstable_NormalPriority,$C=_n.unstable_LowPriority,_w=_n.unstable_IdlePriority,Bc=null,ar=null;function qC(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Bc,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:KC,WC=Math.log,HC=Math.LN2;function KC(t){return t>>>=0,t===0?32:31-(WC(t)/HC|0)|0}var Jl=64,Zl=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=la(l):(s&=o,s!==0&&(r=la(s)))}else o=n&~i,o!==0?r=la(o):s!==0&&(r=la(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function GC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=GC(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function cf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),t}function sh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function YC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function Ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tw,jp,Sw,Iw,Cw,df=!1,eu=[],di=null,hi=null,fi=null,La=new Map,Ma=new Map,Zr=[],XC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vy(t,e){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ml(e),e!==null&&jp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JC(t,e,n,r,i){switch(e){case"focusin":return di=Xo(di,t,e,n,r,i),!0;case"dragenter":return hi=Xo(hi,t,e,n,r,i),!0;case"mouseover":return fi=Xo(fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return La.set(s,Xo(La.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,Xo(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function Aw(t){var e=Wi(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=pw(n),e!==null){t.blockedOn=e,Cw(t.priority,function(){Sw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);of=r,n.target.dispatchEvent(r),of=null}else return e=ml(n),e!==null&&jp(e),t.blockedOn=n,!1;e.shift()}return!0}function Fy(t,e,n){Tu(t)&&n.delete(e)}function ZC(){df=!1,di!==null&&Tu(di)&&(di=null),hi!==null&&Tu(hi)&&(hi=null),fi!==null&&Tu(fi)&&(fi=null),La.forEach(Fy),Ma.forEach(Fy)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,df||(df=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,ZC)))}function ja(t){function e(i){return Jo(i,t)}if(0<eu.length){Jo(eu[0],t);for(var n=1;n<eu.length;n++){var r=eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(di!==null&&Jo(di,t),hi!==null&&Jo(hi,t),fi!==null&&Jo(fi,t),La.forEach(e),Ma.forEach(e),n=0;n<Zr.length;n++)r=Zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)Aw(n),n.blockedOn===null&&Zr.shift()}var Ys=Fr.ReactCurrentBatchConfig,Yu=!0;function eA(t,e,n,r){var i=je,s=Ys.transition;Ys.transition=null;try{je=1,Vp(t,e,n,r)}finally{je=i,Ys.transition=s}}function tA(t,e,n,r){var i=je,s=Ys.transition;Ys.transition=null;try{je=4,Vp(t,e,n,r)}finally{je=i,Ys.transition=s}}function Vp(t,e,n,r){if(Yu){var i=hf(t,e,n,r);if(i===null)mh(t,e,r,Xu,n),Vy(t,r);else if(JC(i,t,e,n,r))r.stopPropagation();else if(Vy(t,r),e&4&&-1<XC.indexOf(t)){for(;i!==null;){var s=ml(i);if(s!==null&&Tw(s),s=hf(t,e,n,r),s===null&&mh(t,e,r,Xu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mh(t,e,r,null,n)}}var Xu=null;function hf(t,e,n,r){if(Xu=null,t=Dp(r),t=Wi(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xu=t,null}function Rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zC()){case Lp:return 1;case vw:return 4;case Gu:case $C:return 16;case _w:return 536870912;default:return 16}default:return 16}}var oi=null,Fp=null,Su=null;function Pw(){if(Su)return Su;var t,e=Fp,n=e.length,r,i="value"in oi?oi.value:oi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Su=i.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tu(){return!0}function Uy(){return!1}function En(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tu:Uy,this.isPropagationStopped=Uy,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),e}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Up=En(Co),pl=Ze({},Co,{view:0,detail:0}),nA=En(pl),oh,ah,Zo,zc=Ze({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(oh=t.screenX-Zo.screenX,ah=t.screenY-Zo.screenY):ah=oh=0,Zo=t),oh)},movementY:function(t){return"movementY"in t?t.movementY:ah}}),By=En(zc),rA=Ze({},zc,{dataTransfer:0}),iA=En(rA),sA=Ze({},pl,{relatedTarget:0}),lh=En(sA),oA=Ze({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=En(oA),lA=Ze({},Co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uA=En(lA),cA=Ze({},Co,{data:0}),zy=En(cA),dA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fA[t])?!!e[t]:!1}function Bp(){return pA}var mA=Ze({},pl,{key:function(t){if(t.key){var e=dA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gA=En(mA),yA=Ze({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=En(yA),vA=Ze({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),_A=En(vA),wA=Ze({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),EA=En(wA),TA=Ze({},zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=En(TA),IA=[9,13,27,32],zp=br&&"CompositionEvent"in window,_a=null;br&&"documentMode"in document&&(_a=document.documentMode);var CA=br&&"TextEvent"in window&&!_a,kw=br&&(!zp||_a&&8<_a&&11>=_a),qy=" ",Wy=!1;function xw(t,e){switch(t){case"keyup":return IA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function AA(t,e){switch(t){case"compositionend":return bw(e);case"keypress":return e.which!==32?null:(Wy=!0,qy);case"textInput":return t=e.data,t===qy&&Wy?null:t;default:return null}}function RA(t,e){if(Ms)return t==="compositionend"||!zp&&xw(t,e)?(t=Pw(),Su=Fp=oi=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kw&&e.locale!=="ko"?null:e.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PA[t.type]:e==="textarea"}function Nw(t,e,n,r){uw(r),e=Ju(e,"onChange"),0<e.length&&(n=new Up("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wa=null,Va=null;function kA(t){$w(t,0)}function $c(t){var e=Fs(t);if(nw(e))return t}function xA(t,e){if(t==="change")return e}var Ow=!1;if(br){var uh;if(br){var ch="oninput"in document;if(!ch){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),ch=typeof Ky.oninput=="function"}uh=ch}else uh=!1;Ow=uh&&(!document.documentMode||9<document.documentMode)}function Gy(){wa&&(wa.detachEvent("onpropertychange",Dw),Va=wa=null)}function Dw(t){if(t.propertyName==="value"&&$c(Va)){var e=[];Nw(e,Va,t,Dp(t)),fw(kA,e)}}function bA(t,e,n){t==="focusin"?(Gy(),wa=e,Va=n,wa.attachEvent("onpropertychange",Dw)):t==="focusout"&&Gy()}function NA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(Va)}function OA(t,e){if(t==="click")return $c(e)}function DA(t,e){if(t==="input"||t==="change")return $c(e)}function LA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:LA;function Fa(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kh.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function Qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yy(t,e){var n=Qy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qy(n)}}function Lw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mw(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function $p(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MA(t){var e=Mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lw(n.ownerDocument.documentElement,n)){if(r!==null&&$p(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Yy(n,s);var o=Yy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jA=br&&"documentMode"in document&&11>=document.documentMode,js=null,ff=null,Ea=null,pf=!1;function Xy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pf||js==null||js!==Wu(r)||(r=js,"selectionStart"in r&&$p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ea&&Fa(Ea,r)||(Ea=r,r=Ju(ff,"onSelect"),0<r.length&&(e=new Up("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=js)))}function nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},dh={},jw={};br&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function qc(t){if(dh[t])return dh[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jw)return dh[t]=e[n];return t}var Vw=qc("animationend"),Fw=qc("animationiteration"),Uw=qc("animationstart"),Bw=qc("transitionend"),zw=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){zw.set(t,e),ys(e,[t])}for(var hh=0;hh<Jy.length;hh++){var fh=Jy[hh],VA=fh.toLowerCase(),FA=fh[0].toUpperCase()+fh.slice(1);ki(VA,"on"+FA)}ki(Vw,"onAnimationEnd");ki(Fw,"onAnimationIteration");ki(Uw,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(Bw,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function Zy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VC(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Zy(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Zy(i,l,c),s=u}}}if(Ku)throw t=uf,Ku=!1,uf=null,t}function He(t,e){var n=e[_f];n===void 0&&(n=e[_f]=new Set);var r=t+"__bubble";n.has(r)||(qw(e,t,2,!1),n.add(r))}function ph(t,e,n){var r=0;e&&(r|=4),qw(n,t,r,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Ua(t){if(!t[ru]){t[ru]=!0,X0.forEach(function(n){n!=="selectionchange"&&(UA.has(n)||ph(n,!1,t),ph(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,ph("selectionchange",!1,e))}}function qw(t,e,n,r){switch(Rw(e)){case 1:var i=eA;break;case 4:i=tA;break;default:i=Vp}n=i.bind(null,e,n,t),i=void 0,!lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Wi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fw(function(){var c=s,d=Dp(n),p=[];e:{var g=zw.get(t);if(g!==void 0){var w=Up,S=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":w=gA;break;case"focusin":S="focus",w=lh;break;case"focusout":S="blur",w=lh;break;case"beforeblur":case"afterblur":w=lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=By;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=_A;break;case Vw:case Fw:case Uw:w=aA;break;case Bw:w=EA;break;case"scroll":w=nA;break;case"wheel":w=SA;break;case"copy":case"cut":case"paste":w=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=$y}var A=(e&4)!==0,x=!A&&t==="scroll",E=A?g!==null?g+"Capture":null:g;A=[];for(var _=c,y;_!==null;){y=_;var O=y.stateNode;if(y.tag===5&&O!==null&&(y=O,E!==null&&(O=Da(_,E),O!=null&&A.push(Ba(_,O,y)))),x)break;_=_.return}0<A.length&&(g=new w(g,S,null,n,d),p.push({event:g,listeners:A}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==of&&(S=n.relatedTarget||n.fromElement)&&(Wi(S)||S[Nr]))break e;if((w||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,w?(S=n.relatedTarget||n.toElement,w=c,S=S?Wi(S):null,S!==null&&(x=vs(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=c),w!==S)){if(A=By,O="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(A=$y,O="onPointerLeave",E="onPointerEnter",_="pointer"),x=w==null?g:Fs(w),y=S==null?g:Fs(S),g=new A(O,_+"leave",w,n,d),g.target=x,g.relatedTarget=y,O=null,Wi(d)===c&&(A=new A(E,_+"enter",S,n,d),A.target=y,A.relatedTarget=x,O=A),x=O,w&&S)t:{for(A=w,E=S,_=0,y=A;y;y=ks(y))_++;for(y=0,O=E;O;O=ks(O))y++;for(;0<_-y;)A=ks(A),_--;for(;0<y-_;)E=ks(E),y--;for(;_--;){if(A===E||E!==null&&A===E.alternate)break t;A=ks(A),E=ks(E)}A=null}else A=null;w!==null&&ev(p,g,w,A,!1),S!==null&&x!==null&&ev(p,x,S,A,!0)}}e:{if(g=c?Fs(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var M=xA;else if(Hy(g))if(Ow)M=DA;else{M=NA;var U=bA}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=OA);if(M&&(M=M(t,c))){Nw(p,M,n,d);break e}U&&U(t,g,c),t==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&ef(g,"number",g.value)}switch(U=c?Fs(c):window,t){case"focusin":(Hy(U)||U.contentEditable==="true")&&(js=U,ff=c,Ea=null);break;case"focusout":Ea=ff=js=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Xy(p,n,d);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Xy(p,n,d)}var I;if(zp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ms?xw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(kw&&n.locale!=="ko"&&(Ms||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ms&&(I=Pw()):(oi=d,Fp="value"in oi?oi.value:oi.textContent,Ms=!0)),U=Ju(c,v),0<U.length&&(v=new zy(v,t,null,n,d),p.push({event:v,listeners:U}),I?v.data=I:(I=bw(n),I!==null&&(v.data=I)))),(I=CA?AA(t,n):RA(t,n))&&(c=Ju(c,"onBeforeInput"),0<c.length&&(d=new zy("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=I))}$w(p,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Da(t,n),s!=null&&r.unshift(Ba(t,s,i)),s=Da(t,e),s!=null&&r.push(Ba(t,s,i))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ev(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Da(n,s),u!=null&&o.unshift(Ba(n,u,l))):i||(u=Da(n,s),u!=null&&o.push(Ba(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(BA,`
`).replace(zA,"")}function iu(t,e,n){if(e=tv(e),tv(t)!==e&&n)throw Error(H(425))}function Zu(){}var mf=null,gf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vf=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(t){return nv.resolve(null).then(t).catch(WA)}:vf;function WA(t){setTimeout(function(){throw t})}function gh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ja(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),tr="__reactFiber$"+Ao,za="__reactProps$"+Ao,Nr="__reactContainer$"+Ao,_f="__reactEvents$"+Ao,HA="__reactListeners$"+Ao,KA="__reactHandles$"+Ao;function Wi(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rv(t);t!==null;){if(n=t[tr])return n;t=rv(t)}return e}t=n,n=t.parentNode}return null}function ml(t){return t=t[tr]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Wc(t){return t[za]||null}var wf=[],Us=-1;function xi(t){return{current:t}}function Ke(t){0>Us||(t.current=wf[Us],wf[Us]=null,Us--)}function ze(t,e){Us++,wf[Us]=t.current,t.current=e}var Ii={},zt=xi(Ii),on=xi(!1),ns=Ii;function oo(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function ec(){Ke(on),Ke(zt)}function iv(t,e,n){if(zt.current!==Ii)throw Error(H(168));ze(zt,e),ze(on,n)}function Ww(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,bC(t)||"Unknown",i));return Ze({},n,r)}function tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,ns=zt.current,ze(zt,t),ze(on,on.current),!0}function sv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Ww(t,e,ns),r.__reactInternalMemoizedMergedChildContext=t,Ke(on),Ke(zt),ze(zt,t)):Ke(on),ze(on,n)}var Tr=null,Hc=!1,yh=!1;function Hw(t){Tr===null?Tr=[t]:Tr.push(t)}function GA(t){Hc=!0,Hw(t)}function bi(){if(!yh&&Tr!==null){yh=!0;var t=0,e=je;try{var n=Tr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,Hc=!1}catch(i){throw Tr!==null&&(Tr=Tr.slice(t+1)),yw(Lp,bi),i}finally{je=e,yh=!1}}return null}var Bs=[],zs=0,nc=null,rc=0,An=[],Rn=0,rs=null,Sr=1,Ir="";function Bi(t,e){Bs[zs++]=rc,Bs[zs++]=nc,nc=t,rc=e}function Kw(t,e,n){An[Rn++]=Sr,An[Rn++]=Ir,An[Rn++]=rs,rs=t;var r=Sr;t=Ir;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var s=32-Bn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sr=1<<32-Bn(e)+i|n<<i|r,Ir=s+t}else Sr=1<<s|n<<i|r,Ir=t}function qp(t){t.return!==null&&(Bi(t,1),Kw(t,1,0))}function Wp(t){for(;t===nc;)nc=Bs[--zs],Bs[zs]=null,rc=Bs[--zs],Bs[zs]=null;for(;t===rs;)rs=An[--Rn],An[Rn]=null,Ir=An[--Rn],An[Rn]=null,Sr=An[--Rn],An[Rn]=null}var yn=null,fn=null,Qe=!1,Fn=null;function Gw(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ov(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,fn=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:Sr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,fn=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(Qe){var e=fn;if(e){var n=e;if(!ov(t,e)){if(Ef(t))throw Error(H(418));e=pi(n.nextSibling);var r=yn;e&&ov(t,e)?Gw(r,n):(t.flags=t.flags&-4097|2,Qe=!1,yn=t)}}else{if(Ef(t))throw Error(H(418));t.flags=t.flags&-4097|2,Qe=!1,yn=t}}}function av(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function su(t){if(t!==yn)return!1;if(!Qe)return av(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=fn)){if(Ef(t))throw Qw(),Error(H(418));for(;e;)Gw(t,e),e=pi(e.nextSibling)}if(av(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=yn?pi(t.stateNode.nextSibling):null;return!0}function Qw(){for(var t=fn;t;)t=pi(t.nextSibling)}function ao(){fn=yn=null,Qe=!1}function Hp(t){Fn===null?Fn=[t]:Fn.push(t)}var QA=Fr.ReactCurrentBatchConfig;function ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ou(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lv(t){var e=t._init;return e(t._payload)}function Yw(t){function e(E,_){if(t){var y=E.deletions;y===null?(E.deletions=[_],E.flags|=16):y.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=vi(E,_),E.index=0,E.sibling=null,E}function s(E,_,y){return E.index=y,t?(y=E.alternate,y!==null?(y=y.index,y<_?(E.flags|=2,_):y):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,_,y,O){return _===null||_.tag!==6?(_=Ih(y,E.mode,O),_.return=E,_):(_=i(_,y),_.return=E,_)}function u(E,_,y,O){var M=y.type;return M===Ls?d(E,_,y.props.children,O,y.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Yr&&lv(M)===_.type)?(O=i(_,y.props),O.ref=ea(E,_,y),O.return=E,O):(O=bu(y.type,y.key,y.props,null,E.mode,O),O.ref=ea(E,_,y),O.return=E,O)}function c(E,_,y,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=Ch(y,E.mode,O),_.return=E,_):(_=i(_,y.children||[]),_.return=E,_)}function d(E,_,y,O,M){return _===null||_.tag!==7?(_=Yi(y,E.mode,O,M),_.return=E,_):(_=i(_,y),_.return=E,_)}function p(E,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ih(""+_,E.mode,y),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ql:return y=bu(_.type,_.key,_.props,null,E.mode,y),y.ref=ea(E,null,_),y.return=E,y;case Ds:return _=Ch(_,E.mode,y),_.return=E,_;case Yr:var O=_._init;return p(E,O(_._payload),y)}if(aa(_)||Qo(_))return _=Yi(_,E.mode,y,null),_.return=E,_;ou(E,_)}return null}function g(E,_,y,O){var M=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:l(E,_,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ql:return y.key===M?u(E,_,y,O):null;case Ds:return y.key===M?c(E,_,y,O):null;case Yr:return M=y._init,g(E,_,M(y._payload),O)}if(aa(y)||Qo(y))return M!==null?null:d(E,_,y,O,null);ou(E,y)}return null}function w(E,_,y,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(y)||null,l(_,E,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ql:return E=E.get(O.key===null?y:O.key)||null,u(_,E,O,M);case Ds:return E=E.get(O.key===null?y:O.key)||null,c(_,E,O,M);case Yr:var U=O._init;return w(E,_,y,U(O._payload),M)}if(aa(O)||Qo(O))return E=E.get(y)||null,d(_,E,O,M,null);ou(_,O)}return null}function S(E,_,y,O){for(var M=null,U=null,I=_,v=_=0,C=null;I!==null&&v<y.length;v++){I.index>v?(C=I,I=null):C=I.sibling;var P=g(E,I,y[v],O);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(E,I),_=s(P,_,v),U===null?M=P:U.sibling=P,U=P,I=C}if(v===y.length)return n(E,I),Qe&&Bi(E,v),M;if(I===null){for(;v<y.length;v++)I=p(E,y[v],O),I!==null&&(_=s(I,_,v),U===null?M=I:U.sibling=I,U=I);return Qe&&Bi(E,v),M}for(I=r(E,I);v<y.length;v++)C=w(I,E,v,y[v],O),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?v:C.key),_=s(C,_,v),U===null?M=C:U.sibling=C,U=C);return t&&I.forEach(function(N){return e(E,N)}),Qe&&Bi(E,v),M}function A(E,_,y,O){var M=Qo(y);if(typeof M!="function")throw Error(H(150));if(y=M.call(y),y==null)throw Error(H(151));for(var U=M=null,I=_,v=_=0,C=null,P=y.next();I!==null&&!P.done;v++,P=y.next()){I.index>v?(C=I,I=null):C=I.sibling;var N=g(E,I,P.value,O);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(E,I),_=s(N,_,v),U===null?M=N:U.sibling=N,U=N,I=C}if(P.done)return n(E,I),Qe&&Bi(E,v),M;if(I===null){for(;!P.done;v++,P=y.next())P=p(E,P.value,O),P!==null&&(_=s(P,_,v),U===null?M=P:U.sibling=P,U=P);return Qe&&Bi(E,v),M}for(I=r(E,I);!P.done;v++,P=y.next())P=w(I,E,v,P.value,O),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?v:P.key),_=s(P,_,v),U===null?M=P:U.sibling=P,U=P);return t&&I.forEach(function(D){return e(E,D)}),Qe&&Bi(E,v),M}function x(E,_,y,O){if(typeof y=="object"&&y!==null&&y.type===Ls&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ql:e:{for(var M=y.key,U=_;U!==null;){if(U.key===M){if(M=y.type,M===Ls){if(U.tag===7){n(E,U.sibling),_=i(U,y.props.children),_.return=E,E=_;break e}}else if(U.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Yr&&lv(M)===U.type){n(E,U.sibling),_=i(U,y.props),_.ref=ea(E,U,y),_.return=E,E=_;break e}n(E,U);break}else e(E,U);U=U.sibling}y.type===Ls?(_=Yi(y.props.children,E.mode,O,y.key),_.return=E,E=_):(O=bu(y.type,y.key,y.props,null,E.mode,O),O.ref=ea(E,_,y),O.return=E,E=O)}return o(E);case Ds:e:{for(U=y.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(E,_.sibling),_=i(_,y.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Ch(y,E.mode,O),_.return=E,E=_}return o(E);case Yr:return U=y._init,x(E,_,U(y._payload),O)}if(aa(y))return S(E,_,y,O);if(Qo(y))return A(E,_,y,O);ou(E,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,y),_.return=E,E=_):(n(E,_),_=Ih(y,E.mode,O),_.return=E,E=_),o(E)):n(E,_)}return x}var lo=Yw(!0),Xw=Yw(!1),ic=xi(null),sc=null,$s=null,Kp=null;function Gp(){Kp=$s=sc=null}function Qp(t){var e=ic.current;Ke(ic),t._currentValue=e}function Sf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){sc=t,Kp=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Kp!==t)if(t={context:t,memoizedValue:e,next:null},$s===null){if(sc===null)throw Error(H(308));$s=t,sc.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return e}var Hi=null;function Yp(t){Hi===null?Hi=[t]:Hi.push(t)}function Jw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function Xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Or(t,n)}return i=r.interleaved,i===null?(e.next=e,Yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Or(t,n)}function Cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mp(t,n)}}function uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oc(t,e,n,r){var i=t.updateQueue;Xr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,A=l;switch(g=e,w=n,A.tag){case 1:if(S=A.payload,typeof S=="function"){p=S.call(w,p,g);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,g=typeof S=="function"?S.call(w,p,g):S,g==null)break e;p=Ze({},p,g);break e;case 2:Xr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=p):d=d.next=w,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ss|=o,t.lanes=o,t.memoizedState=p}}function cv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var gl={},lr=xi(gl),$a=xi(gl),qa=xi(gl);function Ki(t){if(t===gl)throw Error(H(174));return t}function Jp(t,e){switch(ze(qa,e),ze($a,t),ze(lr,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nf(e,t)}Ke(lr),ze(lr,e)}function uo(){Ke(lr),Ke($a),Ke(qa)}function eE(t){Ki(qa.current);var e=Ki(lr.current),n=nf(e,t.type);e!==n&&(ze($a,t),ze(lr,n))}function Zp(t){$a.current===t&&(Ke(lr),Ke($a))}var Xe=xi(0);function ac(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vh=[];function em(){for(var t=0;t<vh.length;t++)vh[t]._workInProgressVersionPrimary=null;vh.length=0}var Au=Fr.ReactCurrentDispatcher,_h=Fr.ReactCurrentBatchConfig,is=0,Je=null,pt=null,Et=null,lc=!1,Ta=!1,Wa=0,YA=0;function Lt(){throw Error(H(321))}function tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function nm(t,e,n,r,i,s){if(is=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Au.current=t===null||t.memoizedState===null?eR:tR,t=n(r,i),Ta){s=0;do{if(Ta=!1,Wa=0,25<=s)throw Error(H(301));s+=1,Et=pt=null,e.updateQueue=null,Au.current=nR,t=n(r,i)}while(Ta)}if(Au.current=uc,e=pt!==null&&pt.next!==null,is=0,Et=pt=Je=null,lc=!1,e)throw Error(H(300));return t}function rm(){var t=Wa!==0;return Wa=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=t:Et=Et.next=t,Et}function On(){if(pt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?Je.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error(H(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Je.memoizedState=Et=t:Et=Et.next=t}return Et}function Ha(t,e){return typeof e=="function"?e(t):e}function wh(t){var e=On(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((is&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Je.lanes|=d,ss|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,qn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,ss|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eh(t){var e=On(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tE(){}function nE(t,e){var n=Je,r=On(),i=e(),s=!qn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,im(sE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Ka(9,iE.bind(null,n,r,i,e),void 0,null),St===null)throw Error(H(349));is&30||rE(n,e,i)}return i}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iE(t,e,n,r){e.value=n,e.getSnapshot=r,oE(e)&&aE(t)}function sE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function aE(t){var e=Or(t,1);e!==null&&zn(e,t,1,-1)}function dv(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=ZA.bind(null,Je,t),[e.memoizedState,t]}function Ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return On().memoizedState}function Ru(t,e,n,r){var i=er();Je.flags|=t,i.memoizedState=Ka(1|e,n,void 0,r===void 0?null:r)}function Kc(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&tm(r,o.deps)){i.memoizedState=Ka(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Ka(1|e,n,s,r)}function hv(t,e){return Ru(8390656,8,t,e)}function im(t,e){return Kc(2048,8,t,e)}function uE(t,e){return Kc(4,2,t,e)}function cE(t,e){return Kc(4,4,t,e)}function dE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4,4,dE.bind(null,e,t),n)}function sm(){}function fE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return is&21?(qn(n,e)||(n=ww(),Je.lanes|=n,ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function XA(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=_h.transition;_h.transition={};try{t(!1),e()}finally{je=n,_h.transition=r}}function gE(){return On().memoizedState}function JA(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=Jw(t,e,n,r),n!==null){var i=Xt();zn(n,t,r,i),_E(n,e,r)}}function ZA(t,e,n){var r=yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,qn(l,o)){var u=e.interleaved;u===null?(i.next=i,Yp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Jw(t,e,i,r),n!==null&&(i=Xt(),zn(n,t,r,i),_E(n,e,r))}}function yE(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function vE(t,e){Ta=lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mp(t,n)}}var uc={readContext:Nn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},eR={readContext:Nn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:hv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4194308,4,dE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ru(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:dv,useDebugValue:sm,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=dv(!1),e=t[0];return t=XA.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=er();if(Qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),St===null)throw Error(H(349));is&30||rE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hv(sE.bind(null,r,s,t),[t]),r.flags|=2048,Ka(9,iE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=St.identifierPrefix;if(Qe){var n=Ir,r=Sr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tR={readContext:Nn,useCallback:fE,useContext:Nn,useEffect:im,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:wh,useRef:lE,useState:function(){return wh(Ha)},useDebugValue:sm,useDeferredValue:function(t){var e=On();return mE(e,pt.memoizedState,t)},useTransition:function(){var t=wh(Ha)[0],e=On().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},nR={readContext:Nn,useCallback:fE,useContext:Nn,useEffect:im,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:Eh,useRef:lE,useState:function(){return Eh(Ha)},useDebugValue:sm,useDeferredValue:function(t){var e=On();return pt===null?e.memoizedState=t:mE(e,pt.memoizedState,t)},useTransition:function(){var t=Eh(Ha)[0],e=On().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function If(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gc={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=yi(t),s=Pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=mi(t,s,i),e!==null&&(zn(e,t,i,r),Cu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=yi(t),s=Pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=mi(t,s,i),e!==null&&(zn(e,t,i,r),Cu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=yi(t),i=Pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=mi(t,i,r),e!==null&&(zn(e,t,r,n),Cu(e,t,r))}};function fv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function wE(t,e,n){var r=!1,i=Ii,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=an(e)?ns:zt.current,r=e.contextTypes,s=(r=r!=null)?oo(t,i):Ii),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gc.enqueueReplaceState(e,e.state,null)}function Cf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=an(e)?ns:zt.current,i.context=oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(If(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gc.enqueueReplaceState(i,i.state,null),oc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var n="",r=e;do n+=xC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Th(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Af(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rR=typeof WeakMap=="function"?WeakMap:Map;function EE(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dc||(dc=!0,Mf=r),Af(t,e)},n}function TE(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Af(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Af(t,e),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yR.bind(null,t,e,n),e.then(t,t))}function gv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,mi(n,e,1))),n.lanes|=1),t)}var iR=Fr.ReactCurrentOwner,sn=!1;function Qt(t,e,n,r){e.child=t===null?Xw(e,null,n,r):lo(e,t.child,n,r)}function vv(t,e,n,r,i){n=n.render;var s=e.ref;return Xs(e,i),r=nm(t,e,n,r,s,i),n=rm(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Qe&&n&&qp(e),e.flags|=1,Qt(t,e,r,i),e.child)}function _v(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!fm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SE(t,e,s,r,i)):(t=bu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=vi(s,r),t.ref=e.ref,t.return=e,e.child=t}function SE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return Rf(t,e,n,r,i)}function IE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ws,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Ws,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Ws,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Ws,hn),hn|=r;return Qt(t,e,i,n),e.child}function CE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rf(t,e,n,r,i){var s=an(n)?ns:zt.current;return s=oo(e,s),Xs(e,i),n=nm(t,e,n,r,s,i),r=rm(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Qe&&r&&qp(e),e.flags|=1,Qt(t,e,n,i),e.child)}function wv(t,e,n,r,i){if(an(n)){var s=!0;tc(e)}else s=!1;if(Xs(e,i),e.stateNode===null)Pu(t,e),wE(e,n,r),Cf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nn(c):(c=an(n)?ns:zt.current,c=oo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&pv(e,o,r,c),Xr=!1;var g=e.memoizedState;o.state=g,oc(e,r,o,i),u=e.memoizedState,l!==r||g!==u||on.current||Xr?(typeof d=="function"&&(If(e,n,d,r),u=e.memoizedState),(l=Xr||fv(e,n,l,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:jn(e.type,l),o.props=c,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Nn(u):(u=an(n)?ns:zt.current,u=oo(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&pv(e,o,r,u),Xr=!1,g=e.memoizedState,o.state=g,oc(e,r,o,i);var S=e.memoizedState;l!==p||g!==S||on.current||Xr?(typeof w=="function"&&(If(e,n,w,r),S=e.memoizedState),(c=Xr||fv(e,n,c,r,g,S,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Pf(t,e,n,r,s,i)}function Pf(t,e,n,r,i,s){CE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sv(e,n,!1),Dr(t,e,s);r=e.stateNode,iR.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lo(e,t.child,null,s),e.child=lo(e,null,l,s)):Qt(t,e,l,s),e.memoizedState=r.state,i&&sv(e,n,!0),e.child}function AE(t){var e=t.stateNode;e.pendingContext?iv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iv(t,e.context,!1),Jp(t,e.containerInfo)}function Ev(t,e,n,r,i){return ao(),Hp(i),e.flags|=256,Qt(t,e,n,r),e.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function RE(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Xe,i&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xc(o,r,0,null),t=Yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xf(n),e.memoizedState=kf,t):om(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sR(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=vi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=vi(l,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kf,r}return s=t.child,t=s.sibling,r=vi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function om(t,e){return e=Xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function au(t,e,n,r){return r!==null&&Hp(r),lo(e,t.child,null,n),t=om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Th(Error(H(422))),au(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xc({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lo(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=kf,s);if(!(e.mode&1))return au(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=Th(s,r,void 0),au(t,e,o,r)}if(l=(o&t.childLanes)!==0,sn||l){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Or(t,i),zn(r,t,i,-1))}return hm(),r=Th(Error(H(421))),au(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=pi(i.nextSibling),yn=e,Qe=!0,Fn=null,t!==null&&(An[Rn++]=Sr,An[Rn++]=Ir,An[Rn++]=rs,Sr=t.id,Ir=t.overflow,rs=e),e=om(e,r.children),e.flags|=4096,e)}function Tv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sf(t.return,e,n)}function Sh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,n,e);else if(t.tag===19)Tv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ac(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ac(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sh(e,!0,n,null,s);break;case"together":Sh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oR(t,e,n){switch(e.tag){case 3:AE(e),ao();break;case 5:eE(e);break;case 1:an(e.type)&&tc(e);break;case 4:Jp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(ic,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?RE(t,e,n):(ze(Xe,Xe.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,IE(t,e,n)}return Dr(t,e,n)}var kE,bf,xE,bE;kE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bf=function(){};xE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ki(lr.current);var s=null;switch(n){case"input":i=Jh(t,i),r=Jh(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=tf(t,i),r=tf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}rf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Na.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Na.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&He("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};bE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ta(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aR(t,e,n){var r=e.pendingProps;switch(Wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return an(e.type)&&ec(),Mt(e),null;case 3:return r=e.stateNode,uo(),Ke(on),Ke(zt),em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Ff(Fn),Fn=null))),bf(t,e),Mt(e),null;case 5:Zp(e);var i=Ki(qa.current);if(n=e.type,t!==null&&e.stateNode!=null)xE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Mt(e),null}if(t=Ki(lr.current),su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[za]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<ua.length;i++)He(ua[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":by(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Oy(r,s),He("invalid",r)}rf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&iu(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&iu(r.textContent,l,t),i=["children",""+l]):Na.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Yl(r),Ny(r,s,!0);break;case"textarea":Yl(r),Dy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[za]=r,kE(t,e,!1,!1),e.stateNode=t;e:{switch(o=sf(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<ua.length;i++)He(ua[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":by(t,r),i=Jh(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),He("invalid",t);break;case"textarea":Oy(t,r),i=tf(t,r),He("invalid",t);break;default:i=r}rf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?lw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ow(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Oa(t,u):typeof u=="number"&&Oa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?u!=null&&s==="onScroll"&&He("scroll",t):u!=null&&xp(t,s,u,o))}switch(n){case"input":Yl(t),Ny(t,r,!1);break;case"textarea":Yl(t),Dy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ks(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)bE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ki(qa.current),Ki(lr.current),su(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:iu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&iu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Mt(e),null;case 13:if(Ke(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&e.mode&1&&!(e.flags&128))Qw(),ao(),e.flags|=98560,s=!1;else if(s=su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[tr]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else Fn!==null&&(Ff(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?mt===0&&(mt=3):hm())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return uo(),bf(t,e),t===null&&Ua(e.stateNode.containerInfo),Mt(e),null;case 10:return Qp(e.type._context),Mt(e),null;case 17:return an(e.type)&&ec(),Mt(e),null;case 19:if(Ke(Xe),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ta(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ac(t),o!==null){for(e.flags|=128,ta(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>ho&&(e.flags|=128,r=!0,ta(s,!1),e.lanes=4194304)}else{if(!r)if(t=ac(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Mt(e),null}else 2*at()-s.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,ta(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Xe.current,ze(Xe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function lR(t,e){switch(Wp(e),e.tag){case 1:return an(e.type)&&ec(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uo(),Ke(on),Ke(zt),em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zp(e),null;case 13:if(Ke(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Xe),null;case 4:return uo(),null;case 10:return Qp(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var lu=!1,Ft=!1,uR=typeof WeakSet=="function"?WeakSet:Set,te=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Nf(t,e,n){try{n()}catch(r){nt(t,e,r)}}var Sv=!1;function cR(t,e){if(mf=Yu,t=Mw(),$p(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=t,g=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===t)break t;if(g===n&&++c===i&&(l=o),g===s&&++d===r&&(u=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gf={focusedElem:t,selectionRange:n},Yu=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var A=S.memoizedProps,x=S.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?A:jn(e.type,A),x);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(O){nt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return S=Sv,Sv=!1,S}function Sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nf(e,n,s)}i=i.next}while(i!==r)}}function Qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Of(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NE(t){var e=t.alternate;e!==null&&(t.alternate=null,NE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[za],delete e[_f],delete e[HA],delete e[KA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OE(t){return t.tag===5||t.tag===3||t.tag===4}function Iv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}function Lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}var At=null,Vn=!1;function Hr(t,e,n){for(n=n.child;n!==null;)DE(t,e,n),n=n.sibling}function DE(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Bc,n)}catch{}switch(n.tag){case 5:Ft||qs(n,e);case 6:var r=At,i=Vn;At=null,Hr(t,e,n),At=r,Vn=i,At!==null&&(Vn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Vn?(t=At,n=n.stateNode,t.nodeType===8?gh(t.parentNode,n):t.nodeType===1&&gh(t,n),ja(t)):gh(At,n.stateNode));break;case 4:r=At,i=Vn,At=n.stateNode.containerInfo,Vn=!0,Hr(t,e,n),At=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nf(n,e,o),i=i.next}while(i!==r)}Hr(t,e,n);break;case 1:if(!Ft&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nt(n,e,l)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Hr(t,e,n),Ft=r):Hr(t,e,n);break;default:Hr(t,e,n)}}function Cv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uR),e.forEach(function(r){var i=_R.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,Vn=!1;break e;case 3:At=l.stateNode.containerInfo,Vn=!0;break e;case 4:At=l.stateNode.containerInfo,Vn=!0;break e}l=l.return}if(At===null)throw Error(H(160));DE(s,o,i),At=null,Vn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LE(e,t),e=e.sibling}function LE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Zn(t),r&4){try{Sa(3,t,t.return),Qc(3,t)}catch(A){nt(t,t.return,A)}try{Sa(5,t,t.return)}catch(A){nt(t,t.return,A)}}break;case 1:Ln(e,t),Zn(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(Ln(e,t),Zn(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var i=t.stateNode;try{Oa(i,"")}catch(A){nt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&rw(i,s),sf(l,o);var c=sf(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?lw(i,p):d==="dangerouslySetInnerHTML"?ow(i,p):d==="children"?Oa(i,p):xp(i,d,p,c)}switch(l){case"input":Zh(i,s);break;case"textarea":iw(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ks(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ks(i,!!s.multiple,s.defaultValue,!0):Ks(i,!!s.multiple,s.multiple?[]:"",!1))}i[za]=s}catch(A){nt(t,t.return,A)}}break;case 6:if(Ln(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){nt(t,t.return,A)}}break;case 3:if(Ln(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(A){nt(t,t.return,A)}break;case 4:Ln(e,t),Zn(t);break;case 13:Ln(e,t),Zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(um=at())),r&4&&Cv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(c=Ft)||d,Ln(e,t),Ft=c):Ln(e,t),Zn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(p=te=d;te!==null;){switch(g=te,w=g.child,g.tag){case 0:case 11:case 14:case 15:Sa(4,g,g.return);break;case 1:qs(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(A){nt(r,n,A)}}break;case 5:qs(g,g.return);break;case 22:if(g.memoizedState!==null){Rv(p);continue}}w!==null?(w.return=g,te=w):Rv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=aw("display",o))}catch(A){nt(t,t.return,A)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(A){nt(t,t.return,A)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ln(e,t),Zn(t),r&4&&Cv(t);break;case 21:break;default:Ln(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oa(i,""),r.flags&=-33);var s=Iv(t);Lf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Iv(t);Df(t,l,o);break;default:throw Error(H(161))}}catch(u){nt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dR(t,e,n){te=t,ME(t)}function ME(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||lu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ft;l=lu;var c=Ft;if(lu=o,(Ft=u)&&!c)for(te=i;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?Pv(i):u!==null?(u.return=o,te=u):Pv(i);for(;s!==null;)te=s,ME(s),s=s.sibling;te=i,lu=l,Ft=c}Av(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):Av(t)}}function Av(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ja(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ft||e.flags&512&&Of(e)}catch(g){nt(e,e.return,g)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Rv(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Pv(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qc(4,e)}catch(u){nt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){nt(e,i,u)}}var s=e.return;try{Of(e)}catch(u){nt(e,s,u)}break;case 5:var o=e.return;try{Of(e)}catch(u){nt(e,o,u)}}}catch(u){nt(e,e.return,u)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var hR=Math.ceil,cc=Fr.ReactCurrentDispatcher,am=Fr.ReactCurrentOwner,kn=Fr.ReactCurrentBatchConfig,xe=0,St=null,ht=null,kt=0,hn=0,Ws=xi(0),mt=0,Ga=null,ss=0,Yc=0,lm=0,Ia=null,nn=null,um=0,ho=1/0,Er=null,dc=!1,Mf=null,gi=null,uu=!1,ai=null,hc=0,Ca=0,jf=null,ku=-1,xu=0;function Xt(){return xe&6?at():ku!==-1?ku:ku=at()}function yi(t){return t.mode&1?xe&2&&kt!==0?kt&-kt:QA.transition!==null?(xu===0&&(xu=ww()),xu):(t=je,t!==0||(t=window.event,t=t===void 0?16:Rw(t.type)),t):1}function zn(t,e,n,r){if(50<Ca)throw Ca=0,jf=null,Error(H(185));fl(t,n,r),(!(xe&2)||t!==St)&&(t===St&&(!(xe&2)&&(Yc|=n),mt===4&&ei(t,kt)),ln(t,r),n===1&&xe===0&&!(e.mode&1)&&(ho=at()+500,Hc&&bi()))}function ln(t,e){var n=t.callbackNode;QC(t,e);var r=Qu(t,t===St?kt:0);if(r===0)n!==null&&jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jy(n),e===1)t.tag===0?GA(kv.bind(null,t)):Hw(kv.bind(null,t)),qA(function(){!(xe&6)&&bi()}),n=null;else{switch(Ew(r)){case 1:n=Lp;break;case 4:n=vw;break;case 16:n=Gu;break;case 536870912:n=_w;break;default:n=Gu}n=qE(n,jE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jE(t,e){if(ku=-1,xu=0,xe&6)throw Error(H(327));var n=t.callbackNode;if(Js()&&t.callbackNode!==n)return null;var r=Qu(t,t===St?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fc(t,r);else{e=r;var i=xe;xe|=2;var s=FE();(St!==t||kt!==e)&&(Er=null,ho=at()+500,Qi(t,e));do try{mR();break}catch(l){VE(t,l)}while(!0);Gp(),cc.current=s,xe=i,ht!==null?e=0:(St=null,kt=0,e=mt)}if(e!==0){if(e===2&&(i=cf(t),i!==0&&(r=i,e=Vf(t,i))),e===1)throw n=Ga,Qi(t,0),ei(t,r),ln(t,at()),n;if(e===6)ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!fR(i)&&(e=fc(t,r),e===2&&(s=cf(t),s!==0&&(r=s,e=Vf(t,s))),e===1))throw n=Ga,Qi(t,0),ei(t,r),ln(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:zi(t,nn,Er);break;case 3:if(ei(t,r),(r&130023424)===r&&(e=um+500-at(),10<e)){if(Qu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vf(zi.bind(null,t,nn,Er),e);break}zi(t,nn,Er);break;case 4:if(ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Bn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hR(r/1960))-r,10<r){t.timeoutHandle=vf(zi.bind(null,t,nn,Er),r);break}zi(t,nn,Er);break;case 5:zi(t,nn,Er);break;default:throw Error(H(329))}}}return ln(t,at()),t.callbackNode===n?jE.bind(null,t):null}function Vf(t,e){var n=Ia;return t.current.memoizedState.isDehydrated&&(Qi(t,e).flags|=256),t=fc(t,e),t!==2&&(e=nn,nn=n,e!==null&&Ff(e)),t}function Ff(t){nn===null?nn=t:nn.push.apply(nn,t)}function fR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ei(t,e){for(e&=~lm,e&=~Yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function kv(t){if(xe&6)throw Error(H(327));Js();var e=Qu(t,0);if(!(e&1))return ln(t,at()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var r=cf(t);r!==0&&(e=r,n=Vf(t,r))}if(n===1)throw n=Ga,Qi(t,0),ei(t,e),ln(t,at()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,nn,Er),ln(t,at()),null}function cm(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ho=at()+500,Hc&&bi())}}function os(t){ai!==null&&ai.tag===0&&!(xe&6)&&Js();var e=xe;xe|=1;var n=kn.transition,r=je;try{if(kn.transition=null,je=1,t)return t()}finally{je=r,kn.transition=n,xe=e,!(xe&6)&&bi()}}function dm(){hn=Ws.current,Ke(Ws)}function Qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$A(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ec();break;case 3:uo(),Ke(on),Ke(zt),em();break;case 5:Zp(r);break;case 4:uo();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:Qp(r.type._context);break;case 22:case 23:dm()}n=n.return}if(St=t,ht=t=vi(t.current,null),kt=hn=e,mt=0,Ga=null,lm=Yc=ss=0,nn=Ia=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return t}function VE(t,e){do{var n=ht;try{if(Gp(),Au.current=uc,lc){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lc=!1}if(is=0,Et=pt=Je=null,Ta=!1,Wa=0,am.current=null,n===null||n.return===null){mt=1,Ga=e,ht=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=kt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=gv(o);if(w!==null){w.flags&=-257,yv(w,o,l,s,e),w.mode&1&&mv(s,c,e),e=w,u=c;var S=e.updateQueue;if(S===null){var A=new Set;A.add(u),e.updateQueue=A}else S.add(u);break e}else{if(!(e&1)){mv(s,c,e),hm();break e}u=Error(H(426))}}else if(Qe&&l.mode&1){var x=gv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),yv(x,o,l,s,e),Hp(co(u,l));break e}}s=u=co(u,l),mt!==4&&(mt=2),Ia===null?Ia=[s]:Ia.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=EE(s,u,e);uv(s,E);break e;case 1:l=u;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gi===null||!gi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=TE(s,l,e);uv(s,O);break e}}s=s.return}while(s!==null)}BE(n)}catch(M){e=M,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function FE(){var t=cc.current;return cc.current=uc,t===null?uc:t}function hm(){(mt===0||mt===3||mt===2)&&(mt=4),St===null||!(ss&268435455)&&!(Yc&268435455)||ei(St,kt)}function fc(t,e){var n=xe;xe|=2;var r=FE();(St!==t||kt!==e)&&(Er=null,Qi(t,e));do try{pR();break}catch(i){VE(t,i)}while(!0);if(Gp(),xe=n,cc.current=r,ht!==null)throw Error(H(261));return St=null,kt=0,mt}function pR(){for(;ht!==null;)UE(ht)}function mR(){for(;ht!==null&&!UC();)UE(ht)}function UE(t){var e=$E(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?BE(t):ht=e,am.current=null}function BE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lR(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ht=null;return}}else if(n=aR(n,e,hn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);mt===0&&(mt=5)}function zi(t,e,n){var r=je,i=kn.transition;try{kn.transition=null,je=1,gR(t,e,n,r)}finally{kn.transition=i,je=r}return null}function gR(t,e,n,r){do Js();while(ai!==null);if(xe&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(YC(t,s),t===St&&(ht=St=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uu||(uu=!0,qE(Gu,function(){return Js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=je;je=1;var l=xe;xe|=4,am.current=null,cR(t,n),LE(n,t),MA(gf),Yu=!!mf,gf=mf=null,t.current=n,dR(n),BC(),xe=l,je=o,kn.transition=s}else t.current=n;if(uu&&(uu=!1,ai=t,hc=i),s=t.pendingLanes,s===0&&(gi=null),qC(n.stateNode),ln(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dc)throw dc=!1,t=Mf,Mf=null,t;return hc&1&&t.tag!==0&&Js(),s=t.pendingLanes,s&1?t===jf?Ca++:(Ca=0,jf=t):Ca=0,bi(),null}function Js(){if(ai!==null){var t=Ew(hc),e=kn.transition,n=je;try{if(kn.transition=null,je=16>t?16:t,ai===null)var r=!1;else{if(t=ai,ai=null,hc=0,xe&6)throw Error(H(331));var i=xe;for(xe|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Sa(8,d,s)}var p=d.child;if(p!==null)p.return=d,te=p;else for(;te!==null;){d=te;var g=d.sibling,w=d.return;if(NE(d),d===c){te=null;break}if(g!==null){g.return=w,te=g;break}te=w}}}var S=s.alternate;if(S!==null){var A=S.child;if(A!==null){S.child=null;do{var x=A.sibling;A.sibling=null,A=x}while(A!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sa(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,te=E;break e}te=s.return}}var _=t.current;for(te=_;te!==null;){o=te;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,te=y;else e:for(o=_;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qc(9,l)}}catch(M){nt(l,l.return,M)}if(l===o){te=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,te=O;break e}te=l.return}}if(xe=i,bi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Bc,t)}catch{}r=!0}return r}finally{je=n,kn.transition=e}}return!1}function xv(t,e,n){e=co(n,e),e=EE(t,e,1),t=mi(t,e,1),e=Xt(),t!==null&&(fl(t,1,e),ln(t,e))}function nt(t,e,n){if(t.tag===3)xv(t,t,n);else for(;e!==null;){if(e.tag===3){xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){t=co(n,t),t=TE(e,t,1),e=mi(e,t,1),t=Xt(),e!==null&&(fl(e,1,t),ln(e,t));break}}e=e.return}}function yR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(kt&n)===n&&(mt===4||mt===3&&(kt&130023424)===kt&&500>at()-um?Qi(t,0):lm|=n),ln(t,e)}function zE(t,e){e===0&&(t.mode&1?(e=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):e=1);var n=Xt();t=Or(t,e),t!==null&&(fl(t,e,n),ln(t,n))}function vR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zE(t,n)}function _R(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),zE(t,n)}var $E;$E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,oR(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Qe&&e.flags&1048576&&Kw(e,rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pu(t,e),t=e.pendingProps;var i=oo(e,zt.current);Xs(e,n),i=nm(null,e,r,t,i,n);var s=rm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,tc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xp(e),i.updater=Gc,e.stateNode=i,i._reactInternals=e,Cf(e,r,t,n),e=Pf(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&qp(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ER(r),t=jn(r,t),i){case 0:e=Rf(null,e,r,t,n);break e;case 1:e=wv(null,e,r,t,n);break e;case 11:e=vv(null,e,r,t,n);break e;case 14:e=_v(null,e,r,jn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Rf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),wv(t,e,r,i,n);case 3:e:{if(AE(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zw(t,e),oc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=co(Error(H(423)),e),e=Ev(t,e,r,n,i);break e}else if(r!==i){i=co(Error(H(424)),e),e=Ev(t,e,r,n,i);break e}else for(fn=pi(e.stateNode.containerInfo.firstChild),yn=e,Qe=!0,Fn=null,n=Xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===i){e=Dr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&Tf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yf(r,i)?o=null:s!==null&&yf(r,s)&&(e.flags|=32),CE(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&Tf(e),null;case 13:return RE(t,e,n);case 4:return Jp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),vv(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(ic,r._currentValue),r._currentValue=o,s!==null)if(qn(s.value,o)){if(s.children===i.children&&!on.current){e=Dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Pr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Sf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xs(e,n),i=Nn(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),_v(t,e,r,i,n);case 15:return SE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Pu(t,e),e.tag=1,an(r)?(t=!0,tc(e)):t=!1,Xs(e,n),wE(e,r,i),Cf(e,r,i,n),Pf(null,e,r,!0,t,n);case 19:return PE(t,e,n);case 22:return IE(t,e,n)}throw Error(H(156,e.tag))};function qE(t,e){return yw(t,e)}function wR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new wR(t,e,n,r)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ER(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Np)return 11;if(t===Op)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")fm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ls:return Yi(n.children,i,s,e);case bp:o=8,i|=8;break;case Gh:return t=Pn(12,n,e,i|2),t.elementType=Gh,t.lanes=s,t;case Qh:return t=Pn(13,n,e,i),t.elementType=Qh,t.lanes=s,t;case Yh:return t=Pn(19,n,e,i),t.elementType=Yh,t.lanes=s,t;case ew:return Xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J0:o=10;break e;case Z0:o=9;break e;case Np:o=11;break e;case Op:o=14;break e;case Yr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yi(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Xc(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=ew,t.lanes=n,t.stateNode={isHidden:!1},t}function Ih(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Ch(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sh(0),this.expirationTimes=sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pm(t,e,n,r,i,s,o,l,u){return t=new TR(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(s),t}function SR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WE(t){if(!t)return Ii;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(an(n))return Ww(t,n,e)}return e}function HE(t,e,n,r,i,s,o,l,u){return t=pm(n,r,!0,t,i,s,o,l,u),t.context=WE(null),n=t.current,r=Xt(),i=yi(n),s=Pr(r,i),s.callback=e??null,mi(n,s,i),t.current.lanes=i,fl(t,i,r),ln(t,r),t}function Jc(t,e,n,r){var i=e.current,s=Xt(),o=yi(i);return n=WE(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mi(i,e,o),t!==null&&(zn(t,i,o,s),Cu(t,i,o)),o}function pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){bv(t,e),(t=t.alternate)&&bv(t,e)}function IR(){return null}var KE=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}Zc.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Jc(t,e,null,null)};Zc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){Jc(null,t,null,null)}),e[Nr]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zr.length&&e!==0&&e<Zr[n].priority;n++);Zr.splice(n,0,t),n===0&&Aw(t)}};function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function CR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=pc(o);s.call(c)}}var o=HE(e,r,t,0,null,!1,!1,"",Nv);return t._reactRootContainer=o,t[Nr]=o.current,Ua(t.nodeType===8?t.parentNode:t),os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=pc(u);l.call(c)}}var u=pm(t,0,!1,null,null,!1,!1,"",Nv);return t._reactRootContainer=u,t[Nr]=u.current,Ua(t.nodeType===8?t.parentNode:t),os(function(){Jc(e,u,n,r)}),u}function td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=pc(o);l.call(u)}}Jc(e,o,t,i)}else o=CR(n,e,t,i,r);return pc(o)}Tw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=la(e.pendingLanes);n!==0&&(Mp(e,n|1),ln(e,at()),!(xe&6)&&(ho=at()+500,bi()))}break;case 13:os(function(){var r=Or(t,1);if(r!==null){var i=Xt();zn(r,t,1,i)}}),mm(t,1)}};jp=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Xt();zn(e,t,134217728,n)}mm(t,134217728)}};Sw=function(t){if(t.tag===13){var e=yi(t),n=Or(t,e);if(n!==null){var r=Xt();zn(n,t,e,r)}mm(t,e)}};Iw=function(){return je};Cw=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};af=function(t,e,n){switch(e){case"input":if(Zh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wc(r);if(!i)throw Error(H(90));nw(r),Zh(r,i)}}}break;case"textarea":iw(t,n);break;case"select":e=n.value,e!=null&&Ks(t,!!n.multiple,e,!1)}};dw=cm;hw=os;var AR={usingClientEntryPoint:!1,Events:[ml,Fs,Wc,uw,cw,cm]},na={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RR={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mw(t),t===null?null:t.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Bc=cu.inject(RR),ar=cu}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(e))throw Error(H(200));return SR(t,e,null,n)};wn.createRoot=function(t,e){if(!ym(t))throw Error(H(299));var n=!1,r="",i=KE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pm(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,Ua(t.nodeType===8?t.parentNode:t),new gm(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=mw(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return os(t)};wn.hydrate=function(t,e,n){if(!ed(e))throw Error(H(200));return td(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!ym(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HE(e,null,t,1,n??null,i,!1,s,o),t[Nr]=e.current,Ua(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zc(e)};wn.render=function(t,e,n){if(!ed(e))throw Error(H(200));return td(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!ed(t))throw Error(H(40));return t._reactRootContainer?(os(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};wn.unstable_batchedUpdates=cm;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ed(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return td(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function GE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GE)}catch(t){console.error(t)}}GE(),G0.exports=wn;var PR=G0.exports,Ov=PR;qu.createRoot=Ov.createRoot,qu.hydrateRoot=Ov.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}var li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(li||(li={}));const Dv="popstate";function kR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Uf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mc(i)}return bR(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substr(2,8)}function Lv(t,e){return{usr:t.state,key:t.key,idx:e}}function Uf(t,e,n,r){return n===void 0&&(n=null),Qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ro(e):e,{state:n,key:e&&e.key||r||xR()})}function mc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=li.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Qa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=li.Pop;let x=d(),E=x==null?null:x-c;c=x,u&&u({action:l,location:A.location,delta:E})}function g(x,E){l=li.Push;let _=Uf(A.location,x,E);c=d()+1;let y=Lv(_,c),O=A.createHref(_);try{o.pushState(y,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}s&&u&&u({action:l,location:A.location,delta:1})}function w(x,E){l=li.Replace;let _=Uf(A.location,x,E);c=d();let y=Lv(_,c),O=A.createHref(_);o.replaceState(y,"",O),s&&u&&u({action:l,location:A.location,delta:0})}function S(x){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:mc(x);return _=_.replace(/ $/,"%20"),lt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let A={get action(){return l},get location(){return t(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Dv,p),u=x,()=>{i.removeEventListener(Dv,p),u=null}},createHref(x){return e(i,x)},createURL:S,encodeLocation(x){let E=S(x);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(x){return o.go(x)}};return A}var Mv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Mv||(Mv={}));function NR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ro(e):e,i=vm(r.pathname||"/",n);if(i==null)return null;let s=YE(t);OR(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=WR(i);o=zR(s[l],u)}return o}function YE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(lt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=_i([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:UR(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of XE(s.path))i(s,o,u)}),e}function XE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function OR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DR=/^:[\w-]+$/,LR=3,MR=2,jR=1,VR=10,FR=-2,jv=t=>t==="*";function UR(t,e){let n=t.split("/"),r=n.length;return n.some(jv)&&(r+=FR),e&&(r+=MR),n.filter(i=>!jv(i)).reduce((i,s)=>i+(DR.test(s)?LR:s===""?jR:VR),r)}function BR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=$R({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let p=l.route;s.push({params:r,pathname:_i([i,d.pathname]),pathnameBase:QR(_i([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=_i([i,d.pathnameBase]))}return s}function $R(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:g,isOptional:w}=d;if(g==="*"){let A=l[p]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const S=l[p];return w&&!S?c[g]=void 0:c[g]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function qR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),QE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return QE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ro(t):t;return{pathname:n?n.startsWith("/")?n:KR(n,e):e,search:YR(r),hash:XR(i)}}function KR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _m(t,e){let n=GR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ro(t):(i=Qa({},t),lt(!i.pathname||!i.pathname.includes("?"),Ah("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Ah("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Ah("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=HR(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const _i=t=>t.join("/").replace(/\/\/+/g,"/"),QR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JE=["post","put","patch","delete"];new Set(JE);const ZR=["get",...JE];new Set(ZR);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}const Em=R.createContext(null),eP=R.createContext(null),Ni=R.createContext(null),nd=R.createContext(null),Ur=R.createContext({outlet:null,matches:[],isDataRoute:!1}),ZE=R.createContext(null);function tP(t,e){let{relative:n}=e===void 0?{}:e;Po()||lt(!1);let{basename:r,navigator:i}=R.useContext(Ni),{hash:s,pathname:o,search:l}=tT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:_i([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Po(){return R.useContext(nd)!=null}function yl(){return Po()||lt(!1),R.useContext(nd).location}function eT(t){R.useContext(Ni).static||R.useLayoutEffect(t)}function ko(){let{isDataRoute:t}=R.useContext(Ur);return t?pP():nP()}function nP(){Po()||lt(!1);let t=R.useContext(Em),{basename:e,future:n,navigator:r}=R.useContext(Ni),{matches:i}=R.useContext(Ur),{pathname:s}=yl(),o=JSON.stringify(_m(i,n.v7_relativeSplatPath)),l=R.useRef(!1);return eT(()=>{l.current=!0}),R.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=wm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:_i([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function Tm(){let{matches:t}=R.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function tT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Ni),{matches:i}=R.useContext(Ur),{pathname:s}=yl(),o=JSON.stringify(_m(i,r.v7_relativeSplatPath));return R.useMemo(()=>wm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function rP(t,e){return iP(t,e)}function iP(t,e,n,r){Po()||lt(!1);let{navigator:i}=R.useContext(Ni),{matches:s}=R.useContext(Ur),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=yl(),d;if(e){var p;let x=typeof e=="string"?Ro(e):e;u==="/"||(p=x.pathname)!=null&&p.startsWith(u)||lt(!1),d=x}else d=c;let g=d.pathname||"/",w=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=NR(t,{pathname:w}),A=uP(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:_i([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:_i([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&A?R.createElement(nd.Provider,{value:{location:Ya({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:li.Pop}},A):A}function sP(){let t=fP(),e=JR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const oP=R.createElement(sP,null);class aP extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Ur.Provider,{value:this.props.routeContext},R.createElement(ZE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lP(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Em);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Ur.Provider,{value:e},r)}function uP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||lt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:w}=n,S=p.route.loader&&g[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let w,S=!1,A=null,x=null;n&&(w=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||oP,u&&(c<0&&g===0?(S=!0,x=null):c===g&&(S=!0,x=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),_=()=>{let y;return w?y=A:S?y=x:p.route.Component?y=R.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=d,R.createElement(lP,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?R.createElement(aP,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var nT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nT||{}),gc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gc||{});function cP(t){let e=R.useContext(Em);return e||lt(!1),e}function dP(t){let e=R.useContext(eP);return e||lt(!1),e}function hP(t){let e=R.useContext(Ur);return e||lt(!1),e}function rT(t){let e=hP(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function fP(){var t;let e=R.useContext(ZE),n=dP(gc.UseRouteError),r=rT(gc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pP(){let{router:t}=cP(nT.UseNavigateStable),e=rT(gc.UseNavigateStable),n=R.useRef(!1);return eT(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ya({fromRouteId:e},s)))},[t,e])}function mP(t){let{to:e,replace:n,state:r,relative:i}=t;Po()||lt(!1);let{future:s,static:o}=R.useContext(Ni),{matches:l}=R.useContext(Ur),{pathname:u}=yl(),c=ko(),d=wm(e,_m(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(d);return R.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function dn(t){lt(!1)}function gP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=li.Pop,navigator:s,static:o=!1,future:l}=t;Po()&&lt(!1);let u=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:s,static:o,future:Ya({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ro(r));let{pathname:d="/",search:p="",hash:g="",state:w=null,key:S="default"}=r,A=R.useMemo(()=>{let x=vm(d,u);return x==null?null:{location:{pathname:x,search:p,hash:g,state:w,key:S},navigationType:i}},[u,d,p,g,w,S,i]);return A==null?null:R.createElement(Ni.Provider,{value:c},R.createElement(nd.Provider,{children:n,value:A}))}function yP(t){let{children:e,location:n}=t;return rP(Bf(e),n)}new Promise(()=>{});function Bf(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Bf(r.props.children,s));return}r.type!==dn&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function vP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _P(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wP(t,e){return t.button===0&&(!e||e==="_self")&&!_P(t)}const EP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TP="6";try{window.__reactRouterVersion=TP}catch{}const SP="startTransition",Vv=yC[SP];function IP(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=kR({window:i,v5Compat:!0}));let o=s.current,[l,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=R.useCallback(p=>{c&&Vv?Vv(()=>u(p)):u(p)},[u,c]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.createElement(gP,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const CP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:p}=e,g=vP(e,EP),{basename:w}=R.useContext(Ni),S,A=!1;if(typeof c=="string"&&AP.test(c)&&(S=c,CP))try{let y=new URL(window.location.href),O=c.startsWith("//")?new URL(y.protocol+c):new URL(c),M=vm(O.pathname,w);O.origin===y.origin&&M!=null?c=M+O.search+O.hash:A=!0}catch{}let x=tP(c,{relative:i}),E=RP(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:p});function _(y){r&&r(y),y.defaultPrevented||E(y)}return R.createElement("a",zf({},g,{href:S||x,onClick:A||s?r:_,ref:n,target:u}))});var Fv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fv||(Fv={}));var Uv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uv||(Uv={}));function RP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=ko(),c=yl(),d=tT(t,{relative:o});return R.useCallback(p=>{if(wP(p,n)){p.preventDefault();let g=r!==void 0?r:mc(c)===mc(d);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}const iT="/assets/logo-Dxsto7UP.png";var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(g=64)),r.push(n[d],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new kP;const g=s<<2|l>>4;if(r.push(g),c!==64){const w=l<<4&240|c>>2;if(r.push(w),p!==64){const S=c<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xP=function(t){const e=sT(t);return oT.encodeByteArray(e,!0)},yc=function(t){return xP(t).replace(/\./g,"")},aT=function(t){try{return oT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=()=>bP().__FIREBASE_DEFAULTS__,OP=()=>{if(typeof process>"u"||typeof Bv>"u")return;const t=Bv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aT(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return NP()||OP()||DP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lT=t=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uT=t=>{const e=lT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cT=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.config},dT=t=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function jP(){var t;const e=(t=rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UP(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BP(){return!jP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zP(){try{return typeof indexedDB=="object"}catch{return!1}}function $P(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qP,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WP(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new mr(i,l,r)}}function WP(t,e){return t.replace(HP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HP=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zv(s)&&zv(o)){if(!vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GP(t,e){const n=new QP(t,e);return n.subscribe.bind(n)}class QP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rh),i.error===void 0&&(i.error=Rh),i.complete===void 0&&(i.complete=Rh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZP(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JP(t){return t===$i?void 0:t}function ZP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const tk={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},nk=Ae.INFO,rk={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},ik=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=nk,this._logHandler=ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const sk=(t,e)=>e.some(n=>t instanceof n);let $v,qv;function ok(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ak(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,$f=new WeakMap,pT=new WeakMap,Ph=new WeakMap,Im=new WeakMap;function lk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fT.set(n,t)}).catch(()=>{}),Im.set(e,t),e}function uk(t){if($f.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$f.set(t,e)}let qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ck(t){qf=t(qf)}function dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kh(this),e,...n);return pT.set(r,e.sort?e.sort():[e]),wi(r)}:ak().includes(t)?function(...e){return t.apply(kh(this),e),wi(fT.get(this))}:function(...e){return wi(t.apply(kh(this),e))}}function hk(t){return typeof t=="function"?dk(t):(t instanceof IDBTransaction&&uk(t),sk(t,ok())?new Proxy(t,qf):t)}function wi(t){if(t instanceof IDBRequest)return lk(t);if(Ph.has(t))return Ph.get(t);const e=hk(t);return e!==t&&(Ph.set(t,e),Im.set(e,t)),e}const kh=t=>Im.get(t);function fk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=wi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wi(o.result),u.oldVersion,u.newVersion,wi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const pk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],xh=new Map;function Wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xh.get(e))return xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pk.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return xh.set(e,s),s}ck(t=>({...t,get:(e,n,r)=>Wv(e,n)||t.get(e,n,r),has:(e,n)=>!!Wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",Hv="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Sm("@firebase/app"),vk="@firebase/app-compat",_k="@firebase/analytics-compat",wk="@firebase/analytics",Ek="@firebase/app-check-compat",Tk="@firebase/app-check",Sk="@firebase/auth",Ik="@firebase/auth-compat",Ck="@firebase/database",Ak="@firebase/database-compat",Rk="@firebase/functions",Pk="@firebase/functions-compat",kk="@firebase/installations",xk="@firebase/installations-compat",bk="@firebase/messaging",Nk="@firebase/messaging-compat",Ok="@firebase/performance",Dk="@firebase/performance-compat",Lk="@firebase/remote-config",Mk="@firebase/remote-config-compat",jk="@firebase/storage",Vk="@firebase/storage-compat",Fk="@firebase/firestore",Uk="@firebase/vertexai-preview",Bk="@firebase/firestore-compat",zk="firebase",$k="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="[DEFAULT]",qk={[Wf]:"fire-core",[vk]:"fire-core-compat",[wk]:"fire-analytics",[_k]:"fire-analytics-compat",[Tk]:"fire-app-check",[Ek]:"fire-app-check-compat",[Sk]:"fire-auth",[Ik]:"fire-auth-compat",[Ck]:"fire-rtdb",[Ak]:"fire-rtdb-compat",[Rk]:"fire-fn",[Pk]:"fire-fn-compat",[kk]:"fire-iid",[xk]:"fire-iid-compat",[bk]:"fire-fcm",[Nk]:"fire-fcm-compat",[Ok]:"fire-perf",[Dk]:"fire-perf-compat",[Lk]:"fire-rc",[Mk]:"fire-rc-compat",[jk]:"fire-gcs",[Vk]:"fire-gcs-compat",[Fk]:"fire-fst",[Bk]:"fire-fst-compat",[Uk]:"fire-vertex","fire-js":"fire-js",[zk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,Wk=new Map,Kf=new Map;function Kv(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ls(t){const e=t.name;if(Kf.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,t);for(const n of _c.values())Kv(n,t);for(const n of Wk.values())Kv(n,t);return!0}function id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new vl("app","Firebase",Hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=$k;function mT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=cT()),!n)throw Ei.create("no-options");const s=_c.get(i);if(s){if(vc(n,s.options)&&vc(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new ek(i);for(const u of Kf.values())o.addComponent(u);const l=new Kk(n,r,o);return _c.set(i,l),l}function Cm(t=Hf){const e=_c.get(t);if(!e&&t===Hf&&cT())return mT();if(!e)throw Ei.create("no-app",{appName:t});return e}function ur(t,e,n){var r;let i=(r=qk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(l.join(" "));return}ls(new Ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-heartbeat-database",Qk=1,Xa="firebase-heartbeat-store";let bh=null;function gT(){return bh||(bh=fk(Gk,Qk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),bh}async function Yk(t){try{const n=(await gT()).transaction(Xa),r=await n.objectStore(Xa).get(yT(t));return await n.done,r}catch(e){if(e instanceof mr)as.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function Gv(t,e){try{const r=(await gT()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,yT(t)),await r.done}catch(n){if(n instanceof mr)as.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function yT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Jk=30*24*60*60*1e3;class Zk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Jk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:r,unsentEntries:i}=ex(this._heartbeatsCache.heartbeats),s=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qv(){return new Date().toISOString().substring(0,10)}function ex(t,e=Xk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zP()?$P().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Yv(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){ls(new Ci("platform-logger",e=>new gk(e),"PRIVATE")),ls(new Ci("heartbeat",e=>new Zk(e),"PRIVATE")),ur(Wf,Hv,t),ur(Wf,Hv,"esm2017"),ur("fire-js","")}nx("");var rx="firebase",ix="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(rx,ix,"app");function Am(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sx=vT,_T=new vl("auth","Firebase",vT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Sm("@firebase/auth");function ox(t,...e){wc.logLevel<=Ae.WARN&&wc.warn(`Auth (${_s}): ${t}`,...e)}function Nu(t,...e){wc.logLevel<=Ae.ERROR&&wc.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw Rm(t,...e)}function cr(t,...e){return Rm(t,...e)}function wT(t,e,n){const r=Object.assign(Object.assign({},sx()),{[e]:n});return new vl("auth","Firebase",r).create(e,{appName:t.name})}function kr(t){return wT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _T.create(t,...e)}function he(t,e,...n){if(!t)throw Rm(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Lr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ax(){return Xv()==="http:"||Xv()==="https:"}function Xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ax()||VP()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=MP()||FP()}get(){return lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new wl(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return TT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=_l(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),ET.fetch()(ST(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function TT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cx),e);try{const i=new fx(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw du(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw du(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw du(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wT(t,d,c);Wn(t,d)}}catch(i){if(i instanceof mr)throw i;Wn(t,"network-request-failed",{message:String(i)})}}async function El(t,e,n,r,i={}){const s=await Di(t,e,n,r,i);return"mfaPendingCredential"in s&&Wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ST(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Pm(t.config,i):`${t.config.apiScheme}://${i}`}function hx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),dx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function Jv(t){return t!==void 0&&t.enterprise!==void 0}class px{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mx(t,e){return Di(t,"GET","/v2/recaptchaConfig",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function IT(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yx(t,e=!1){const n=rt(t),r=await n.getIdToken(e),i=km(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Aa(Nh(i.auth_time)),issuedAtTime:Aa(Nh(i.iat)),expirationTime:Aa(Nh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Nh(t){return Number(t)*1e3}function km(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=aT(n);return i?JSON.parse(i):(Nu("Failed to decode base64 JWT payload"),null)}catch(i){return Nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Zv(t){const e=km(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&vx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ja(t,IT(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CT(s.providerUserInfo):[],l=Ex(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Qf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function wx(t){const e=rt(t);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ex(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CT(t){return t.map(e=>{var{providerId:n}=e,r=Am(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e){const n=await TT(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ST(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ET.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sx(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=Zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Tx(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zs;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _x(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yx(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Ja(this,gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:O,isAnonymous:M,providerData:U,stsTokenManager:I}=n;he(y&&I,e,"internal-error");const v=Zs.fromJSON(this.name,I);he(typeof y=="string",e,"internal-error"),Kr(p,e.name),Kr(g,e.name),he(typeof O=="boolean",e,"internal-error"),he(typeof M=="boolean",e,"internal-error"),Kr(w,e.name),Kr(S,e.name),Kr(A,e.name),Kr(x,e.name),Kr(E,e.name),Kr(_,e.name);const C=new Ar({uid:y,auth:e,email:g,emailVerified:O,displayName:p,isAnonymous:M,photoURL:S,phoneNumber:w,tenantId:A,stsTokenManager:v,createdAt:E,lastLoginAt:_});return U&&Array.isArray(U)&&(C.providerData=U.map(P=>Object.assign({},P))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zs;i.updateFromServerResponse(n);const s=new Ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ec(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Zs;l.updateFromIdToken(r);const u=new Ar({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function Rr(t){Lr(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AT.type="NONE";const t_=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e,n){return`firebase:${t}:${e}:${n}`}class eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ou(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ou("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eo(Rr(t_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Rr(t_);const o=Ou(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const p=Ar._fromJSON(e,d);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new eo(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new eo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bT(e))return"Blackberry";if(NT(e))return"Webos";if(xm(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RT(t=Nt()){return/firefox\//i.test(t)}function xm(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(t=Nt()){return/crios\//i.test(t)}function kT(t=Nt()){return/iemobile/i.test(t)}function xT(t=Nt()){return/android/i.test(t)}function bT(t=Nt()){return/blackberry/i.test(t)}function NT(t=Nt()){return/webos/i.test(t)}function sd(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ix(t=Nt()){var e;return sd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cx(){return UP()&&document.documentMode===10}function OT(t=Nt()){return sd(t)||xT(t)||NT(t)||bT(t)||/windows phone/i.test(t)||kT(t)}function Ax(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e=[]){let n;switch(t){case"Browser":n=n_(Nt());break;case"Worker":n=`${n_(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=6;class xx{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await IT(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(kr(this));const n=e?rt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Px(this),n=new xx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ox(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ws(t){return rt(t)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=GP(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nx(t){od=t}function LT(t){return od.loadJS(t)}function Ox(){return od.recaptchaEnterpriseScript}function Dx(){return od.gapiScript}function Lx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Mx="recaptcha-enterprise",jx="NO_RECAPTCHA";class Vx{constructor(e){this.type=Mx,this.auth=ws(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{mx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new px(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;Jv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(jx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&Jv(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ox();u.length!==0&&(u+=l),LT(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function i_(t,e,n,r=!1){const i=new Vx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Yf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await i_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await i_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e){const n=id(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(vc(s,e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}function Ux(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bx(t,e,n){const r=ws(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=MT(e),{host:o,port:l}=zx(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),$x()}function MT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zx(t){const e=MT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:s_(o)}}}function s_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $x(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function qx(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(t,e){return El(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e){return El(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}async function Kx(t,e){return El(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends bm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Za(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Za(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yf(e,n,"signInWithPassword",Wx);case"emailLink":return Hx(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yf(e,r,"signUpPassword",qx);case"emailLink":return Kx(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t,e){return El(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="http://localhost";class us extends bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Am(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new us(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,to(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:Gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yx(t){const e=ca(da(t)).link,n=e?ca(da(e)).deep_link_id:null,r=ca(da(t)).deep_link_id;return(r?ca(da(r)).link:null)||r||n||e||t}class Nm{constructor(e){var n,r,i,s,o,l;const u=ca(da(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Qx((i=u.mode)!==null&&i!==void 0?i:null);he(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Yx(e);try{return new Nm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return Za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nm.parseLink(n);return he(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends jT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Tl{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return us._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Tl{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Tl{constructor(){super("twitter.com")}static credential(e,n){return us._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e){return El(t,"POST","/v1/accounts:signUp",Oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ar._fromIdTokenResponse(e,r,i),o=o_(r);return new cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=o_(r);return new cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function o_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tc(e,n,r,i)}}function VT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(t,s,e,r):s})}async function Jx(t,e,n=!1){const r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(kr(r));const i="reauthenticate";try{const s=await Ja(t,VT(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=km(s.idToken);he(o,r,"internal-error");const{sub:l}=o;return he(t.uid===l,r,"user-mismatch"),cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(t,e,n=!1){if(ir(t.app))return Promise.reject(kr(t));const r="signIn",i=await VT(t,r,e),s=await cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function eb(t,e){return FT(ws(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(t){const e=ws(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tb(t,e,n){if(ir(t.app))return Promise.reject(kr(t));const r=ws(t),o=await Yf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xx).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&UT(t),u}),l=await cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function nb(t,e,n){return ir(t.app)?Promise.reject(kr(t)):eb(rt(t),xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UT(t),r})}function rb(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function ib(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function sb(t){return rt(t).signOut()}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){const t=Nt();return xm(t)||sd(t)}const ab=1e3,lb=10;class zT extends BT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ob()&&Ax(),this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Cx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lb):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ab)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zT.type="LOCAL";const ub=zT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends BT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$T.type="SESSION";const qT=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await cb(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Om("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function hb(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function fb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mb(){return WT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",gb=1,Ic="firebaseLocalStorage",KT="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function yb(){const t=indexedDB.deleteDatabase(HT);return new Sl(t).toPromise()}function Xf(){const t=indexedDB.open(HT,gb);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ic,{keyPath:KT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ic)?e(r):(r.close(),await yb(),e(await Xf()))})})}async function a_(t,e,n){const r=ld(t,!0).put({[KT]:e,value:n});return new Sl(r).toPromise()}async function vb(t,e){const n=ld(t,!1).get(e),r=await new Sl(n).toPromise();return r===void 0?null:r.value}function l_(t,e){const n=ld(t,!0).delete(e);return new Sl(n).toPromise()}const _b=800,wb=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(mb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fb(),!this.activeServiceWorker)return;this.sender=new db(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await a_(e,Sc,"1"),await l_(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vb(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ld(i,!1).getAll();return new Sl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_b)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const Eb=GT;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e){return e?Rr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Sb(t){return FT(t.auth,new Dm(t),t.bypassAuthState)}function Ib(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Zx(n,new Dm(t),t.bypassAuthState)}async function Cb(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Jx(n,new Dm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sb;case"linkViaPopup":case"linkViaRedirect":return Cb;case"reauthViaPopup":case"reauthViaRedirect":return Ib;default:Wn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new wl(2e3,1e4);class Hs extends QT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ab.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="pendingRedirect",Du=new Map;class Pb extends QT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const r=await kb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kb(t,e){const n=Nb(e),r=bb(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xb(t,e){Du.set(t._key(),e)}function bb(t){return Rr(t._redirectPersistence)}function Nb(t){return Ou(Rb,t.config.apiKey,t.name)}async function Ob(t,e,n=!1){if(ir(t.app))return Promise.reject(kr(t));const r=ws(t),i=Tb(r,e),o=await new Pb(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=10*60*1e3;class Lb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Db&&this.cachedEventUids.clear(),this.cachedEventUids.has(u_(e))}saveEventToCache(e){this.cachedEventUids.add(u_(e)),this.lastProcessedEventTime=Date.now()}}function u_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fb=/^https?/;async function Ub(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jb(t);for(const n of e)try{if(Bb(n))return}catch{}Wn(t,"unauthorized-domain")}function Bb(t){const e=Gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fb.test(n))return!1;if(Vb.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new wl(3e4,6e4);function c_(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $b(t){return new Promise((e,n)=>{var r,i,s;function o(){c_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c_(),n(cr(t,"network-request-failed"))},timeout:zb.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dr().gapi)===null||s===void 0)&&s.load)o();else{const l=Lx("iframefcb");return dr()[l]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},LT(`${Dx()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function qb(t){return Lu=Lu||$b(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new wl(5e3,15e3),Hb="__/auth/iframe",Kb="emulator/auth/iframe",Gb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yb(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pm(e,Kb):`https://${t.config.authDomain}/${Hb}`,r={apiKey:e.apiKey,appName:t.name,v:_s},i=Qb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_l(r).slice(1)}`}async function Xb(t){const e=await qb(t),n=dr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:Yb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),l=dr().setTimeout(()=>{s(o)},Wb.get());function u(){dr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zb=500,eN=600,tN="_blank",nN="http://localhost";class d_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rN(t,e,n,r=Zb,i=eN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Jb),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();n&&(l=PT(c)?tN:n),RT(c)&&(e=e||nN,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[w,S])=>`${g}${w}=${S},`,"");if(Ix(c)&&l!=="_self")return iN(e||"",l),new d_(null);const p=window.open(e||"",l,d);he(p,t,"popup-blocked");try{p.focus()}catch{}return new d_(p)}function iN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="__/auth/handler",oN="emulator/auth/handler",aN=encodeURIComponent("fac");async function h_(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:i};if(e instanceof jT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Tl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${aN}=${encodeURIComponent(u)}`:"";return`${lN(t)}?${_l(l).slice(1)}${c}`}function lN({config:t}){return t.emulator?Pm(t,oN):`https://${t.authDomain}/${sN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="webStorageSupport";class uN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=Ob,this._overrideRedirectResult=xb}async _openPopup(e,n,r,i){var s;Lr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await h_(e,n,r,Gf(),i);return rN(e,o,Om())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h_(e,n,r,Gf(),i);return hb(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xb(e),r=new Lb(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Oh,{type:Oh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Oh];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ub(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OT()||xm()||sd()}}const cN=uN;var f_="@firebase/auth",p_="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(t){ls(new Ci("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(t)},c=new bx(r,i,s,u);return Ux(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ls(new Ci("auth-internal",e=>{const n=ws(e.getProvider("auth").getImmediate());return(r=>new dN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(f_,p_,hN(t)),ur(f_,p_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=5*60,mN=dT("authIdTokenMaxAge")||pN;let m_=null;const gN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mN)return;const i=n==null?void 0:n.token;m_!==i&&(m_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yN(t=Cm()){const e=id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fx(t,{popupRedirectResolver:cN,persistence:[Eb,ub,qT]}),r=dT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gN(s.toString());ib(n,o,()=>o(n.currentUser)),rb(n,l=>o(l))}}const i=lT("auth");return i&&Bx(n,`http://${i}`),n}function vN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Nx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");var g_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,XT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function C(){}C.prototype=v.prototype,I.D=v.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(P,N,D){for(var k=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)k[ne-2]=arguments[ne];return v.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,C){C||(C=0);var P=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)P[N]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(N=0;16>N;++N)P[N]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=I.g[0],C=I.g[1],N=I.g[2];var D=I.g[3],k=v+(D^C&(N^D))+P[0]+3614090360&4294967295;v=C+(k<<7&4294967295|k>>>25),k=D+(N^v&(C^N))+P[1]+3905402710&4294967295,D=v+(k<<12&4294967295|k>>>20),k=N+(C^D&(v^C))+P[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(v^N&(D^v))+P[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=v+(D^C&(N^D))+P[4]+4118548399&4294967295,v=C+(k<<7&4294967295|k>>>25),k=D+(N^v&(C^N))+P[5]+1200080426&4294967295,D=v+(k<<12&4294967295|k>>>20),k=N+(C^D&(v^C))+P[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(v^N&(D^v))+P[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=v+(D^C&(N^D))+P[8]+1770035416&4294967295,v=C+(k<<7&4294967295|k>>>25),k=D+(N^v&(C^N))+P[9]+2336552879&4294967295,D=v+(k<<12&4294967295|k>>>20),k=N+(C^D&(v^C))+P[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(v^N&(D^v))+P[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=v+(D^C&(N^D))+P[12]+1804603682&4294967295,v=C+(k<<7&4294967295|k>>>25),k=D+(N^v&(C^N))+P[13]+4254626195&4294967295,D=v+(k<<12&4294967295|k>>>20),k=N+(C^D&(v^C))+P[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=C+(v^N&(D^v))+P[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=v+(N^D&(C^N))+P[1]+4129170786&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(v^C))+P[6]+3225465664&4294967295,D=v+(k<<9&4294967295|k>>>23),k=N+(v^C&(D^v))+P[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(N^D))+P[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=v+(N^D&(C^N))+P[5]+3593408605&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(v^C))+P[10]+38016083&4294967295,D=v+(k<<9&4294967295|k>>>23),k=N+(v^C&(D^v))+P[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(N^D))+P[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=v+(N^D&(C^N))+P[9]+568446438&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(v^C))+P[14]+3275163606&4294967295,D=v+(k<<9&4294967295|k>>>23),k=N+(v^C&(D^v))+P[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(N^D))+P[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=v+(N^D&(C^N))+P[13]+2850285829&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^N&(v^C))+P[2]+4243563512&4294967295,D=v+(k<<9&4294967295|k>>>23),k=N+(v^C&(D^v))+P[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(N^D))+P[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=v+(C^N^D)+P[5]+4294588738&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^N)+P[8]+2272392833&4294967295,D=v+(k<<11&4294967295|k>>>21),k=N+(D^v^C)+P[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^v)+P[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=v+(C^N^D)+P[1]+2763975236&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^N)+P[4]+1272893353&4294967295,D=v+(k<<11&4294967295|k>>>21),k=N+(D^v^C)+P[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^v)+P[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=v+(C^N^D)+P[13]+681279174&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^N)+P[0]+3936430074&4294967295,D=v+(k<<11&4294967295|k>>>21),k=N+(D^v^C)+P[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^v)+P[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=v+(C^N^D)+P[9]+3654602809&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^N)+P[12]+3873151461&4294967295,D=v+(k<<11&4294967295|k>>>21),k=N+(D^v^C)+P[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=C+(N^D^v)+P[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=v+(N^(C|~D))+P[0]+4096336452&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~N))+P[7]+1126891415&4294967295,D=v+(k<<10&4294967295|k>>>22),k=N+(v^(D|~C))+P[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~v))+P[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=v+(N^(C|~D))+P[12]+1700485571&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~N))+P[3]+2399980690&4294967295,D=v+(k<<10&4294967295|k>>>22),k=N+(v^(D|~C))+P[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~v))+P[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=v+(N^(C|~D))+P[8]+1873313359&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~N))+P[15]+4264355552&4294967295,D=v+(k<<10&4294967295|k>>>22),k=N+(v^(D|~C))+P[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~v))+P[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=v+(N^(C|~D))+P[4]+4149444226&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~N))+P[11]+3174756917&4294967295,D=v+(k<<10&4294967295|k>>>22),k=N+(v^(D|~C))+P[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=C+(D^(N|~v))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var C=v-this.blockSize,P=this.B,N=this.h,D=0;D<v;){if(N==0)for(;D<=C;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<v;)if(P[N++]=I.charCodeAt(D++),N==this.blockSize){i(this,P),N=0;break}}else for(;D<v;)if(P[N++]=I[D++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var C=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=C&255,C/=256;for(this.u(I),I=Array(16),v=C=0;4>v;++v)for(var P=0;32>P;P+=8)I[C++]=this.g[v]>>>P&255;return I};function s(I,v){var C=l;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=v(I)}function o(I,v){this.h=v;for(var C=[],P=!0,N=I.length-1;0<=N;N--){var D=I[N]|0;P&&D==v||(C[N]=D,P=!1)}this.g=C}var l={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return x(c(-I));for(var v=[],C=1,P=0;I>=C;P++)v[P]=I/C|0,C*=4294967296;return new o(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return x(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),P=p,N=0;N<I.length;N+=8){var D=Math.min(8,I.length-N),k=parseInt(I.substring(N,N+D),v);8>D?(D=c(Math.pow(v,D)),P=P.j(D).add(c(k))):(P=P.j(C),P=P.add(c(k)))}return P}var p=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-x(this).m();for(var I=0,v=1,C=0;C<this.g.length;C++){var P=this.i(C);I+=(0<=P?P:4294967296+P)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(A(this))return"-"+x(this).toString(I);for(var v=c(Math.pow(I,6)),C=this,P="";;){var N=O(C,v).g;C=E(C,N.j(v));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=N,S(C))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=E(this,I),A(I)?-1:S(I)?0:1};function x(I){for(var v=I.g.length,C=[],P=0;P<v;P++)C[P]=~I.g[P];return new o(C,~I.h).add(g)}t.abs=function(){return A(this)?x(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0,N=0;N<=v;N++){var D=P+(this.i(N)&65535)+(I.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=k>>>16,D&=65535,k&=65535,C[N]=k<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(I,v){return I.add(x(v))}t.j=function(I){if(S(this)||S(I))return p;if(A(this))return A(I)?x(this).j(x(I)):x(x(this).j(I));if(A(I))return x(this.j(x(I)));if(0>this.l(w)&&0>I.l(w))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,C=[],P=0;P<2*v;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<I.g.length;N++){var D=this.i(P)>>>16,k=this.i(P)&65535,ne=I.i(N)>>>16,we=I.i(N)&65535;C[2*P+2*N]+=k*we,_(C,2*P+2*N),C[2*P+2*N+1]+=D*we,_(C,2*P+2*N+1),C[2*P+2*N+1]+=k*ne,_(C,2*P+2*N+1),C[2*P+2*N+2]+=D*ne,_(C,2*P+2*N+2)}for(P=0;P<v;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=v;P<2*v;P++)C[P]=0;return new o(C,0)};function _(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function y(I,v){this.g=I,this.h=v}function O(I,v){if(S(v))throw Error("division by zero");if(S(I))return new y(p,p);if(A(I))return v=O(x(I),v),new y(x(v.g),x(v.h));if(A(v))return v=O(I,x(v)),new y(x(v.g),v.h);if(30<I.g.length){if(A(I)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var C=g,P=v;0>=P.l(I);)C=M(C),P=M(P);var N=U(C,1),D=U(P,1);for(P=U(P,2),C=U(C,2);!S(P);){var k=D.add(P);0>=k.l(I)&&(N=N.add(C),D=k),P=U(P,1),C=U(C,1)}return v=E(I,N.j(v)),new y(N,v)}for(N=p;0<=I.l(v);){for(C=Math.max(1,Math.floor(I.m()/v.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(C),k=D.j(v);A(k)||0<k.l(I);)C-=P,D=c(C),k=D.j(v);S(D)&&(D=g),N=N.add(D),I=E(I,k)}return new y(N,I)}t.A=function(I){return O(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)&I.i(P);return new o(C,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)|I.i(P);return new o(C,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)^I.i(P);return new o(C,this.h^I.h)};function M(I){for(var v=I.g.length+1,C=[],P=0;P<v;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(C,I.h)}function U(I,v){var C=v>>5;v%=32;for(var P=I.g.length-C,N=[],D=0;D<P;D++)N[D]=0<v?I.i(D+C)>>>v|I.i(D+C+1)<<32-v:I.i(D+C);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Xi=o}).apply(typeof g_<"u"?g_:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,ZT,ha,e1,Mu,Jf,t1,n1,r1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,m){return a==Array.prototype||a==Object.prototype||(a[h]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var m=r;a=a.split(".");for(var T=0;T<a.length-1;T++){var L=a[T];if(!(L in m))break e;m=m[L]}a=a[a.length-1],T=m[a],h=h(T),h!=T&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var m=0,T=!1,L={next:function(){if(!T&&m<a.length){var j=m++;return{value:h(j,a[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,m){return a.call.apply(a.bind,arguments)}function p(a,h,m){if(!a)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),a.apply(h,L)}}return function(){return a.apply(h,arguments)}}function g(a,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function w(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),a.apply(this,T)}}function S(a,h){function m(){}m.prototype=h.prototype,a.aa=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(T,L,j){for(var Y=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Y[Fe-2]=arguments[Fe];return h.prototype[L].apply(T,Y)}}function A(a){const h=a.length;if(0<h){const m=Array(h);for(let T=0;T<h;T++)m[T]=a[T];return m}return[]}function x(a,h){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(u(T)){const L=a.length||0,j=T.length||0;a.length=L+j;for(let Y=0;Y<j;Y++)a[L+Y]=T[Y]}else a.push(T)}}class E{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(a){return/^[\s\xa0]*$/.test(a)}function y(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var M=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function U(a,h,m){for(const T in a)h.call(m,a[T],T,a)}function I(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function v(a){const h={};for(const m in a)h[m]=a[m];return h}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,h){let m,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(m in T)a[m]=T[m];for(let j=0;j<C.length;j++)m=C[j],Object.prototype.hasOwnProperty.call(T,m)&&(a[m]=T[m])}}function N(a){var h=1;a=a.split(":");const m=[];for(;0<h&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function D(a){l.setTimeout(()=>{throw a},0)}function k(){var a=Q;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ne{constructor(){this.h=this.g=null}add(h,m){const T=we.get();T.set(h,m),this.h?this.h.next=T:this.g=T,this.h=T}}var we=new E(()=>new Le,a=>a.reset());class Le{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,Q=new ne,W=()=>{const a=l.Promise.resolve(void 0);K=()=>{a.then(ee)}};var ee=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(m){D(m)}var h=we;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}$=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,h),l.removeEventListener("test",m,h)}catch{}return a}();function Re(a,h){if(pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,T=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(M){e:{try{O(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement);this.relatedTarget=h,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Oe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Re.aa.h.call(this)}}S(Re,pe);var Oe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),_t=0;function Sn(a,h,m,T,L){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!T,this.ha=L,this.key=++_t,this.da=this.fa=!1}function ie(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ve(a){this.src=a,this.g={},this.h=0}ve.prototype.add=function(a,h,m,T,L){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var Y=Ve(a,h,T,L);return-1<Y?(h=a[Y],m||(h.fa=!1)):(h=new Sn(h,this.src,j,!!T,L),h.fa=m,a.push(h)),h};function ke(a,h){var m=h.type;if(m in a.g){var T=a.g[m],L=Array.prototype.indexOf.call(T,h,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(ie(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Ve(a,h,m,T){for(var L=0;L<a.length;++L){var j=a[L];if(!j.da&&j.listener==h&&j.capture==!!m&&j.ha==T)return L}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),qt={};function In(a,h,m,T,L){if(Array.isArray(h)){for(var j=0;j<h.length;j++)In(a,h[j],m,T,L);return null}return m=de(m),a&&a[Ue]?a.K(h,m,c(T)?!!T.capture:!!T,L):gr(a,h,m,!1,T,L)}function gr(a,h,m,T,L,j){if(!h)throw Error("Invalid event type");var Y=c(L)?!!L.capture:!!L,Fe=oe(a);if(Fe||(a[Ge]=Fe=new ve(a)),m=Fe.add(h,m,T,Y,j),m.proxy)return m;if(T=yr(),m.proxy=T,T.src=a,T.listener=m,a.addEventListener)Ee||(L=Y),L===void 0&&(L=!1),a.addEventListener(h.toString(),T,L);else if(a.attachEvent)a.attachEvent(Cn(h.toString()),T);else if(a.addListener&&a.removeListener)a.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function yr(){function a(m){return h.call(a.src,a.listener,m)}const h=Mi;return a}function zr(a,h,m,T,L){if(Array.isArray(h))for(var j=0;j<h.length;j++)zr(a,h[j],m,T,L);else T=c(T)?!!T.capture:!!T,m=de(m),a&&a[Ue]?(a=a.i,h=String(h).toString(),h in a.g&&(j=a.g[h],m=Ve(j,m,T,L),-1<m&&(ie(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete a.g[h],a.h--)))):a&&(a=oe(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Ve(h,m,T,L)),(m=-1<a?h[a]:null)&&vr(m))}function vr(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Ue])ke(h.i,a);else{var m=a.type,T=a.proxy;h.removeEventListener?h.removeEventListener(m,T,a.capture):h.detachEvent?h.detachEvent(Cn(m),T):h.addListener&&h.removeListener&&h.removeListener(T),(m=oe(h))?(ke(m,a),m.h==0&&(m.src=null,h[Ge]=null)):ie(a)}}}function Cn(a){return a in qt?qt[a]:qt[a]="on"+a}function Mi(a,h){if(a.da)a=!0;else{h=new Re(h,this);var m=a.listener,T=a.ha||a.src;a.fa&&vr(a),a=m.call(T,h)}return a}function oe(a){return a=a[Ge],a instanceof ve?a:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(a){return typeof a=="function"?a:(a[ue]||(a[ue]=function(h){return a.handleEvent(h)}),a[ue])}function ge(){se.call(this),this.i=new ve(this),this.M=this,this.F=null}S(ge,se),ge.prototype[Ue]=!0,ge.prototype.removeEventListener=function(a,h,m,T){zr(this,a,h,m,T)};function be(a,h){var m,T=a.F;if(T)for(m=[];T;T=T.F)m.push(T);if(a=a.M,T=h.type||h,typeof h=="string")h=new pe(h,a);else if(h instanceof pe)h.target=h.target||a;else{var L=h;h=new pe(T,a),P(h,L)}if(L=!0,m)for(var j=m.length-1;0<=j;j--){var Y=h.g=m[j];L=Wt(Y,T,!0,h)&&L}if(Y=h.g=a,L=Wt(Y,T,!0,h)&&L,L=Wt(Y,T,!1,h)&&L,m)for(j=0;j<m.length;j++)Y=h.g=m[j],L=Wt(Y,T,!1,h)&&L}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var m=a.g[h],T=0;T<m.length;T++)ie(m[T]);delete a.g[h],a.h--}}this.F=null},ge.prototype.K=function(a,h,m,T){return this.i.add(String(a),h,!1,m,T)},ge.prototype.L=function(a,h,m,T){return this.i.add(String(a),h,!0,m,T)};function Wt(a,h,m,T){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,j=0;j<h.length;++j){var Y=h[j];if(Y&&!Y.da&&Y.capture==m){var Fe=Y.listener,Ct=Y.ha||Y.src;Y.fa&&ke(a.i,Y),L=Fe.call(Ct,T)!==!1&&L}}return L&&!T.defaultPrevented}function b(a,h,m){if(typeof a=="function")m&&(a=g(a,m));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function F(a){a.g=b(()=>{a.g=null,a.i&&(a.i=!1,F(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Z extends se{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:F(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B(a){se.call(this),this.h=a,this.g={}}S(B,se);var ae=[];function ce(a){U(a.g,function(h,m){this.g.hasOwnProperty(m)&&vr(h)},a),a.g={}}B.prototype.N=function(){B.aa.N.call(this),ce(this)},B.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=l.JSON.stringify,ot=l.JSON.parse,J=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ye(){}Ye.prototype.h=null;function tn(a){return a.h||(a.h=a.i())}function Jn(){}var Mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ud(){pe.call(this,"d")}S(Ud,pe);function Bd(){pe.call(this,"c")}S(Bd,pe);var ji={},Mg=null;function Dl(){return Mg=Mg||new ge}ji.La="serverreachability";function jg(a){pe.call(this,ji.La,a)}S(jg,pe);function jo(a){const h=Dl();be(h,new jg(h))}ji.STAT_EVENT="statevent";function Vg(a,h){pe.call(this,ji.STAT_EVENT,a),this.stat=h}S(Vg,pe);function Ht(a){const h=Dl();be(h,new Vg(h,a))}ji.Ma="timingevent";function Fg(a,h){pe.call(this,ji.Ma,a),this.size=h}S(Fg,pe);function Vo(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Fo(){this.g=!0}Fo.prototype.xa=function(){this.g=!1};function bI(a,h,m,T,L,j){a.info(function(){if(a.g)if(j)for(var Y="",Fe=j.split("&"),Ct=0;Ct<Fe.length;Ct++){var Ne=Fe[Ct].split("=");if(1<Ne.length){var Ot=Ne[0];Ne=Ne[1];var Dt=Ot.split("_");Y=2<=Dt.length&&Dt[1]=="type"?Y+(Ot+"="+Ne+"&"):Y+(Ot+"=redacted&")}}else Y=null;else Y=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+h+`
`+m+`
`+Y})}function NI(a,h,m,T,L,j,Y){a.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+h+`
`+m+`
`+j+" "+Y})}function Cs(a,h,m,T){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+DI(a,m)+(T?" "+T:"")})}function OI(a,h){a.info(function(){return"TIMEOUT: "+h})}Fo.prototype.info=function(){};function DI(a,h){if(!a.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var T=m[a];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return qe(m)}catch{return h}}var Ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ug={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zd;function Ml(){}S(Ml,Ye),Ml.prototype.g=function(){return new XMLHttpRequest},Ml.prototype.i=function(){return{}},zd=new Ml;function $r(a,h,m,T){this.j=a,this.i=h,this.l=m,this.R=T||1,this.U=new B(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bg}function Bg(){this.i=null,this.g="",this.h=!1}var zg={},$d={};function qd(a,h,m){a.L=1,a.v=Ul(_r(h)),a.m=m,a.P=!0,$g(a,null)}function $g(a,h){a.F=Date.now(),jl(a),a.A=_r(a.v);var m=a.A,T=a.R;Array.isArray(T)||(T=[String(T)]),ry(m.i,"t",T),a.C=0,m=a.j.J,a.h=new Bg,a.g=Ey(a.j,m?h:null,!a.m),0<a.O&&(a.M=new Z(g(a.Y,a,a.g),a.O)),h=a.U,m=a.g,T=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(ae[0]=L.toString()),L=ae);for(var j=0;j<L.length;j++){var Y=In(m,L[j],T||h.handleEvent,!1,h.h||h);if(!Y)break;h.g[Y.key]=Y}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),jo(),bI(a.i,a.u,a.A,a.l,a.R,a.m)}$r.prototype.ca=function(a){a=a.target;const h=this.M;h&&wr(a)==3?h.j():this.Y(a)},$r.prototype.Y=function(a){try{if(a==this.g)e:{const Dt=wr(this.g);var h=this.g.Ba();const Ps=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||cy(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=Ps?jo(3):jo(2)),Wd(this);var m=this.g.Z();this.X=m;t:if(qg(this)){var T=cy(this.g);a="";var L=T.length,j=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),Uo(this);var Y="";break t}this.h.i=new l.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,a+=this.h.i.decode(T[h],{stream:!(j&&h==L-1)});T.length=0,this.h.g+=a,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,NI(this.i,this.u,this.A,this.l,this.R,Dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Ct=this.g;if((Fe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Fe)){var Ne=Fe;break t}}Ne=null}if(m=Ne)Cs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hd(this,m);else{this.o=!1,this.s=3,Ht(12),Vi(this),Uo(this);break e}}if(this.P){m=!0;let Dn;for(;!this.J&&this.C<Y.length;)if(Dn=LI(this,Y),Dn==$d){Dt==4&&(this.s=4,Ht(14),m=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==zg){this.s=4,Ht(15),Cs(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else Cs(this.i,this.l,Dn,null),Hd(this,Dn);if(qg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||Y.length!=0||this.h.h||(this.s=1,Ht(16),m=!1),this.o=this.o&&m,!m)Cs(this.i,this.l,Y,"[Invalid Chunked Response]"),Vi(this),Uo(this);else if(0<Y.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Jd(Ot),Ot.M=!0,Ht(11))}}else Cs(this.i,this.l,Y,null),Hd(this,Y);Dt==4&&Vi(this),this.o&&!this.J&&(Dt==4?yy(this.j,this):(this.o=!1,jl(this)))}else JI(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Vi(this),Uo(this)}}}catch{}finally{}};function qg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function LI(a,h){var m=a.C,T=h.indexOf(`
`,m);return T==-1?$d:(m=Number(h.substring(m,T)),isNaN(m)?zg:(T+=1,T+m>h.length?$d:(h=h.slice(T,T+m),a.C=T+m,h)))}$r.prototype.cancel=function(){this.J=!0,Vi(this)};function jl(a){a.S=Date.now()+a.I,Wg(a,a.I)}function Wg(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Vo(g(a.ba,a),h)}function Wd(a){a.B&&(l.clearTimeout(a.B),a.B=null)}$r.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(OI(this.i,this.A),this.L!=2&&(jo(),Ht(17)),Vi(this),this.s=2,Uo(this)):Wg(this,this.S-a)};function Uo(a){a.j.G==0||a.J||yy(a.j,a)}function Vi(a){Wd(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,ce(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Hd(a,h){try{var m=a.j;if(m.G!=0&&(m.g==a||Kd(m.h,a))){if(!a.K&&Kd(m.h,a)&&m.G==3){try{var T=m.Da.g.parse(h)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Wl(m),$l(m);else break e;Xd(m),Ht(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=Vo(g(m.Za,m),6e3));if(1>=Gg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ui(m,11)}else if((a.K||m.g==a)&&Wl(m),!_(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let Ne=L[h];if(m.T=Ne[0],Ne=Ne[1],m.G==2)if(Ne[0]=="c"){m.K=Ne[1],m.ia=Ne[2];const Ot=Ne[3];Ot!=null&&(m.la=Ot,m.j.info("VER="+m.la));const Dt=Ne[4];Dt!=null&&(m.Aa=Dt,m.j.info("SVER="+m.Aa));const Ps=Ne[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(T=1.5*Ps,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const Dn=a.g;if(Dn){const Kl=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var j=T.h;j.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Gd(j,j.h),j.h=null))}if(T.D){const Zd=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zd&&(T.ya=Zd,We(T.I,T.D,Zd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var Y=a;if(T.qa=wy(T,T.J?T.ia:null,T.W),Y.K){Qg(T.h,Y);var Fe=Y,Ct=T.L;Ct&&(Fe.I=Ct),Fe.B&&(Wd(Fe),jl(Fe)),T.g=Y}else my(T);0<m.i.length&&ql(m)}else Ne[0]!="stop"&&Ne[0]!="close"||Ui(m,7);else m.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ui(m,7):Yd(m):Ne[0]!="noop"&&m.l&&m.l.ta(Ne),m.v=0)}}jo(4)}catch{}}var MI=class{constructor(a,h){this.g=a,this.map=h}};function Hg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Gg(a){return a.h?1:a.g?a.g.size:0}function Kd(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Gd(a,h){a.g?a.g.add(h):a.h=h}function Qg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Hg.prototype.cancel=function(){if(this.i=Yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Yg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.D);return h}return A(a.i)}function jI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],m=a.length,T=0;T<m;T++)h.push(a[T]);return h}h=[],m=0;for(T in a)h[m++]=a[T];return h}function VI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var m=0;m<a;m++)h.push(m);return h}h=[],m=0;for(const T in a)h[m++]=T;return h}}}function Xg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var m=VI(a),T=jI(a),L=T.length,j=0;j<L;j++)h.call(void 0,T[j],m&&m[j],a)}var Jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FI(a,h){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var T=a[m].indexOf("="),L=null;if(0<=T){var j=a[m].substring(0,T);L=a[m].substring(T+1)}else j=a[m];h(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Fi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fi){this.h=a.h,Vl(this,a.j),this.o=a.o,this.g=a.g,Fl(this,a.s),this.l=a.l;var h=a.i,m=new $o;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Zg(this,m),this.m=a.m}else a&&(h=String(a).match(Jg))?(this.h=!1,Vl(this,h[1]||"",!0),this.o=Bo(h[2]||""),this.g=Bo(h[3]||"",!0),Fl(this,h[4]),this.l=Bo(h[5]||"",!0),Zg(this,h[6]||"",!0),this.m=Bo(h[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}Fi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(zo(h,ey,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(zo(h,ey,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(zo(m,m.charAt(0)=="/"?zI:BI,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",zo(m,qI)),a.join("")};function _r(a){return new Fi(a)}function Vl(a,h,m){a.j=m?Bo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Fl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Zg(a,h,m){h instanceof $o?(a.i=h,WI(a.i,a.h)):(m||(h=zo(h,$I)),a.i=new $o(h,a.h))}function We(a,h,m){a.i.set(h,m)}function Ul(a){return We(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zo(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,UI),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function UI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ey=/[#\/\?@]/g,BI=/[#\?:]/g,zI=/[#\?]/g,$I=/[#\?@]/g,qI=/#/g;function $o(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function qr(a){a.g||(a.g=new Map,a.h=0,a.i&&FI(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=$o.prototype,t.add=function(a,h){qr(this),this.i=null,a=As(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function ty(a,h){qr(a),h=As(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ny(a,h){return qr(a),h=As(a,h),a.g.has(h)}t.forEach=function(a,h){qr(this),this.g.forEach(function(m,T){m.forEach(function(L){a.call(h,L,T,this)},this)},this)},t.na=function(){qr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let T=0;T<h.length;T++){const L=a[T];for(let j=0;j<L.length;j++)m.push(h[T])}return m},t.V=function(a){qr(this);let h=[];if(typeof a=="string")ny(this,a)&&(h=h.concat(this.g.get(As(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)h=h.concat(a[m])}return h},t.set=function(a,h){return qr(this),this.i=null,a=As(this,a),ny(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ry(a,h,m){ty(a,h),0<m.length&&(a.i=null,a.g.set(As(a,h),A(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var T=h[m];const j=encodeURIComponent(String(T)),Y=this.V(T);for(T=0;T<Y.length;T++){var L=j;Y[T]!==""&&(L+="="+encodeURIComponent(String(Y[T]))),a.push(L)}}return this.i=a.join("&")};function As(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function WI(a,h){h&&!a.j&&(qr(a),a.i=null,a.g.forEach(function(m,T){var L=T.toLowerCase();T!=L&&(ty(this,T),ry(this,L,m))},a)),a.j=h}function HI(a,h){const m=new Fo;if(l.Image){const T=new Image;T.onload=w(Wr,m,"TestLoadImage: loaded",!0,h,T),T.onerror=w(Wr,m,"TestLoadImage: error",!1,h,T),T.onabort=w(Wr,m,"TestLoadImage: abort",!1,h,T),T.ontimeout=w(Wr,m,"TestLoadImage: timeout",!1,h,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=a}else h(!1)}function KI(a,h){const m=new Fo,T=new AbortController,L=setTimeout(()=>{T.abort(),Wr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?Wr(m,"TestPingServer: ok",!0,h):Wr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Wr(m,"TestPingServer: error",!1,h)})}function Wr(a,h,m,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(m)}catch{}}function GI(){this.g=new J}function QI(a,h,m){const T=m||"";try{Xg(a,function(L,j){let Y=L;c(L)&&(Y=qe(L)),h.push(T+j+"="+encodeURIComponent(Y))})}catch(L){throw h.push(T+"type="+encodeURIComponent("_badmap")),L}}function qo(a){this.l=a.Ub||null,this.j=a.eb||!1}S(qo,Ye),qo.prototype.g=function(){return new Bl(this.l,this.j)},qo.prototype.i=function(a){return function(){return a}}({});function Bl(a,h){ge.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Bl,ge),t=Bl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Ho(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function iy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Wo(this):Ho(this),this.readyState==3&&iy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Wo(this))},t.Qa=function(a){this.g&&(this.response=a,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ho(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function Ho(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function sy(a){let h="";return U(a,function(m,T){h+=T,h+=":",h+=m,h+=`\r
`}),h}function Qd(a,h,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=sy(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):We(a,h,m))}function tt(a){ge.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(tt,ge);var YI=/^https?$/i,XI=["POST","PUT"];t=tt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zd.g(),this.v=this.o?tn(this.o):tn(zd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(j){oy(this,j);return}if(a=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)m.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())m.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(XI,h,void 0))||T||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Y]of m)this.g.setRequestHeader(j,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uy(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){oy(this,j)}};function oy(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,ay(a),zl(a)}function ay(a){a.A||(a.A=!0,be(a,"complete"),be(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,be(this,"complete"),be(this,"abort"),zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ly(this):this.bb())},t.bb=function(){ly(this)};function ly(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wr(a)!=4||a.Z()!=2)){if(a.u&&wr(a)==4)b(a.Ea,0,a);else if(be(a,"readystatechange"),wr(a)==4){a.h=!1;try{const Y=a.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var T;if(T=Y===0){var L=String(a.D).match(Jg)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),T=!YI.test(L?L.toLowerCase():"")}m=T}if(m)be(a,"complete"),be(a,"success");else{a.m=6;try{var j=2<wr(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",ay(a)}}finally{zl(a)}}}}function zl(a,h){if(a.g){uy(a);const m=a.g,T=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||be(a,"ready");try{m.onreadystatechange=T}catch{}}}function uy(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),ot(h)}};function cy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function JI(a){const h={};a=(a.g&&2<=wr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<a.length;T++){if(_(a[T]))continue;var m=N(a[T]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=h[L]||[];h[L]=j,j.push(m)}I(h,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function dy(a){this.Aa=0,this.i=[],this.j=new Fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,a),this.cb=Ko("retryDelaySeedMs",1e4,a),this.Wa=Ko("forwardChannelMaxRetries",2,a),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Hg(a&&a.concurrentRequestLimit),this.Da=new GI,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dy.prototype,t.la=8,t.G=1,t.connect=function(a,h,m,T){Ht(0),this.W=a,this.H=h||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=wy(this,null,this.W),ql(this)};function Yd(a){if(hy(a),a.G==3){var h=a.U++,m=_r(a.I);if(We(m,"SID",a.K),We(m,"RID",h),We(m,"TYPE","terminate"),Go(a,m),h=new $r(a,a.j,h),h.L=2,h.v=Ul(_r(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=h.v,m=!0),m||(h.g=Ey(h.j,null),h.g.ea(h.v)),h.F=Date.now(),jl(h)}_y(a)}function $l(a){a.g&&(Jd(a),a.g.cancel(),a.g=null)}function hy(a){$l(a),a.u&&(l.clearTimeout(a.u),a.u=null),Wl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ql(a){if(!Kg(a.h)&&!a.s){a.s=!0;var h=a.Ga;K||W(),$||(K(),$=!0),Q.add(h,a),a.B=0}}function ZI(a,h){return Gg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Vo(g(a.Ga,a,h),vy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new $r(this,this.j,a);let j=this.o;if(this.S&&(j?(j=v(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(h+=T,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=py(this,L,h),m=_r(this.I),We(m,"RID",a),We(m,"CVER",22),this.D&&We(m,"X-HTTP-Session-Id",this.D),Go(this,m),j&&(this.O?h="headers="+encodeURIComponent(String(sy(j)))+"&"+h:this.m&&Qd(m,this.m,j)),Gd(this.h,L),this.Ua&&We(m,"TYPE","init"),this.P?(We(m,"$req",h),We(m,"SID","null"),L.T=!0,qd(L,m,null)):qd(L,m,h),this.G=2}}else this.G==3&&(a?fy(this,a):this.i.length==0||Kg(this.h)||fy(this))};function fy(a,h){var m;h?m=h.l:m=a.U++;const T=_r(a.I);We(T,"SID",a.K),We(T,"RID",m),We(T,"AID",a.T),Go(a,T),a.m&&a.o&&Qd(T,a.m,a.o),m=new $r(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),h&&(a.i=h.D.concat(a.i)),h=py(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Gd(a.h,m),qd(m,T,h)}function Go(a,h){a.H&&U(a.H,function(m,T){We(h,T,m)}),a.l&&Xg({},function(m,T){We(h,T,m)})}function py(a,h,m){m=Math.min(a.i.length,m);var T=a.l?g(a.l.Na,a.l,a):null;e:{var L=a.i;let j=-1;for(;;){const Y=["count="+m];j==-1?0<m?(j=L[0].g,Y.push("ofs="+j)):j=0:Y.push("ofs="+j);let Fe=!0;for(let Ct=0;Ct<m;Ct++){let Ne=L[Ct].g;const Ot=L[Ct].map;if(Ne-=j,0>Ne)j=Math.max(0,L[Ct].g-100),Fe=!1;else try{QI(Ot,Y,"req"+Ne+"_")}catch{T&&T(Ot)}}if(Fe){T=Y.join("&");break e}}}return a=a.i.splice(0,m),h.D=a,T}function my(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;K||W(),$||(K(),$=!0),Q.add(h,a),a.v=0}}function Xd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Vo(g(a.Fa,a),vy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,gy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Vo(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),$l(this),gy(this))};function Jd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function gy(a){a.g=new $r(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=_r(a.qa);We(h,"RID","rpc"),We(h,"SID",a.K),We(h,"AID",a.T),We(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&We(h,"TO",a.ja),We(h,"TYPE","xmlhttp"),Go(a,h),a.m&&a.o&&Qd(h,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Ul(_r(h)),m.m=null,m.P=!0,$g(m,a)}t.Za=function(){this.C!=null&&(this.C=null,$l(this),Xd(this),Ht(19))};function Wl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function yy(a,h){var m=null;if(a.g==h){Wl(a),Jd(a),a.g=null;var T=2}else if(Kd(a.h,h))m=h.D,Qg(a.h,h),T=1;else return;if(a.G!=0){if(h.o)if(T==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=a.B;T=Dl(),be(T,new Fg(T,m)),ql(a)}else my(a);else if(L=h.s,L==3||L==0&&0<h.X||!(T==1&&ZI(a,h)||T==2&&Xd(a)))switch(m&&0<m.length&&(h=a.h,h.i=h.i.concat(m)),L){case 1:Ui(a,5);break;case 4:Ui(a,10);break;case 3:Ui(a,6);break;default:Ui(a,2)}}}function vy(a,h){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*h}function Ui(a,h){if(a.j.info("Error code "+h),h==2){var m=g(a.fb,a),T=a.Xa;const L=!T;T=new Fi(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Vl(T,"https"),Ul(T),L?HI(T.toString(),m):KI(T.toString(),m)}else Ht(2);a.G=0,a.l&&a.l.sa(h),_y(a),hy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function _y(a){if(a.G=0,a.ka=[],a.l){const h=Yg(a.h);(h.length!=0||a.i.length!=0)&&(x(a.ka,h),x(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function wy(a,h,m){var T=m instanceof Fi?_r(m):new Fi(m);if(T.g!="")h&&(T.g=h+"."+T.g),Fl(T,T.s);else{var L=l.location;T=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var j=new Fi(null);T&&Vl(j,T),h&&(j.g=h),L&&Fl(j,L),m&&(j.l=m),T=j}return m=a.D,h=a.ya,m&&h&&We(T,m,h),We(T,"VER",a.la),Go(a,T),T}function Ey(a,h,m){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new tt(new qo({eb:m})):new tt(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ty(){}t=Ty.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hl(){}Hl.prototype.g=function(a,h){return new cn(a,h)};function cn(a,h){ge.call(this),this.g=new dy(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!_(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Rs(this)}S(cn,ge),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Yd(this.g)},cn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=qe(a),a=m);h.i.push(new MI(h.Ya++,a)),h.G==3&&ql(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,Yd(this.g),delete this.g,cn.aa.N.call(this)};function Sy(a){Ud.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}S(Sy,Ud);function Iy(){Bd.call(this),this.status=1}S(Iy,Bd);function Rs(a){this.g=a}S(Rs,Ty),Rs.prototype.ua=function(){be(this.g,"a")},Rs.prototype.ta=function(a){be(this.g,new Sy(a))},Rs.prototype.sa=function(a){be(this.g,new Iy)},Rs.prototype.ra=function(){be(this.g,"b")},Hl.prototype.createWebChannel=Hl.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,r1=function(){return new Hl},n1=function(){return Dl()},t1=ji,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ll.NO_ERROR=0,Ll.TIMEOUT=8,Ll.HTTP_ERROR=6,Mu=Ll,Ug.COMPLETE="complete",e1=Ug,Jn.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",ge.prototype.listen=ge.prototype.K,ha=Jn,ZT=qo,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,JT=tt}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const y_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Sm("@firebase/firestore");function ra(){return ds.logLevel}function re(t,...e){if(ds.logLevel<=Ae.DEBUG){const n=e.map(Lm);ds.debug(`Firestore (${bo}): ${t}`,...n)}}function Mr(t,...e){if(ds.logLevel<=Ae.ERROR){const n=e.map(Lm);ds.error(`Firestore (${bo}): ${t}`,...n)}}function fo(t,...e){if(ds.logLevel<=Ae.WARN){const n=e.map(Lm);ds.warn(`Firestore (${bo}): ${t}`,...n)}}function Lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function $e(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class wN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EN{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new i1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Vt(e)}}class TN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new IN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new gt(0,0))}static max(){return new me(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends el{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const RN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends el{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return RN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Be.fromString(e))}static fromName(e){return new le(Be.fromString(e).popFirst(5))}static empty(){return new le(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Be(e.slice()))}}function PN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ai(i,le.empty(),e)}function kN(t){return new Ai(t.readTime,t.key,-1)}class Ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ai(me.min(),le.empty(),-1)}static max(){return new Ai(me.max(),le.empty(),-1)}}function xN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==bN)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ON(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mm.oe=-1;function ud(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function DN(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new xt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new a1("Invalid base64 string: "+s):s}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if($e(!!t),typeof t=="string"){let e=0;const n=LN.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jm(t){const e=t.mapValue.fields.__previous_value__;return cd(e)?jm(e):e}function tl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cd(t)?4:jN(t)?9007199254740991:10:fe()}function pr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tl(t).isEqual(tl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ri(i.timestampValue),l=Ri(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hs(i.bytesValue).isEqual(hs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),l=dt(s.doubleValue);return o===l?Cc(o)===Cc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return po(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(v_(o)!==v_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!pr(o[u],l[u])))return!1;return!0}(t,e);default:return fe()}}function rl(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function mo(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=dt(s.integerValue||s.doubleValue),u=dt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(tl(t),tl(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,o){const l=hs(s),u=hs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=De(l[c],u[c]);if(d!==0)return d}return De(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=De(dt(s.latitude),dt(o.latitude));return l!==0?l:De(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const d=mo(l[c],u[c]);if(d)return d}return De(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===pu.mapValue&&o===pu.mapValue)return 0;if(s===pu.mapValue)return 1;if(o===pu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=De(u[p],d[p]);if(g!==0)return g;const w=mo(l[u[p]],c[d[p]]);if(w!==0)return w}return De(u.length,d.length)}(t.mapValue,e.mapValue);default:throw fe()}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Ri(t),r=Ri(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function go(t){return Zf(t)}function Zf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zf(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function Ac(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ep(t){return!!t&&"integerValue"in t}function Vm(t){return!!t&&"arrayValue"in t}function E_(t){return!!t&&"nullValue"in t}function T_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ju(t){return!!t&&"mapValue"in t}function Ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ra(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ra(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ra(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ra(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rn(Ra(this.value))}}function l1(t){const e=[];return Es(t.fields,(n,r)=>{const i=new Pt([n]);if(ju(r)){const s=l1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ut(e,0,me.min(),me.min(),me.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,me.min(),me.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,me.min(),me.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.position=e,this.inclusive=n}}function S_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n="asc"){this.field=e,this.dir=n}}function VN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{}class ft extends u1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UN(e,n,r):n==="array-contains"?new $N(e,r):n==="in"?new qN(e,r):n==="not-in"?new WN(e,r):n==="array-contains-any"?new HN(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BN(e,r):new zN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends u1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return c1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function c1(t){return t.op==="and"}function d1(t){return FN(t)&&c1(t)}function FN(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function tp(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+go(t.value);if(d1(t))return t.filters.map(e=>tp(e)).join(",");{const e=t.filters.map(n=>tp(n)).join(",");return`${t.op}(${e})`}}function h1(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&h1(o,i.filters[l]),!0):!1}(t,e):void fe()}function f1(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(f1).join(" ,")+"}"}(t):"Filter"}class UN extends ft{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class BN extends ft{constructor(e,n){super(e,"in",n),this.keys=p1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zN extends ft{constructor(e,n){super(e,"not-in",n),this.keys=p1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class $N extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&rl(n.arrayValue,this.value)}}class qN extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class WN extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class HN extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function C_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new KN(t,e,n,r,i,s,o)}function Fm(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function Um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function np(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GN(t,e,n,r,i,s,o,l){return new Ts(t,e,n,r,i,s,o,l)}function Bm(t){return new Ts(t)}function A_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zm(t){return t.collectionGroup!==null}function no(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xt(Pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new il(s,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new il(Pt.keyField(),r))}return e.ce}function hr(t){const e=ye(t);return e.le||(e.le=QN(e,no(t))),e.le}function QN(t,e){if(t.limitType==="F")return C_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new il(i.field,s)});const n=t.endAt?new yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yo(t.startAt.position,t.startAt.inclusive):null;return C_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rp(t,e){const n=t.filters.concat([e]);return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rc(t,e,n){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Um(hr(t),hr(e))&&t.limitType===e.limitType}function m1(t){return`${Fm(hr(t))}|lt:${t.limitType}`}function bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>f1(i)).join(", ")}]`),ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of no(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=S_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,no(r),i)||r.endAt&&!function(o,l,u){const c=S_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,no(r),i))}(t,e)}function YN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g1(t){return(e,n)=>{let r=!1;for(const i of no(t)){const s=XN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XN(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?mo(u,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new et(le.comparator);function jr(){return JN}const y1=new et(le.comparator);function fa(...t){let e=y1;for(const n of t)e=e.insert(n.key,n);return e}function v1(t){let e=y1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return Pa()}function _1(){return Pa()}function Pa(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZN=new et(le.comparator),e2=new xt(le.comparator);function Ie(...t){let e=e2;for(const n of t)e=e.add(n);return e}const t2=new xt(De);function n2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function E1(t){return{integerValue:""+t}}function r2(t,e){return DN(e)?E1(e):w1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function i2(t,e,n){return t instanceof Pc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cd(s)&&(s=jm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sl?S1(t,e):t instanceof ol?I1(t,e):function(i,s){const o=T1(i,s),l=R_(o)+R_(i.Pe);return ep(o)&&ep(i.Pe)?E1(l):w1(i.serializer,l)}(t,e)}function s2(t,e,n){return t instanceof sl?S1(t,e):t instanceof ol?I1(t,e):n}function T1(t,e){return t instanceof kc?function(r){return ep(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pc extends fd{}class sl extends fd{constructor(e){super(),this.elements=e}}function S1(t,e){const n=C1(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends fd{constructor(e){super(),this.elements=e}}function I1(t,e){let n=C1(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class kc extends fd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function R_(t){return dt(t.integerValue||t.doubleValue)}function C1(t){return Vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function o2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sl&&i instanceof sl||r instanceof ol&&i instanceof ol?po(r.elements,i.elements,pr):r instanceof kc&&i instanceof kc?pr(r.Pe,i.Pe):r instanceof Pc&&i instanceof Pc}(t.transform,e.transform)}class a2{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function A1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $m(t.key,xn.none()):new Al(t.key,t.data,xn.none());{const n=t.data,r=rn.empty();let i=new xt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Li(t.key,r,new pn(i.toArray()),xn.none())}}function l2(t,e,n){t instanceof Al?function(i,s,o){const l=i.value.clone(),u=k_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(i,s,o){if(!Vu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=k_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(R1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ka(t,e,n,r){return t instanceof Al?function(s,o,l,u){if(!Vu(s.precondition,o))return l;const c=s.value.clone(),d=x_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(s,o,l,u){if(!Vu(s.precondition,o))return l;const c=x_(s.fieldTransforms,u,o),d=o.data;return d.setAll(R1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Vu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function u2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T1(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function P_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&po(r,i,(s,o)=>o2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Al extends pd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends pd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function R1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function k_(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,s2(o,l,n[i]))}return r}function x_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,i2(s,o,e))}return r}class $m extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c2 extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&l2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=A1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,r)=>P_(n,r))&&po(this.baseMutations,e.baseMutations,(n,r)=>P_(n,r))}}class qm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=function(){return ZN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Pe;function p2(t){switch(t){default:return fe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function P1(t){if(t===void 0)return Mr("GRPC error has no .code"),z.UNKNOWN;switch(t){case ct.OK:return z.OK;case ct.CANCELLED:return z.CANCELLED;case ct.UNKNOWN:return z.UNKNOWN;case ct.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ct.INTERNAL:return z.INTERNAL;case ct.UNAVAILABLE:return z.UNAVAILABLE;case ct.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ct.NOT_FOUND:return z.NOT_FOUND;case ct.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ct.ABORTED:return z.ABORTED;case ct.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ct.DATA_LOSS:return z.DATA_LOSS;default:return fe()}}(Pe=ct||(ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Xi([4294967295,4294967295],0);function b_(t){const e=m2().encode(t),n=new XT;return n.update(e),new Uint8Array(n.digest())}function N_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xi([n,r],0),new Xi([i,s],0)]}class Wm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pa(`Invalid padding: ${n}`);if(r<0)throw new pa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xi.fromNumber(r)));return i.compare(g2)===1&&(i=new Xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=b_(e),[r,i]=N_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=b_(e),[r,i]=N_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(me.min(),i,new et(De),jr(),Ie())}}class Rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rl(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class k1{constructor(e,n){this.targetId=e,this.me=n}}class x1{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class O_{constructor(){this.fe=0,this.ge=L_(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Rl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=L_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class y2{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=D_(),this.Qe=new et(De)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(np(s))if(r===0){const o=new le(s.path);this.Ue(n,o,Ut.newNoDocument(o,me.min()))}else $e(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=hs(r).toUint8Array()}catch(u){if(u instanceof a1)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Wm(o,i,s)}catch(u){return fo(u instanceof pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&np(l.target)){const u=new le(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ut.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Ie();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new md(e,n,this.Qe,this.ke,r);return this.ke=jr(),this.qe=D_(),this.Qe=new et(De),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new O_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(De),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new O_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D_(){return new et(le.comparator)}function L_(){return new et(le.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class E2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T2(t,e){return xc(t,e.toTimestamp())}function fr(t){return $e(!!t),me.fromTimestamp(function(n){const r=Ri(n);return new gt(r.seconds,r.nanos)}(t))}function Hm(t,e){return sp(t,e).canonicalString()}function sp(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function N1(t){const e=Be.fromString(t);return $e(j1(e)),e}function op(t,e){return Hm(t.databaseId,e.path)}function Dh(t,e){const n=N1(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(D1(n))}function O1(t,e){return Hm(t.databaseId,e)}function S2(t){const e=N1(t);return e.length===4?Be.emptyPath():D1(e)}function ap(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D1(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M_(t,e,n){return{name:op(t,e),fields:n.value.mapValue.fields}}function I2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?($e(d===void 0||typeof d=="string"),$t.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array),$t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?z.UNKNOWN:P1(c.code);return new X(d,c.message||"")}(o);n=new x1(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dh(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):me.min(),l=new rn({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Fu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dh(t,r.document),s=r.readTime?fr(r.readTime):me.min(),o=Ut.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Fu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dh(t,r.document),s=r.removedTargetIds||[];n=new Fu([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new f2(i,s),l=r.targetId;n=new k1(l,o)}}return n}function C2(t,e){let n;if(e instanceof Al)n={update:M_(t,e.key,e.value)};else if(e instanceof $m)n={delete:op(t,e.key)};else if(e instanceof Li)n={update:M_(t,e.key,e.data),updateMask:D2(e.fieldMask)};else{if(!(e instanceof c2))return fe();n={verify:op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Pc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function A2(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(me.min())&&(o=fr(s)),new a2(o,i.transformResults||[])}(n,e))):[]}function R2(t,e){return{documents:[O1(t,e.path)]}}function P2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O1(t,i);const s=function(c){if(c.length!==0)return M1(Hn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Ns(g.field),direction:b2(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ip(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function k2(t){let e=S2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=L1(p);return g instanceof Hn&&d1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(S){return new il(Os(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,ud(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,w=p.values||[];return new yo(w,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,w=p.values||[];return new yo(w,g)}(n.endAt)),GN(e,i,o,s,l,"F",u,c)}function x2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Os(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Os(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Os(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Os(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>L1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function b2(t){return v2[t]}function N2(t){return _2[t]}function O2(t){return w2[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function Os(t){return Pt.fromServerFormat(t.fieldPath)}function M1(t){return t instanceof ft?function(n){if(n.op==="=="){if(T_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(E_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(E_(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:N2(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>M1(i));return r.length===1?r[0]:{compositeFilter:{op:O2(n.op),filters:r}}}(t):fe()}function D2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,s=me.min(),o=me.min(),l=$t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.ct=e}}function M2(t){const e=k2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this._n=new V2}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ai.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class V2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vo(0)}static Ln(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ka(r.mutation,i,pn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fa();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=jr();const o=Pa(),l=function(){return Pa()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Li)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ka(d.mutation,c,d.mutation.getFieldMask(),gt.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new U2(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Pa();let i=new et((o,l)=>o-l),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||pn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||Ie()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=_1();d.forEach(g=>{if(!s.has(g)){const w=A1(n.get(g),r.get(g));w!==null&&p.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Gi());let l=-1,u=s;return o.next(c=>q.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ie())).next(d=>({batchId:l,changes:v1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=fa();return this.indexManager.getCollectionParents(e,s).next(l=>q.forEach(l,u=>{const c=function(p,g){return new Ts(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ut.newInvalidDocument(d)))});let l=fa();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&ka(d.mutation,c,pn.empty(),gt.now()),hd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:M2(i.bundledQuery),readTime:fr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.overlays=new et(le.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new le(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Gi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return q.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new h2(n,r));let s=this.hr.get(n);s===void 0&&(s=Ie(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Pr=new xt(wt.Ir),this.Tr=new xt(wt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new wt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new le(new Be([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new le(new Be([])),r=new wt(n,e),i=new wt(n,e+1);let s=Ie();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return le.comparator(e.key,n.key)||De(e.pr,n.pr)}static Er(e,n){return De(e.pr,n.pr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(wt.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d2(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new wt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(De);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new wt(new le(s),0);let l=new xt(De);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.pr)),!0)},o),q.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new wt(n,0),i=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.vr=e,this.docs=function(){return new et(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const o=n.path,l=new le(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||xN(kN(d),r)<=0||(i.has(d.key)||hd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Fr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H2(this)}getSize(e){return q.resolve(this.size)}}class H2 extends F2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.persistence=e,this.Mr=new No(n=>Fm(n),Um),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Km,this.targetCount=0,this.Lr=vo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.Br={},this.overlays={},this.kr=new Mm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new K2(this),this.indexManager=new j2,this.remoteDocumentCache=function(i){return new W2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new L2(n),this.$r=new z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new q2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new Q2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Q2 extends NN{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.zr=new Km,this.jr=null}static Hr(e){return new Gm(e)}get Jr(){if(this.jr)return this.jr;throw fe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const i=le.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return BP()?8:ON(Nt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Y2;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ra()<=Ae.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(ra()<=Ae.DEBUG&&re("QueryEngine","Query:",bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ra()<=Ae.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):q.resolve())}ji(e,n){if(A_(n))return q.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rc(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,l);return this.Xi(n,c,o,u.readTime)?this.ji(e,Rc(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return A_(n)||i.isEqual(me.min())?q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?q.resolve(null):(ra()<=Ae.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(n)),this.es(e,o,n,PN(i,-1)).next(l=>l))})}Zi(e,n){let r=new xt(g1(e));return n.forEach((i,s)=>{hd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ra()<=Ae.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",bs(n)),this.zi.getDocumentsMatchingQuery(e,n,Ai.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new et(De),this.rs=new No(s=>Fm(s),Um),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Z2(t,e,n,r){return new J2(t,e,n,r)}async function V1(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Ie();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:l}))})})}function eO(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,g=p.keys();let w=q.resolve();return g.forEach(S=>{w=w.next(()=>d.getEntry(u,S)).next(A=>{const x=c.docVersions.get(S);$e(x!==null),A.version.compareTo(x)<0&&(p.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ie();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function F1(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function tO(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;l.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,p)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken($t.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(p,w),function(A,x,E){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,w,d)&&l.push(n.Qr.updateTargetData(s,w))});let u=jr(),c=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(nO(s,o,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(me.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return q.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function nO(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function rO(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iO(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function lp(t,e,n){const r=ye(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Cl(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function j_(t,e,n){const r=ye(t);let i=me.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=ye(u),g=p.rs.get(d);return g!==void 0?q.resolve(p.ns.get(g)):p.Qr.getTargetData(c,d)}(r,o,hr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:Ie())).next(l=>(sO(r,YN(e),l),{documents:l,hs:s})))}function sO(t,e,n){let r=t.ss.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class V_{constructor(){this.activeTargetIds=n2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.no=new V_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new V_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function Lh(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class cO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Lh(),u=this.vo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(d=>(re("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw fo("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=lO[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Lh();return new Promise((o,l)=>{const u=new JT;u.setWithCredentials(!0),u.listenOnce(e1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Mu.NO_ERROR:const d=u.getResponseJson();re(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Mu.TIMEOUT:re(jt,`RPC '${e}' ${s} timed out`),l(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const p=u.getStatus();if(re(jt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const S=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(E)>=0?E:z.UNKNOWN}(w.status);l(new X(S,w.message))}else l(new X(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(z.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(jt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);re(jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Lh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r1(),l=n1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new ZT({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");re(jt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let g=!1,w=!1;const S=new uO({lo:x=>{w?re(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(re(jt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),re(jt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},ho:()=>p.close()}),A=(x,E,_)=>{x.listen(E,y=>{try{_(y)}catch(O){setTimeout(()=>{throw O},0)}})};return A(p,ha.EventType.OPEN,()=>{w||(re(jt,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),A(p,ha.EventType.CLOSE,()=>{w||(w=!0,re(jt,`RPC '${e}' stream ${i} transport closed`),S.po())}),A(p,ha.EventType.ERROR,x=>{w||(w=!0,fo(jt,`RPC '${e}' stream ${i} transport errored:`,x),S.po(new X(z.UNAVAILABLE,"The operation could not be completed")))}),A(p,ha.EventType.MESSAGE,x=>{var E;if(!w){const _=x.data[0];$e(!!_);const y=_,O=y.error||((E=y[0])===null||E===void 0?void 0:E.error);if(O){re(jt,`RPC '${e}' stream ${i} received error:`,O);const M=O.status;let U=function(C){const P=ct[C];if(P!==void 0)return P1(P)}(M),I=O.message;U===void 0&&(U=z.INTERNAL,I="Unknown error status: "+M+" with message "+O.message),w=!0,S.po(new X(U,I)),p.close()}else re(jt,`RPC '${e}' stream ${i} received:`,_),S.yo(_)}}),A(l,t1.STAT_EVENT,x=>{x.stat===Jf.PROXY?re(jt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Jf.NOPROXY&&re(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new E2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,r,i,s,o,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new U1(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dO extends B1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=I2(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?fr(o.readTime):me.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=ap(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=np(u)?{documents:R2(s,u)}:{query:P2(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=b1(s,o.resumeToken);const c=ip(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){l.readTime=xc(s,o.snapshotVersion.toTimestamp());const c=ip(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=x2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.i_(n)}}class hO extends B1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=A2(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.A_(r,n)}return $e(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=ap(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>C2(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,sp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(z.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,sp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class pO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mr(n),this.y_=!1):re("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ye(u);c.M_.add(4),await Pl(c),c.N_.set("Unknown"),c.M_.delete(4),await yd(c)}(this))})}),this.N_=new pO(r,i)}}async function yd(t){if(Ss(t))for(const e of t.x_)await e(!0)}async function Pl(t){for(const e of t.x_)await e(!1)}function z1(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Zm(n)?Jm(n):Oo(n).Xo()&&Xm(n,e))}function Ym(t,e){const n=ye(t),r=Oo(n);n.F_.delete(e),r.Xo()&&$1(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ss(n)&&n.N_.set("Unknown"))}function Xm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(t).P_(e)}function $1(t,e){t.L_.xe(e),Oo(t).I_(e)}function Jm(t){t.L_=new y2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oo(t).start(),t.N_.w_()}function Zm(t){return Ss(t)&&!Oo(t).Zo()&&t.F_.size>0}function Ss(t){return ye(t).M_.size===0}function q1(t){t.L_=void 0}async function gO(t){t.N_.set("Online")}async function yO(t){t.F_.forEach((e,n)=>{Xm(t,e)})}async function vO(t,e){q1(t),Zm(t)?(t.N_.D_(e),Jm(t)):t.N_.set("Unknown")}async function _O(t,e,n){if(t.N_.set("Online"),e instanceof x1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bc(t,r)}else if(e instanceof Fu?t.L_.Ke(e):e instanceof k1?t.L_.He(e):t.L_.We(e),!n.isEqual(me.min()))try{const r=await F1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken($t.EMPTY_BYTE_STRING,d.snapshotVersion)),$1(s,u);const p=new ui(d.target,u,c,d.sequenceNumber);Xm(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await bc(t,r)}}async function bc(t,e,n){if(!Cl(e))throw e;t.M_.add(1),await Pl(t),t.N_.set("Offline"),n||(n=()=>F1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await yd(t)})}function W1(t,e){return e().catch(n=>bc(t,n,e))}async function vd(t){const e=ye(t),n=Pi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;wO(e);)try{const i=await rO(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,EO(e,i)}catch(i){await bc(e,i)}H1(e)&&K1(e)}function wO(t){return Ss(t)&&t.v_.length<10}function EO(t,e){t.v_.push(e);const n=Pi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function H1(t){return Ss(t)&&!Pi(t).Zo()&&t.v_.length>0}function K1(t){Pi(t).start()}async function TO(t){Pi(t).V_()}async function SO(t){const e=Pi(t);for(const n of t.v_)e.d_(n.mutations)}async function IO(t,e,n){const r=t.v_.shift(),i=qm.from(r,e,n);await W1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vd(t)}async function CO(t,e){e&&Pi(t).E_&&await async function(r,i){if(function(o){return p2(o)&&o!==z.ABORTED}(i.code)){const s=r.v_.shift();Pi(r).t_(),await W1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vd(r)}}(t,e),H1(t)&&K1(t)}async function U_(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.M_.add(3),await Pl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await yd(n)}async function AO(t,e){const n=ye(t);e?(n.M_.delete(2),await yd(n)):e||(n.M_.add(2),await Pl(n),n.N_.set("Unknown"))}function Oo(t){return t.B_||(t.B_=function(n,r,i){const s=ye(n);return s.f_(),new dO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:gO.bind(null,t),To:yO.bind(null,t),Ao:vO.bind(null,t),h_:_O.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Zm(t)?Jm(t):t.N_.set("Unknown")):(await t.B_.stop(),q1(t))})),t.B_}function Pi(t){return t.k_||(t.k_=function(n,r,i){const s=ye(n);return s.f_(),new hO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:TO.bind(null,t),Ao:CO.bind(null,t),R_:SO.bind(null,t),A_:IO.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await vd(t)):(await t.k_.stop(),t.v_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new eg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Cl(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=fa(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.q_=new et(le.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):fe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _o{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new _o(e,n,ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class PO{constructor(){this.queries=new No(e=>m1(e),dd),this.onlineState="Unknown",this.z_=new Set}}async function G1(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new RO,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=tg(o,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ng(n)}async function Q1(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kO(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&ng(n)}function xO(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function ng(t){t.z_.forEach(e=>{e.next()})}var up,z_;(z_=up||(up={})).J_="default",z_.Cache="cache";class Y1{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.key=e}}class J1{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ie(),this.mutatedKeys=Ie(),this.Ia=g1(e),this.Ta=new ro(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new B_,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),w=hd(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;g&&w?g.data.isEqual(w.data)?S!==A&&(r.track({type:3,doc:w}),x=!0):this.Ra(g,w)||(r.track({type:2,doc:w}),x=!0,(u&&this.Ia(w,u)>0||c&&this.Ia(w,c)<0)&&(l=!0)):!g&&w?(r.track({type:0,doc:w}),x=!0):g&&!w&&(r.track({type:1,doc:g}),x=!0,(u||c)&&(l=!0)),x&&(w?(o=o.add(w),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,p)=>function(w,S){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return A(w)-A(S)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new _o(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new B_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ie(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new J1(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new X1(r))}),n}pa(e){this.la=e.hs,this.Pa=Ie();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return _o.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class NO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OO{constructor(e){this.key=e,this.wa=!1}}class DO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new No(l=>m1(l),dd),this.Da=new Map,this.Ca=new Set,this.va=new et(le.comparator),this.Fa=new Map,this.Ma=new Km,this.xa={},this.Oa=new Map,this.Na=vo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function LO(t,e,n=!0){const r=iS(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Z1(r,e,n,!0),i}async function MO(t,e){const n=iS(t);await Z1(n,e,!0,!1)}async function Z1(t,e,n,r){const i=await iO(t.localStore,hr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await jO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&z1(t.remoteStore,i),l}async function jO(t,e,n,r,i){t.Ba=(p,g,w)=>async function(A,x,E,_){let y=x.view.da(E);y.Xi&&(y=await j_(A.localStore,x.query,!1).then(({documents:I})=>x.view.da(I,y)));const O=_&&_.targetChanges.get(x.targetId),M=_&&_.targetMismatches.get(x.targetId)!=null,U=x.view.applyChanges(y,A.isPrimaryClient,O,M);return q_(A,x.targetId,U.fa),U.snapshot}(t,p,g,w);const s=await j_(t.localStore,e,!0),o=new bO(e,s.hs),l=o.da(s.documents),u=Rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);q_(t,n,c.fa);const d=new NO(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function VO(t,e,n){const r=ye(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!dd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ym(r.remoteStore,i.targetId),cp(r,i.targetId)}).catch(Il)):(cp(r,i.targetId),await lp(r.localStore,i.targetId,!0))}async function FO(t,e){const n=ye(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(n.remoteStore,r.targetId))}async function UO(t,e,n){const r=KO(t);try{const i=await function(o,l){const u=ye(o),c=gt.now(),d=l.reduce((w,S)=>w.add(S.key),Ie());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=jr(),A=Ie();return u.os.getEntries(w,d).next(x=>{S=x,S.forEach((E,_)=>{_.isValidDocument()||(A=A.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,S)).next(x=>{p=x;const E=[];for(const _ of l){const y=u2(_,p.get(_.key).overlayedDocument);y!=null&&E.push(new Li(_.key,y,l1(y.value.mapValue),xn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,l)}).next(x=>{g=x;const E=x.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(w,x.batchId,E)})}).then(()=>({batchId:g.batchId,changes:v1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.xa[o.currentUser.toKey()];c||(c=new et(De)),c=c.insert(l,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await kl(r,i.changes),await vd(r.remoteStore)}catch(i){const s=tg(i,"Failed to persist write");n.reject(s)}}async function eS(t,e){const n=ye(t);try{const r=await tO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?$e(o.wa):i.removedDocuments.size>0&&($e(o.wa),o.wa=!1))}),await kl(n,r,e)}catch(r){await Il(r)}}function $_(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ye(o);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const g of p.U_)g.j_(l)&&(c=!0)}),c&&ng(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BO(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new et(le.comparator);o=o.insert(s,Ut.newNoDocument(s,me.min()));const l=Ie().add(s),u=new md(me.min(),new Map,new et(De),o,l);await eS(r,u),r.va=r.va.remove(s),r.Fa.delete(e),rg(r)}else await lp(r.localStore,e,!1).then(()=>cp(r,e,n)).catch(Il)}async function zO(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await eO(n.localStore,e);nS(n,r,null),tS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kl(n,i)}catch(i){await Il(i)}}async function $O(t,e,n){const r=ye(t);try{const i=await function(o,l){const u=ye(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>($e(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);nS(r,e,n),tS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kl(r,i)}catch(i){await Il(i)}}function tS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function nS(t,e,n){const r=ye(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function cp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||rS(t,r)})}function rS(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ym(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),rg(t))}function q_(t,e,n){for(const r of n)r instanceof X1?(t.Ma.addReference(r.key,e),qO(t,r)):r instanceof J1?(re("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||rS(t,r.key)):fe()}function qO(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(re("SyncEngine","New document in limbo: "+n),t.Ca.add(r),rg(t))}function rg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new le(Be.fromString(e)),r=t.Na.next();t.Fa.set(r,new OO(n)),t.va=t.va.insert(n,r),z1(t.remoteStore,new ui(hr(Bm(n.path)),r,"TargetPurposeLimboResolution",Mm.oe))}}async function kl(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{o.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=Qm.Ki(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const d=ye(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(c,g=>q.forEach(g.qi,w=>d.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>q.forEach(g.Qi,w=>d.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!Cl(p))throw p;re("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const w=d.ns.get(g),S=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(S);d.ns=d.ns.insert(g,A)}}}(r.localStore,s))}async function WO(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await V1(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(u=>{u.reject(new X(z.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kl(n,r.us)}}function HO(t,e){const n=ye(t),r=n.Fa.get(e);if(r&&r.wa)return Ie().add(r.key);{let i=Ie();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function iS(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BO.bind(null,e),e.Sa.h_=kO.bind(null,e.eventManager),e.Sa.ka=xO.bind(null,e.eventManager),e}function KO(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class W_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Z2(this.persistence,new X2,e.initialUser,this.serializer)}createPersistence(e){return new G2(Gm.Hr,this.serializer)}createSharedClientState(e){return new oO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WO.bind(null,this.syncEngine),await AO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PO}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(s){return new cO(s)}(e.databaseInfo);return function(s,o,l,u){return new fO(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new mO(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$_(this.syncEngine,n,0),function(){return F_.D()?new F_:new aO}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const p=new DO(i,s,o,l,u,c);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ye(r);re("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Pl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=s1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{re("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jh(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XO(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U_(e.remoteStore,i)),t._onlineComponents=e}function YO(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await jh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YO(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await jh(t,new W_)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await jh(t,new W_);return t._offlineComponents}async function oS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await H_(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await H_(t,new GO))),t._onlineComponents}function JO(t){return oS(t).then(e=>e.syncEngine)}async function aS(t){const e=await oS(t),n=e.eventManager;return n.onListen=LO.bind(null,e.syncEngine),n.onUnlisten=VO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FO.bind(null,e.syncEngine),n}function ZO(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new sS({next:g=>{o.enqueueAndForget(()=>Q1(s,p));const w=g.docs.has(l);!w&&g.fromCache?c.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new Y1(Bm(l.path),d,{includeMetadataChanges:!0,ra:!0});return G1(s,p)}(await aS(t),t.asyncQueue,e,n,r)),r.promise}function eD(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new sS({next:g=>{o.enqueueAndForget(()=>Q1(s,p)),g.fromCache&&u.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new Y1(l,d,{includeMetadataChanges:!0,ra:!0});return G1(s,p)}(await aS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tD(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G_(t){if(!le.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q_(t){if(le.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nD(t,e){if(e<=0)throw new X(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _N;switch(r.type){case"firstParty":return new SN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=K_.get(n);r&&(re("ComponentProvider","Removing Datastore"),K_.delete(n),r.terminate())}(this),Promise.resolve()}}function rD(t,e,n,r={}){var i;const s=(t=Kn(t,wd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Vt.MOCK_USER;else{l=hT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(c)}t._authCredentials=new wN(new i1(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Br(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Ti extends Br{constructor(e,n,r){super(e,n,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new le(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function yt(t,e,...n){if(t=rt(t),uS("collection","path",e),t instanceof wd){const r=Be.fromString(e,...n);return Q_(r),new Ti(t,null,r)}{if(!(t instanceof Jt||t instanceof Ti))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return Q_(r),new Ti(t.firestore,null,r)}}function It(t,e,...n){if(t=rt(t),arguments.length===1&&(e=s1.newId()),uS("doc","path",e),t instanceof wd){const r=Be.fromString(e,...n);return G_(r),new Jt(t,null,new le(r))}{if(!(t instanceof Jt||t instanceof Ti))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return G_(r),new Jt(t.firestore,t instanceof Ti?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new U1(this,"async_queue_retry"),this.hu=()=>{const n=Mh();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Mh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new xr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Cl(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=eg.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&fe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Is extends wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cS(this),this._firestoreClient.terminate()}}function sD(t,e){const n=typeof t=="object"?t:Cm(),r=typeof t=="string"?t:"(default)",i=id(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uT("firestore");s&&rD(i,...s)}return i}function ig(t){return t._firestoreClient||cS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cS(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new MN(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo($t.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^__.*__$/;class aD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Al(e,this.data,n,this.fieldTransforms)}}class dS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Nc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(hS(this.fu)&&oD.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class lD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}Fu(e,n,r,i=!1){return new og({fu:e,methodName:n,vu:r,path:Pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new lD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fS(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);ag("Data must be an object, but it was:",o,r);const l=mS(r,o);let u,c;if(s.merge)u=new pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=dp(e,p,n);if(!o.contains(g))throw new X(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yS(d,g)||d.push(g)}u=new pn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new aD(new rn(l),u,c)}class Td extends sg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function uD(t,e,n,r){const i=t.Fu(1,e,n);ag("Data must be an object, but it was:",i,r);const s=[],o=rn.empty();Es(r,(u,c)=>{const d=lg(e,u,n);c=rt(c);const p=i.Su(d);if(c instanceof Td)s.push(d);else{const g=bl(c,p);g!=null&&(s.push(d),o.set(d,g))}});const l=new pn(s);return new dS(o,l,i.fieldTransforms)}function cD(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[dp(e,r,n)],u=[i];if(s.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(dp(e,s[g])),u.push(s[g+1]);const c=[],d=rn.empty();for(let g=l.length-1;g>=0;--g)if(!yS(c,l[g])){const w=l[g];let S=u[g];S=rt(S);const A=o.Su(w);if(S instanceof Td)c.push(w);else{const x=bl(S,A);x!=null&&(c.push(w),d.set(w,x))}}const p=new pn(c);return new dS(d,p,o.fieldTransforms)}function pS(t,e,n,r=!1){return bl(n,t.Fu(r?4:3,e))}function bl(t,e){if(gS(t=rt(t)))return ag("Unsupported field value:",e,t),mS(t,e);if(t instanceof sg)return function(r,i){if(!hS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=bl(l,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:xc(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xc(i.serializer,s)}}if(r instanceof Un)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:b1(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${_d(r)}`)}(t,e)}function mS(t,e){const n={};return o1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,i)=>{const s=bl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Un||t instanceof wo||t instanceof Jt||t instanceof sg)}function ag(t,e,n){if(!gS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_d(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function dp(t,e,n){if((e=rt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return lg(t,e);throw Nc("Field path arguments must be of type string or ",t,!1,void 0,n)}const dD=new RegExp("[~\\*/\\[\\]]");function lg(t,e,n){if(e.search(dD)>=0)throw Nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ed(...e.split("."))._internalPath}catch{throw Nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new X(z.INVALID_ARGUMENT,l+t+u)}function yS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hD extends ug{data(){return super.data()}}function Sd(t,e){return typeof e=="string"?lg(t,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class Id extends cg{}function Vr(t,e,...n){let r=[];e instanceof cg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof hg).length,l=s.filter(u=>u instanceof Cd).length;if(o>1||o>0&&l>0)throw new X(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cd extends Id{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cd(e,n,r)}_apply(e){const n=this._parse(e);return vS(e._query,n),new Br(e.firestore,e.converter,rp(e._query,n))}_parse(e){const n=xl(e.firestore);return function(s,o,l,u,c,d,p){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){J_(p,d);const w=[];for(const S of p)w.push(X_(u,s,S));g={arrayValue:{values:w}}}else g=X_(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||J_(p,d),g=pS(l,o,p,d==="in"||d==="not-in");return ft.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dg(t,e,n){const r=e,i=Sd("where",t);return Cd._create(i,r,n)}class hg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)vS(o,u),o=rp(o,u)}(e._query,n),new Br(e.firestore,e.converter,rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends Id{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new il(s,o)}(e._query,this._field,this._direction);return new Br(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ts(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Eo(t,e="asc"){const n=e,r=Sd("orderBy",t);return fg._create(r,n)}class pg extends Id{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new pg(e,n,r)}_apply(e){return new Br(e.firestore,e.converter,Rc(e._query,this._limit,this._limitType))}}function To(t){return nD("limit",t),pg._create("limit",t,"F")}class mg extends Id{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mg(e,n,r)}_apply(e){const n=pD(e,this.type,this._docOrFields,this._inclusive);return new Br(e.firestore,e.converter,function(i,s){return new Ts(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function gg(...t){return mg._create("startAfter",t,!1)}function pD(t,e,n,r){if(n[0]=rt(n[0]),n[0]instanceof ug)return function(s,o,l,u,c){if(!u)throw new X(z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const p of no(s))if(p.field.isKeyField())d.push(Ac(o,u.key));else{const g=u.data.field(p.field);if(cd(g))throw new X(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const w=p.field.canonicalString();throw new X(z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}d.push(g)}return new yo(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xl(t.firestore);return function(o,l,u,c,d,p){const g=o.explicitOrderBy;if(d.length>g.length)throw new X(z.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let S=0;S<d.length;S++){const A=d[S];if(g[S].field.isKeyField()){if(typeof A!="string")throw new X(z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);if(!zm(o)&&A.indexOf("/")!==-1)throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);const x=o.path.child(Be.fromString(A));if(!le.isDocumentKey(x))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const E=new le(x);w.push(Ac(l,E))}else{const x=pS(u,c,A);w.push(x)}}return new yo(w,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function X_(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new X(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zm(e)&&n.indexOf("/")!==-1)throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!le.isDocumentKey(r))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ac(t,new le(r))}if(n instanceof Jt)return Ac(t,n._key);throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function J_(t,e){if(!Array.isArray(t)||t.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mD{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Un(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);$e(j1(r));const i=new nl(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wS extends ug{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uu extends wS{data(e={}){return super.data(e)}}class gD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Uu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ma(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Uu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ma(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:yD(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){t=Kn(t,Jt);const e=Kn(t.firestore,Is);return ZO(ig(e),t._key).then(n=>wD(e,t,n))}class ES extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Bt(t){t=Kn(t,Br);const e=Kn(t.firestore,Is),n=ig(e),r=new ES(e);return fD(t._query),eD(n,t._query).then(i=>new gD(e,r,t,i))}function vD(t,e,n){t=Kn(t,Jt);const r=Kn(t.firestore,Is),i=_S(t.converter,e);return Ad(r,[fS(xl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xn.none())])}function vn(t,e,n,...r){t=Kn(t,Jt);const i=Kn(t.firestore,Is),s=xl(i);let o;return o=typeof(e=rt(e))=="string"||e instanceof Ed?cD(s,"updateDoc",t._key,e,n,r):uD(s,"updateDoc",t._key,e),Ad(i,[o.toMutation(t._key,xn.exists(!0))])}function _D(t){return Ad(Kn(t.firestore,Is),[new $m(t._key,xn.none())])}function Ji(t,e){const n=Kn(t.firestore,Is),r=It(t),i=_S(t.converter,e);return Ad(n,[fS(xl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function Ad(t,e){return function(r,i){const s=new xr;return r.asyncQueue.enqueueAndForget(async()=>UO(await JO(r),i,s)),s.promise}(ig(t),e)}function wD(t,e,n){const r=n.docs.get(e._key),i=new ES(t);return new wS(t,i,e._key,r,new ma(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bo=i})(_s),ls(new Ci("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Is(new EN(r.getProvider("auth-internal")),new CN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ur(y_,"4.6.2",e),ur(y_,"4.6.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebasestorage.googleapis.com",SS="storageBucket",ED=2*60*1e3,TD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends mr{constructor(e,n,r=0){super(Vh(e),`Firebase Storage: ${n} (${Vh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Vh(t){return"storage/"+t}function vg(){const t="An unknown error occurred, please check the error payload for server response.";return new st(it.UNKNOWN,t)}function SD(t){return new st(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ID(t){return new st(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(it.UNAUTHENTICATED,t)}function AD(){return new st(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RD(t){return new st(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function PD(){return new st(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kD(){return new st(it.CANCELED,"User canceled the upload/download.")}function xD(t){return new st(it.INVALID_URL,"Invalid URL '"+t+"'.")}function bD(t){return new st(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ND(){return new st(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SS+"' property when initializing the app?")}function OD(){return new st(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DD(){return new st(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LD(t){return new st(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hp(t){return new st(it.INVALID_ARGUMENT,t)}function IS(){return new st(it.APP_DELETED,"The Firebase app was deleted.")}function MD(t){return new st(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xa(t,e){return new st(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ia(t){throw new st(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mn.makeFromUrl(e,n)}catch{return new mn(e,"")}if(r.path==="")return r;throw bD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${d}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},A=n===TS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",E=new RegExp(`^https?://${A}/${i}/${x}`,"i"),y=[{regex:l,indices:u,postModify:s},{regex:w,indices:S,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<y.length;O++){const M=y[O],U=M.regex.exec(e);if(U){const I=U[M.indices.bucket];let v=U[M.indices.path];v||(v=""),r=new mn(I,v),M.postModify(r);break}}if(r==null)throw xD(e);return r}}class jD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,t(w,u())},x)}function g(){s&&clearTimeout(s)}function w(x,...E){if(c){g();return}if(x){g(),d.call(null,x,...E);return}if(u()||o){g(),d.call(null,x,...E);return}r<64&&(r*=2);let y;l===1?(l=2,y=0):y=(r+Math.random())*1e3,p(y)}let S=!1;function A(x){S||(S=!0,g(),!c&&(i!==null?(x||(l=2),clearTimeout(i),p(0)):x||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function FD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){return t!==void 0}function BD(t){return typeof t=="object"&&!Array.isArray(t)}function _g(t){return typeof t=="string"||t instanceof String}function Z_(t){return wg()&&t instanceof Blob}function wg(){return typeof Blob<"u"}function e0(t,e,n,r){if(r<e)throw hp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function CS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zi||(Zi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,i,s,o,l,u,c,d,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Zi.NO_ERROR,u=s.getStatus();if(!l||zD(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Zi.ABORT;r(!1,new gu(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new gu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());UD(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=vg();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?IS():kD();o(u)}else{const u=PD();o(u)}};this.canceled_?n(!1,new gu(!1,null,!0)):this.backoffId_=VD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GD(t,e,n,r,i,s,o=!0){const l=CS(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return HD(c,e),qD(c,n),WD(c,s),KD(c,r),new $D(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YD(...t){const e=QD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wg())return new Blob(t);throw new st(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){if(typeof atob>"u")throw LD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fh{constructor(e,n){this.data=e,this.contentType=n||null}}function ZD(t,e){switch(t){case sr.RAW:return new Fh(AS(e));case sr.BASE64:case sr.BASE64URL:return new Fh(RS(t,e));case sr.DATA_URL:return new Fh(tL(e),nL(e))}throw vg()}function AS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eL(t){let e;try{e=decodeURIComponent(t)}catch{throw xa(sr.DATA_URL,"Malformed data URL.")}return AS(e)}function RS(t,e){switch(t){case sr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case sr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JD(e)}catch(i){throw i.message.includes("polyfill")?i:xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class PS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xa(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tL(t){const e=new PS(t);return e.base64?RS(sr.BASE64,e.rest):eL(e.rest)}function nL(t){return new PS(t).contentType}function rL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){let r=0,i="";Z_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Z_(this.data_)){const r=this.data_,i=XD(r,e,n);return i===null?null:new si(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new si(r,!0)}}static getBlob(...e){if(wg()){const n=e.map(r=>r instanceof si?r.data_:r);return new si(YD.apply(null,n))}else{const n=e.map(o=>_g(o)?ZD(sr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new si(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e;try{e=JSON.parse(t)}catch{return null}return BD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){return e}class Kt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||oL}}let yu=null;function aL(t){return!_g(t)||t.length<2?t:xS(t)}function bS(){if(yu)return yu;const t=[];t.push(new Kt("bucket")),t.push(new Kt("generation")),t.push(new Kt("metageneration")),t.push(new Kt("name","fullPath",!0));function e(s,o){return aL(o)}const n=new Kt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kt("size");return i.xform=r,t.push(i),t.push(new Kt("timeCreated")),t.push(new Kt("updated")),t.push(new Kt("md5Hash",null,!0)),t.push(new Kt("cacheControl",null,!0)),t.push(new Kt("contentDisposition",null,!0)),t.push(new Kt("contentEncoding",null,!0)),t.push(new Kt("contentLanguage",null,!0)),t.push(new Kt("contentType",null,!0)),t.push(new Kt("metadata","customMetadata",!0)),yu=t,yu}function lL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new mn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function uL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return lL(r,t),r}function NS(t,e,n){const r=kS(e);return r===null?null:uL(t,r,n)}function cL(t,e,n,r){const i=kS(e);if(i===null||!_g(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,p=t.fullPath,g="/b/"+o(d)+"/o/"+o(p),w=Eg(g,n,r),S=CS({alt:"media",token:c});return w+S})[0]}function dL(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class OS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){if(!t)throw vg()}function hL(t,e){function n(r,i){const s=NS(t,i,e);return DS(s!==null),s}return n}function fL(t,e){function n(r,i){const s=NS(t,i,e);return DS(s!==null),cL(s,i,t.host,t._protocol)}return n}function LS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=AD():i=CD():n.getStatus()===402?i=ID(t.bucket):n.getStatus()===403?i=RD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pL(t){const e=LS(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=SD(t.path)),s.serverResponse=i.serverResponse,s}return n}function mL(t,e,n){const r=e.fullServerUrl(),i=Eg(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new OS(i,s,fL(t,n),o);return l.errorHandler=pL(e),l}function gL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gL(null,e)),r}function vL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let y="";for(let O=0;O<2;O++)y=y+Math.random().toString().slice(2);return y}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const c=yL(e,r,i),d=dL(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+u+"--",w=si.getBlob(p,r,g);if(w===null)throw OD();const S={name:c.fullPath},A=Eg(s,t.host,t._protocol),x="POST",E=t.maxUploadRetryTime,_=new OS(A,x,hL(t,n),E);return _.urlParams=S,_.headers=o,_.body=w.uploadData(),_.errorHandler=LS(e),_}class _L{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ia("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ia("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ia("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ia("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ia("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wL extends _L{initXhr(){this.xhr_.responseType="text"}}function MS(){return new wL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this._service=e,n instanceof mn?this._location=n:this._location=mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ps(e,n)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xS(this._location.path)}get storage(){return this._service}get parent(){const e=iL(this._location.path);if(e===null)return null;const n=new mn(this._location.bucket,e);return new ps(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MD(e)}}function EL(t,e,n){t._throwIfRoot("uploadBytes");const r=vL(t.storage,t._location,bS(),new si(e,!0),n);return t.storage.makeRequestWithTokens(r,MS).then(i=>({metadata:i,ref:t}))}function TL(t){t._throwIfRoot("getDownloadURL");const e=mL(t.storage,t._location,bS());return t.storage.makeRequestWithTokens(e,MS).then(n=>{if(n===null)throw DD();return n})}function SL(t,e){const n=sL(t._location.path,e),r=new mn(t._location.bucket,n);return new ps(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){return/^[A-Za-z]+:\/\//.test(t)}function CL(t,e){return new ps(t,e)}function jS(t,e){if(t instanceof Tg){const n=t;if(n._bucket==null)throw ND();const r=new ps(n,n._bucket);return e!=null?jS(r,e):r}else return e!==void 0?SL(t,e):t}function AL(t,e){if(e&&IL(e)){if(t instanceof Tg)return CL(t,e);throw hp("To use ref(service, url), the first argument must be a Storage instance.")}else return jS(t,e)}function t0(t,e){const n=e==null?void 0:e[SS];return n==null?null:mn.makeFromBucketSpec(n,t)}function RL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:hT(i,t.app.options.projectId))}class Tg{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=TS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ED,this._maxUploadRetryTime=TD,this._requests=new Set,i!=null?this._bucket=mn.makeFromBucketSpec(i,this._host):this._bucket=t0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mn.makeFromBucketSpec(this._url,e):this._bucket=t0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ps(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new jD(IS());{const o=GD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const n0="@firebase/storage",r0="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="storage";function Rd(t,e,n){return t=rt(t),EL(t,e,n)}function Pd(t){return t=rt(t),TL(t)}function kd(t,e){return t=rt(t),AL(t,e)}function PL(t=Cm(),e){t=rt(t);const r=id(t,VS).getImmediate({identifier:e}),i=uT("storage");return i&&kL(r,...i),r}function kL(t,e,n,r={}){RL(t,e,n,r)}function xL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Tg(n,r,i,e,_s)}function bL(){ls(new Ci(VS,xL,"PUBLIC").setMultipleInstances(!0)),ur(n0,r0,""),ur(n0,r0,"esm2017")}bL();const NL={apiKey:"AIzaSyAzqte2w6CDiFbE6Ox3iBfsZ2pT1Hy_-3c",authDomain:"gestaocombo-93bb4.firebaseapp.com",projectId:"gestaocombo-93bb4",storageBucket:"gestaocombo-93bb4.appspot.com",messagingSenderId:"722880187648",appId:"1:722880187648:web:22346016401fef925277e5",measurementId:"G-3N2LG1XPD5"},Sg=mT(NL),Uh=yN(Sg),Ce=sD(Sg),xd=PL(Sg);function FS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ci(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FS(t))&&(r&&(r+=" "),r+=e);return r}const al=t=>typeof t=="number"&&!isNaN(t),es=t=>typeof t=="string",gn=t=>typeof t=="function",Bu=t=>es(t)||gn(t)?t:null,fp=t=>R.isValidElement(t)||es(t)||gn(t)||al(t);function OL(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function bd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:u,preventExitTransition:c,done:d,nodeRef:p,isIn:g,playToast:w}=o;const S=r?`${e}--${u}`:e,A=r?`${n}--${u}`:n,x=R.useRef(0);return R.useLayoutEffect(()=>{const E=p.current,_=S.split(" "),y=O=>{O.target===p.current&&(w(),E.removeEventListener("animationend",y),E.removeEventListener("animationcancel",y),x.current===0&&O.type!=="animationcancel"&&E.classList.remove(..._))};E.classList.add(..._),E.addEventListener("animationend",y),E.addEventListener("animationcancel",y)},[]),R.useEffect(()=>{const E=p.current,_=()=>{E.removeEventListener("animationend",_),i?OL(E,d,s):d()};g||(c?_():(x.current=1,E.className+=` ${A}`,E.addEventListener("animationend",_)))},[g]),Se.createElement(Se.Fragment,null,l)}}function i0(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Yt=new Map;let ll=[];const pp=new Set,DL=t=>pp.forEach(e=>e(t)),US=()=>Yt.size>0;function BS(t,e){var n;if(e)return!((n=Yt.get(e))==null||!n.isToastActive(t));let r=!1;return Yt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function zS(t,e){fp(t)&&(US()||ll.push({content:t,options:e}),Yt.forEach(n=>{n.buildToast(t,e)}))}function s0(t,e){Yt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function LL(t){const{subscribe:e,getSnapshot:n,setProps:r}=R.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(d,p,g){let w=1,S=0,A=[],x=[],E=[],_=p;const y=new Map,O=new Set,M=()=>{E=Array.from(y.values()),O.forEach(v=>v())},U=v=>{x=v==null?[]:x.filter(C=>C!==v),M()},I=v=>{const{toastId:C,onOpen:P,updateId:N,children:D}=v.props,k=N==null;v.staleId&&y.delete(v.staleId),y.set(C,v),x=[...x,v.props.toastId].filter(ne=>ne!==v.staleId),M(),g(i0(v,k?"added":"updated")),k&&gn(P)&&P(R.isValidElement(D)&&D.props)};return{id:d,props:_,observe:v=>(O.add(v),()=>O.delete(v)),toggle:(v,C)=>{y.forEach(P=>{C!=null&&C!==P.props.toastId||gn(P.toggle)&&P.toggle(v)})},removeToast:U,toasts:y,clearQueue:()=>{S-=A.length,A=[]},buildToast:(v,C)=>{if((se=>{let{containerId:pe,toastId:Ee,updateId:Re}=se;const Oe=pe?pe!==d:d!==1,Ue=y.has(Ee)&&Re==null;return Oe||Ue})(C))return;const{toastId:P,updateId:N,data:D,staleId:k,delay:ne}=C,we=()=>{U(P)},Le=N==null;Le&&S++;const K={..._,style:_.toastStyle,key:w++,...Object.fromEntries(Object.entries(C).filter(se=>{let[pe,Ee]=se;return Ee!=null})),toastId:P,updateId:N,data:D,closeToast:we,isIn:!1,className:Bu(C.className||_.toastClassName),bodyClassName:Bu(C.bodyClassName||_.bodyClassName),progressClassName:Bu(C.progressClassName||_.progressClassName),autoClose:!C.isLoading&&($=C.autoClose,Q=_.autoClose,$===!1||al($)&&$>0?$:Q),deleteToast(){const se=y.get(P),{onClose:pe,children:Ee}=se.props;gn(pe)&&pe(R.isValidElement(Ee)&&Ee.props),g(i0(se,"removed")),y.delete(P),S--,S<0&&(S=0),A.length>0?I(A.shift()):M()}};var $,Q;K.closeButton=_.closeButton,C.closeButton===!1||fp(C.closeButton)?K.closeButton=C.closeButton:C.closeButton===!0&&(K.closeButton=!fp(_.closeButton)||_.closeButton);let W=v;R.isValidElement(v)&&!es(v.type)?W=R.cloneElement(v,{closeToast:we,toastProps:K,data:D}):gn(v)&&(W=v({closeToast:we,toastProps:K,data:D}));const ee={content:W,props:K,staleId:k};_.limit&&_.limit>0&&S>_.limit&&Le?A.push(ee):al(ne)?setTimeout(()=>{I(ee)},ne):I(ee)},setProps(v){_=v},setToggle:(v,C)=>{y.get(v).toggle=C},isToastActive:v=>x.some(C=>C===v),getSnapshot:()=>_.newestOnTop?E.reverse():E}}(o,s,DL);Yt.set(o,u);const c=u.observe(l);return ll.forEach(d=>zS(d.content,d.options)),ll=[],()=>{c(),Yt.delete(o)}},setProps(l){var u;(u=Yt.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=Yt.get(o))==null?void 0:l.getSnapshot()}}}(t)).current;r(t);const i=R.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:BS,count:i==null?void 0:i.length}}function ML(t){const[e,n]=R.useState(!1),[r,i]=R.useState(!1),s=R.useRef(null),o=R.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:p}=t;var g,w;function S(){n(!0)}function A(){n(!1)}function x(y){const O=s.current;o.canDrag&&O&&(o.didMove=!0,e&&A(),o.delta=t.draggableDirection==="x"?y.clientX-o.start:y.clientY-o.start,o.start!==y.clientX&&(o.canCloseOnClick=!1),O.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,O.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",E);const y=s.current;if(o.canDrag&&o.didMove&&y){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();y.style.transition="transform 0.2s, opacity 0.2s",y.style.removeProperty("transform"),y.style.removeProperty("opacity")}}(w=Yt.get((g={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||w.setToggle(g.id,g.fn),R.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||A(),window.addEventListener("focus",S),window.addEventListener("blur",A),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",A)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(y){if(t.draggable===!0||t.draggable===y.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",E);const O=s.current;o.canCloseOnClick=!0,o.canDrag=!0,O.style.transition="none",t.draggableDirection==="x"?(o.start=y.clientX,o.removalDistance=O.offsetWidth*(t.draggablePercent/100)):(o.start=y.clientY,o.removalDistance=O.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(y){const{top:O,bottom:M,left:U,right:I}=s.current.getBoundingClientRect();y.nativeEvent.type!=="touchend"&&t.pauseOnHover&&y.clientX>=U&&y.clientX<=I&&y.clientY>=O&&y.clientY<=M?A():S()}};return l&&u&&(_.onMouseEnter=A,t.stacked||(_.onMouseLeave=S)),p&&(_.onClick=y=>{d&&d(y),o.canCloseOnClick&&c()}),{playToast:S,pauseToast:A,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function jL(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:u,progress:c,rtl:d,isIn:p,theme:g}=t;const w=s||u&&c===0,S={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(S.transform=`scaleX(${c})`);const A=ci("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=gn(o)?o({rtl:d,type:i,defaultClassName:A}):ci(A,o),E={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{p&&r()}};return Se.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Se.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),Se.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:x,style:S,...E}))}let VL=1;const $S=()=>""+VL++;function FL(t){return t&&(es(t.toastId)||al(t.toastId))?t.toastId:$S()}function ba(t,e){return zS(t,e),e.toastId}function Oc(t,e){return{...e,type:e&&e.type||t,toastId:FL(e)}}function vu(t){return(e,n)=>ba(e,Oc(t,n))}function G(t,e){return ba(t,Oc("default",e))}G.loading=(t,e)=>ba(t,Oc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),G.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=es(i)?G.loading(i,n):G.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,p,g)=>{if(p==null)return void G.dismiss(r);const w={type:d,...l,...n,data:g},S=es(p)?{render:p}:p;return r?G.update(r,{...w,...S}):G(S.render,{...w,...S}),g},c=gn(t)?t():t;return c.then(d=>u("success",o,d)).catch(d=>u("error",s,d)),c},G.success=vu("success"),G.info=vu("info"),G.error=vu("error"),G.warning=vu("warning"),G.warn=G.warning,G.dark=(t,e)=>ba(t,Oc("default",{theme:"dark",...e})),G.dismiss=function(t){(function(e){var n;if(US()){if(e==null||es(n=e)||al(n))Yt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Yt.get(e.containerId);r?r.removeToast(e.id):Yt.forEach(i=>{i.removeToast(e.id)})}}else ll=ll.filter(r=>e!=null&&r.options.toastId!==e)})(t)},G.clearWaitingQueue=function(t){t===void 0&&(t={}),Yt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},G.isActive=BS,G.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Yt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:$S()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,ba(o,s)}},G.done=t=>{G.update(t,{progress:1})},G.onChange=function(t){return pp.add(t),()=>{pp.delete(t)}},G.play=t=>s0(!0,t),G.pause=t=>s0(!1,t);const UL=typeof window<"u"?R.useLayoutEffect:R.useEffect,_u=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Se.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Bh={info:function(t){return Se.createElement(_u,{...t},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Se.createElement(_u,{...t},Se.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Se.createElement(_u,{...t},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Se.createElement(_u,{...t},Se.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Se.createElement("div",{className:"Toastify__spinner"})}},BL=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=ML(t),{closeButton:o,children:l,autoClose:u,onClick:c,type:d,hideProgressBar:p,closeToast:g,transition:w,position:S,className:A,style:x,bodyClassName:E,bodyStyle:_,progressClassName:y,progressStyle:O,updateId:M,role:U,progress:I,rtl:v,toastId:C,deleteToast:P,isIn:N,isLoading:D,closeOnClick:k,theme:ne}=t,we=ci("Toastify__toast",`Toastify__toast-theme--${ne}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":v},{"Toastify__toast--close-on-click":k}),Le=gn(A)?A({rtl:v,position:S,type:d,defaultClassName:we}):ci(we,A),K=function(ee){let{theme:se,type:pe,isLoading:Ee,icon:Re}=ee,Oe=null;const Ue={theme:se,type:pe};return Re===!1||(gn(Re)?Oe=Re({...Ue,isLoading:Ee}):R.isValidElement(Re)?Oe=R.cloneElement(Re,Ue):Ee?Oe=Bh.spinner():(_t=>_t in Bh)(pe)&&(Oe=Bh[pe](Ue))),Oe}(t),$=!!I||!u,Q={closeToast:g,type:d,theme:ne};let W=null;return o===!1||(W=gn(o)?o(Q):R.isValidElement(o)?R.cloneElement(o,Q):function(ee){let{closeToast:se,theme:pe,ariaLabel:Ee="close"}=ee;return Se.createElement("button",{className:`Toastify__close-button Toastify__close-button--${pe}`,type:"button",onClick:Re=>{Re.stopPropagation(),se(Re)},"aria-label":Ee},Se.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Se.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Q)),Se.createElement(w,{isIn:N,done:P,position:S,preventExitTransition:n,nodeRef:r,playToast:s},Se.createElement("div",{id:C,onClick:c,"data-in":N,className:Le,...i,style:x,ref:r},Se.createElement("div",{...N&&{role:U},className:gn(E)?E({type:d}):ci("Toastify__toast-body",E),style:_},K!=null&&Se.createElement("div",{className:ci("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},K),Se.createElement("div",null,l)),W,Se.createElement(jL,{...M&&!$?{key:`pb-${M}`}:{},rtl:v,theme:ne,delay:u,isRunning:e,isIn:N,closeToast:g,hide:p,type:d,style:O,className:y,controlledProgress:$,progress:I||0})))},Nd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},zL=bd(Nd("bounce",!0));bd(Nd("slide",!0));bd(Nd("zoom"));bd(Nd("flip"));const $L={position:"top-right",transition:zL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function qL(t){let e={...$L,...t};const n=t.stacked,[r,i]=R.useState(!0),s=R.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=LL(e),{className:c,style:d,rtl:p,containerId:g}=e;function w(A){const x=ci("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":p});return gn(c)?c({position:A,rtl:p,defaultClassName:x}):ci(x,Bu(c))}function S(){n&&(i(!0),G.play())}return UL(()=>{if(n){var A;const x=s.current.querySelectorAll('[data-in="true"]'),E=12,_=(A=e.position)==null?void 0:A.includes("top");let y=0,O=0;Array.from(x).reverse().forEach((M,U)=>{const I=M;I.classList.add("Toastify__toast--stacked"),U>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=_?"top":"bot");const v=y*(r?.2:1)+(r?0:E*U);I.style.setProperty("--y",`${_?v:-1*v}px`),I.style.setProperty("--g",`${E}`),I.style.setProperty("--s",""+(1-(r?O:0))),y+=I.offsetHeight,O+=.025})}},[r,u,n]),Se.createElement("div",{ref:s,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),G.pause())},onMouseLeave:S},o((A,x)=>{const E=x.length?{...d}:{...d,pointerEvents:"none"};return Se.createElement("div",{className:w(A),style:E,key:`container-${A}`},x.map(_=>{let{content:y,props:O}=_;return Se.createElement(BL,{...O,stacked:n,collapseAll:S,isIn:l(O.toastId,O.containerId),style:O.style,key:`toast-${O.key}`},y)}))}))}const Tn=R.createContext({});function WL({children:t}){const[e,n]=R.useState(null),[r,i]=R.useState(!1),[s,o]=R.useState(!0);R.useEffect(()=>{async function g(){const w=localStorage.getItem("@tickets");w&&n(JSON.parse(w)),o(!1)}g()},[]);async function l(g,w){i(!0),await nb(Uh,g,w).then(async S=>{let A=S.user.uid;const x=It(Ce,"users",A),E=await yg(x);let _=E.data().isAdmin||!1,y={role:E.data().role,uid:A,nome:E.data().nome,email:S.user.email,avatarUrl:E.data().avatarUrl,isAdmin:_};n(y),d(y),i(!1),G.success("Bem vindo(a) de volta"),u("/dashboard")}).catch(S=>{console.log(S),i(!1),G.error("Ops algo deu errado")})}const u=ko();async function c(g,w,S,A=!1,x){i(!0),await tb(Uh,g,w).then(async E=>{let _=E.user.uid;await vD(It(Ce,"users",_),{nome:S,avatarUrl:null,isAdmin:A,role:x}).then(()=>{let y={uid:_,nome:S,email:E.user.email,avatarUrl:null,isAdmin:A,role:x};n(y),d(y),i(!1),G.success("Bem vindo ao sistema"),u("/dashboard")})}).catch(E=>{console.log(E),i(!1)})}function d(g){localStorage.setItem("@tickets",JSON.stringify(g))}async function p(){await sb(Uh),localStorage.removeItem("@tickets"),n(null)}return f.jsx(Tn.Provider,{value:{signed:!!e,user:e,signIn:l,signUp:c,logout:p,loadingAuth:r,loading:s,storageUser:d,setUser:n},children:t})}function HL(){const[t,e]=R.useState(""),[n,r]=R.useState(""),{signIn:i,loadingAuth:s}=R.useContext(Tn);async function o(l){l.preventDefault(),t!==""&&n!==""&&await i(t,n)}return f.jsx("div",{className:"container-center",children:f.jsxs("div",{className:"login",children:[f.jsx("div",{className:"login-area",children:f.jsx("img",{src:iT,alt:"logo"})}),f.jsxs("form",{onSubmit:o,children:[f.jsx("h1",{children:"Entrar"}),f.jsx("input",{type:"text",placeholder:"email@email.com",value:t,onChange:l=>e(l.target.value)}),f.jsx("input",{type:"password",placeholder:"******",value:n,onChange:l=>r(l.target.value)}),f.jsx("button",{type:"submit",children:s?"Carregando...":"Acessar"})]}),f.jsx(Tt,{to:"/"})]})})}function KL(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(""),[o,l]=R.useState("tecnico"),{signUp:u,loadingAuth:c}=R.useContext(Tn);async function d(p){p.preventDefault();const g=o==="admin";t!==""&&n!==""&&i!==""&&(console.log("Submitting with role:",o),await u(n,i,t,g,o))}return f.jsx("div",{className:"container-center",children:f.jsxs("div",{className:"login",children:[f.jsx("div",{className:"login-area",children:f.jsx("img",{src:iT,alt:"logo"})}),f.jsxs("form",{onSubmit:d,children:[f.jsx("h1",{children:"Cadastrar-se"}),f.jsx("input",{type:"text",placeholder:"nome",value:t,onChange:p=>e(p.target.value)}),f.jsx("input",{type:"text",placeholder:"email",value:n,onChange:p=>r(p.target.value)}),f.jsx("input",{type:"password",placeholder:"senha",value:i,onChange:p=>s(p.target.value)}),f.jsx("label",{htmlFor:"role"}),f.jsxs("select",{id:"role",value:o,onChange:p=>l(p.target.value),children:[f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"tecnico",children:"Tcnico"}),f.jsx("option",{value:"designer",children:"Designer"}),f.jsx("option",{value:"administrativo",children:"Administrativo"}),f.jsx("option",{value:"recepcao",children:"Recepo"})]}),f.jsx("button",{type:"submit",children:c?"Carregando":"Cadastrar"})]}),f.jsx(Tt,{to:"/dashboard",children:"Voltar ao dashboard"})]})})}const qS="/assets/avatar-DXAZSZ8c.png";var WS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o0=Se.createContext&&Se.createContext(WS),GL=["attr","size","title"];function QL(t,e){if(t==null)return{};var n=YL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}function a0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a0(Object(n),!0).forEach(function(r){XL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XL(t,e,n){return e=JL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JL(t){var e=ZL(t,"string");return typeof e=="symbol"?e:e+""}function ZL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HS(t){return t&&t.map((e,n)=>Se.createElement(e.tag,Lc({key:n},e.attr),HS(e.child)))}function vt(t){return e=>Se.createElement(eM,Dc({attr:Lc({},t.attr)},e),HS(t.child))}function eM(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=QL(t,GL),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Se.createElement("svg",Dc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Lc(Lc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Se.createElement("title",null,s),t.children)};return o0!==void 0?Se.createElement(o0.Consumer,null,n=>e(n)):e(WS)}function tM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function nM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function KS(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"22",y1:"12",x2:"18",y2:"12"},child:[]},{tag:"line",attr:{x1:"6",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"6",x2:"12",y2:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"18"},child:[]}]})(t)}function Ig(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function GS(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function So(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function QS(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(t)}function Cg(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function ul(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Ag(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function YS(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function rM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(t)}function iM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function sM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"7",y:"7",width:"3",height:"9"},child:[]},{tag:"rect",attr:{x:"14",y:"7",width:"3",height:"5"},child:[]}]})(t)}function oM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function Rg(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function XS(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function aM(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function l0(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Gn(){const{user:t}=R.useContext(Tn),e=t?t.isAdmin:!1;return f.jsxs("div",{className:"sidebar",children:[f.jsx("div",{children:f.jsx("img",{src:t.avatarUrl===null?qS:t.avatarUrl,alt:"Foto do usurio"})}),f.jsxs(Tt,{to:"/dashboard",children:[f.jsx(sM,{color:"#fff",size:24}),"Chamados"]}),f.jsxs(Tt,{to:"/atendidos",children:[f.jsx(rM,{color:"#fff",size:24}),"Atendidos"]}),f.jsxs(Tt,{to:"#",onClick:()=>alert("Funo em desenvolvimento"),children:[f.jsx(aM,{color:"#fff",size:24}),"Equipe"]}),f.jsxs(Tt,{to:"/customers",children:[f.jsx(XS,{color:"#fff",size:24}),"Clientes"]}),f.jsxs(Tt,{to:"/checking",children:[f.jsx(tM,{color:"#fff",size:24}),"Checking"]}),f.jsxs(Tt,{to:"/equipamentos",children:[f.jsx(nM,{color:"#fff",size:24}),"Equipamentos"]}),e&&f.jsxs(Tt,{to:"/register",children:[f.jsx(Rg,{color:"#fff",size:24}),"Novo usurio"]}),f.jsxs(Tt,{to:"/profile",children:[f.jsx(YS,{color:"#fff",size:24}),"Perfil"]})]})}function Qn({children:t,name:e}){return f.jsxs("div",{className:"title",children:[t,f.jsx("span",{children:e})]})}function JS(t,e){return function(){return t.apply(e,arguments)}}const{toString:lM}=Object.prototype,{getPrototypeOf:Pg}=Object,Od=(t=>e=>{const n=lM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=t=>(t=t.toLowerCase(),e=>Od(e)===t),Dd=t=>e=>typeof e===t,{isArray:Do}=Array,cl=Dd("undefined");function uM(t){return t!==null&&!cl(t)&&t.constructor!==null&&!cl(t.constructor)&&bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZS=Yn("ArrayBuffer");function cM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZS(t.buffer),e}const dM=Dd("string"),bn=Dd("function"),eI=Dd("number"),Ld=t=>t!==null&&typeof t=="object",hM=t=>t===!0||t===!1,zu=t=>{if(Od(t)!=="object")return!1;const e=Pg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fM=Yn("Date"),pM=Yn("File"),mM=Yn("Blob"),gM=Yn("FileList"),yM=t=>Ld(t)&&bn(t.pipe),vM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bn(t.append)&&((e=Od(t))==="formdata"||e==="object"&&bn(t.toString)&&t.toString()==="[object FormData]"))},_M=Yn("URLSearchParams"),[wM,EM,TM,SM]=["ReadableStream","Request","Response","Headers"].map(Yn),IM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Do(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function tI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const nI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rI=t=>!cl(t)&&t!==nI;function mp(){const{caseless:t}=rI(this)&&this||{},e={},n=(r,i)=>{const s=t&&tI(e,i)||i;zu(e[s])&&zu(r)?e[s]=mp(e[s],r):zu(r)?e[s]=mp({},r):Do(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Nl(arguments[r],n);return e}const CM=(t,e,n,{allOwnKeys:r}={})=>(Nl(e,(i,s)=>{n&&bn(i)?t[s]=JS(i,n):t[s]=i},{allOwnKeys:r}),t),AM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),RM=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PM=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Pg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},xM=t=>{if(!t)return null;if(Do(t))return t;let e=t.length;if(!eI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},bM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Pg(Uint8Array)),NM=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},OM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},DM=Yn("HTMLFormElement"),LM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),u0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),MM=Yn("RegExp"),iI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Nl(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},jM=t=>{iI(t,(e,n)=>{if(bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},VM=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Do(t)?r(t):r(String(t).split(e)),n},FM=()=>{},UM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,zh="abcdefghijklmnopqrstuvwxyz",c0="0123456789",sI={DIGIT:c0,ALPHA:zh,ALPHA_DIGIT:zh+zh.toUpperCase()+c0},BM=(t=16,e=sI.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function zM(t){return!!(t&&bn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const $M=t=>{const e=new Array(10),n=(r,i)=>{if(Ld(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Do(r)?[]:{};return Nl(r,(o,l)=>{const u=n(o,i+1);!cl(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},qM=Yn("AsyncFunction"),WM=t=>t&&(Ld(t)||bn(t))&&bn(t.then)&&bn(t.catch),V={isArray:Do,isArrayBuffer:ZS,isBuffer:uM,isFormData:vM,isArrayBufferView:cM,isString:dM,isNumber:eI,isBoolean:hM,isObject:Ld,isPlainObject:zu,isReadableStream:wM,isRequest:EM,isResponse:TM,isHeaders:SM,isUndefined:cl,isDate:fM,isFile:pM,isBlob:mM,isRegExp:MM,isFunction:bn,isStream:yM,isURLSearchParams:_M,isTypedArray:bM,isFileList:gM,forEach:Nl,merge:mp,extend:CM,trim:IM,stripBOM:AM,inherits:RM,toFlatObject:PM,kindOf:Od,kindOfTest:Yn,endsWith:kM,toArray:xM,forEachEntry:NM,matchAll:OM,isHTMLForm:DM,hasOwnProperty:u0,hasOwnProp:u0,reduceDescriptors:iI,freezeMethods:jM,toObjectSet:VM,toCamelCase:LM,noop:FM,toFiniteNumber:UM,findKey:tI,global:nI,isContextDefined:rI,ALPHABET:sI,generateString:BM,isSpecCompliantForm:zM,toJSONObject:$M,isAsyncFn:qM,isThenable:WM};function _e(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}V.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const oI=_e.prototype,aI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{aI[t]={value:t}});Object.defineProperties(_e,aI);Object.defineProperty(oI,"isAxiosError",{value:!0});_e.from=(t,e,n,r,i,s)=>{const o=Object.create(oI);return V.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),_e.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const HM=null;function gp(t){return V.isPlainObject(t)||V.isArray(t)}function lI(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function d0(t,e,n){return t?t.concat(e).map(function(i,s){return i=lI(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function KM(t){return V.isArray(t)&&!t.some(gp)}const GM=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Md(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,x){return!V.isUndefined(x[A])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function c(S){if(S===null)return"";if(V.isDate(S))return S.toISOString();if(!u&&V.isBlob(S))throw new _e("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(S)||V.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function d(S,A,x){let E=S;if(S&&!x&&typeof S=="object"){if(V.endsWith(A,"{}"))A=r?A:A.slice(0,-2),S=JSON.stringify(S);else if(V.isArray(S)&&KM(S)||(V.isFileList(S)||V.endsWith(A,"[]"))&&(E=V.toArray(S)))return A=lI(A),E.forEach(function(y,O){!(V.isUndefined(y)||y===null)&&e.append(o===!0?d0([A],O,s):o===null?A:A+"[]",c(y))}),!1}return gp(S)?!0:(e.append(d0(x,A,s),c(S)),!1)}const p=[],g=Object.assign(GM,{defaultVisitor:d,convertValue:c,isVisitable:gp});function w(S,A){if(!V.isUndefined(S)){if(p.indexOf(S)!==-1)throw Error("Circular reference detected in "+A.join("."));p.push(S),V.forEach(S,function(E,_){(!(V.isUndefined(E)||E===null)&&i.call(e,E,V.isString(_)?_.trim():_,A,g))===!0&&w(E,A?A.concat(_):[_])}),p.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return w(t),e}function h0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function kg(t,e){this._pairs=[],t&&Md(t,this,e)}const uI=kg.prototype;uI.append=function(e,n){this._pairs.push([e,n])};uI.toString=function(e){const n=e?function(r){return e.call(this,r,h0)}:h0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cI(t,e,n){if(!e)return t;const r=n&&n.encode||QM,i=n&&n.serialize;let s;if(i?s=i(e,n):s=V.isURLSearchParams(e)?e.toString():new kg(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class f0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YM=typeof URLSearchParams<"u"?URLSearchParams:kg,XM=typeof FormData<"u"?FormData:null,JM=typeof Blob<"u"?Blob:null,ZM={isBrowser:!0,classes:{URLSearchParams:YM,FormData:XM,Blob:JM},protocols:["http","https","file","blob","url","data"]},xg=typeof window<"u"&&typeof document<"u",ej=(t=>xg&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),tj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nj=xg&&window.location.href||"http://localhost",rj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xg,hasStandardBrowserEnv:ej,hasStandardBrowserWebWorkerEnv:tj,origin:nj},Symbol.toStringTag,{value:"Module"})),$n={...rj,...ZM};function ij(t,e){return Md(t,new $n.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return $n.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function sj(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oj(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function hI(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&V.isArray(i)?i.length:o,u?(V.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!V.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&V.isArray(i[o])&&(i[o]=oj(i[o])),!l)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,i)=>{e(sj(r),i,n,0)}),n}return null}function aj(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ol={transitional:dI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(hI(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ij(e,this.formSerializer).toString();if((l=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Md(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),aj(e)):e}],transformResponse:[function(e){const n=this.transitional||Ol.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?_e.from(l,_e.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Ol.headers[t]={}});const lj=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uj=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&lj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},p0=Symbol("internals");function sa(t){return t&&String(t).trim().toLowerCase()}function $u(t){return t===!1||t==null?t:V.isArray(t)?t.map($u):String(t)}function cj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const dj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $h(t,e,n,r,i){if(V.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function hj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function fj(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class un{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,c){const d=sa(u);if(!d)throw new Error("header name must be a non-empty string");const p=V.findKey(i,d);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||u]=$u(l))}const o=(l,u)=>V.forEach(l,(c,d)=>s(c,d,u));if(V.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(V.isString(e)&&(e=e.trim())&&!dj(e))o(uj(e),n);else if(V.isHeaders(e))for(const[l,u]of e.entries())s(u,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=sa(e),e){const r=V.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return cj(i);if(V.isFunction(n))return n.call(this,i,r);if(V.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sa(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$h(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=sa(o),o){const l=V.findKey(r,o);l&&(!n||$h(r,r[l],l,n))&&(delete r[l],i=!0)}}return V.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||$h(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return V.forEach(this,(i,s)=>{const o=V.findKey(r,s);if(o){n[o]=$u(i),delete n[s];return}const l=e?hj(s):String(s).trim();l!==s&&delete n[s],n[l]=$u(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[p0]=this[p0]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=sa(o);r[l]||(fj(i,o),r[l]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}}un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(un.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(un);function qh(t,e){const n=this||Ol,r=e||n,i=un.from(r.headers);let s=r.data;return V.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function fI(t){return!!(t&&t.__CANCEL__)}function Lo(t,e,n){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(Lo,_e,{__CANCEL__:!0});function pI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function mj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=r[s];o||(o=c),n[i]=u,r[i]=c;let p=s,g=0;for(;p!==i;)g+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const w=d&&c-d;return w?Math.round(g*1e3/w):void 0}}function gj(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,l=Date.now();if(o||l-n>r)return i&&(clearTimeout(i),i=null),n=l,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(l-n)))}}const Mc=(t,e,n=3)=>{let r=0;const i=mj(50,250);return gj(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),d=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-o)/c:void 0,event:s,lengthComputable:l!=null};p[e?"download":"upload"]=!0,t(p)},n)},yj=$n.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const l=V.isString(o)?i(o):o;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),vj=$n.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _j(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mI(t,e){return t&&!_j(e)?wj(t,e):e}const m0=t=>t instanceof un?{...t}:t;function ms(t,e){e=e||{};const n={};function r(c,d,p){return V.isPlainObject(c)&&V.isPlainObject(d)?V.merge.call({caseless:p},c,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function i(c,d,p){if(V.isUndefined(d)){if(!V.isUndefined(c))return r(void 0,c,p)}else return r(c,d,p)}function s(c,d){if(!V.isUndefined(d))return r(void 0,d)}function o(c,d){if(V.isUndefined(d)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,p){if(p in e)return r(c,d);if(p in t)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,d)=>i(m0(c),m0(d),!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=u[d]||i,g=p(t[d],e[d],d);V.isUndefined(g)&&p!==l||(n[d]=g)}),n}const gI=t=>{const e=ms({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=un.from(o),e.url=cI(mI(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(V.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...d]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if($n.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&yj(e.url))){const c=i&&s&&vj.read(s);c&&o.set(i,c)}return e},Ej=typeof XMLHttpRequest<"u",Tj=Ej&&function(t){return new Promise(function(n,r){const i=gI(t);let s=i.data;const o=un.from(i.headers).normalize();let{responseType:l}=i,u;function c(){i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function p(){if(!d)return;const w=un.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:w,config:t,request:d};pI(function(E){n(E),c()},function(E){r(E),c()},A),d=null}"onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(p)},d.onabort=function(){d&&(r(new _e("Request aborted",_e.ECONNABORTED,i,d)),d=null)},d.onerror=function(){r(new _e("Network Error",_e.ERR_NETWORK,i,d)),d=null},d.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||dI;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new _e(S,A.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,i,d)),d=null},s===void 0&&o.setContentType(null),"setRequestHeader"in d&&V.forEach(o.toJSON(),function(S,A){d.setRequestHeader(A,S)}),V.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),l&&l!=="json"&&(d.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&d.addEventListener("progress",Mc(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Mc(i.onUploadProgress)),(i.cancelToken||i.signal)&&(u=w=>{d&&(r(!w||w.type?new Lo(null,t,d):w),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const g=pj(i.url);if(g&&$n.protocols.indexOf(g)===-1){r(new _e("Unsupported protocol "+g+":",_e.ERR_BAD_REQUEST,t));return}d.send(s||null)})},Sj=(t,e)=>{let n=new AbortController,r;const i=function(u){if(!r){r=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof _e?c:new Lo(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{i(new _e(`timeout ${e} of ms exceeded`,_e.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u&&(u.removeEventListener?u.removeEventListener("abort",i):u.unsubscribe(i))}),t=null)};t.forEach(u=>u&&u.addEventListener&&u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=o,[l,()=>{s&&clearTimeout(s),s=null}]},Ij=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Cj=async function*(t,e,n){for await(const r of t)yield*Ij(ArrayBuffer.isView(r)?r:await n(String(r)),e)},g0=(t,e,n,r,i)=>{const s=Cj(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(l){const{done:u,value:c}=await s.next();if(u){l.close(),r();return}let d=c.byteLength;n&&n(o+=d),l.enqueue(new Uint8Array(c))},cancel(l){return r(l),s.return()}},{highWaterMark:2})},y0=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},jd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yI=jd&&typeof ReadableStream=="function",yp=jd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Aj=yI&&(()=>{let t=!1;const e=new Request($n.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),v0=64*1024,vp=yI&&!!(()=>{try{return V.isReadableStream(new Response("").body)}catch{}})(),jc={stream:vp&&(t=>t.body)};jd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!jc[e]&&(jc[e]=V.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new _e(`Response type '${e}' is not supported`,_e.ERR_NOT_SUPPORT,r)})})})(new Response);const Rj=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(V.isArrayBufferView(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await yp(t)).byteLength},Pj=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??Rj(e)},kj=jd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:d,withCredentials:p="same-origin",fetchOptions:g}=gI(t);c=c?(c+"").toLowerCase():"text";let[w,S]=i||s||o?Sj([i,s],o):[],A,x;const E=()=>{!A&&setTimeout(()=>{w&&w.unsubscribe()}),A=!0};let _;try{if(u&&Aj&&n!=="get"&&n!=="head"&&(_=await Pj(d,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),I;V.isFormData(r)&&(I=U.headers.get("content-type"))&&d.setContentType(I),U.body&&(r=g0(U.body,v0,y0(_,Mc(u)),null,yp))}V.isString(p)||(p=p?"cors":"omit"),x=new Request(e,{...g,signal:w,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",withCredentials:p});let y=await fetch(x);const O=vp&&(c==="stream"||c==="response");if(vp&&(l||O)){const U={};["status","statusText","headers"].forEach(v=>{U[v]=y[v]});const I=V.toFiniteNumber(y.headers.get("content-length"));y=new Response(g0(y.body,v0,l&&y0(I,Mc(l,!0)),O&&E,yp),U)}c=c||"text";let M=await jc[V.findKey(jc,c)||"text"](y,t);return!O&&E(),S&&S(),await new Promise((U,I)=>{pI(U,I,{data:M,headers:un.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:x})})}catch(y){throw E(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,t,x),{cause:y.cause||y}):_e.from(y,y&&y.code,t,x)}}),_p={http:HM,xhr:Tj,fetch:kj};V.forEach(_p,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _0=t=>`- ${t}`,xj=t=>V.isFunction(t)||t===null||t===!1,vI={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!xj(n)&&(r=_p[(o=String(n)).toLowerCase()],r===void 0))throw new _e(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(_0).join(`
`):" "+_0(s[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:_p};function Wh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Lo(null,t)}function w0(t){return Wh(t),t.headers=un.from(t.headers),t.data=qh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vI.getAdapter(t.adapter||Ol.adapter)(t).then(function(r){return Wh(t),r.data=qh.call(t,t.transformResponse,r),r.headers=un.from(r.headers),r},function(r){return fI(r)||(Wh(t),r&&r.response&&(r.response.data=qh.call(t,t.transformResponse,r.response),r.response.headers=un.from(r.response.headers))),Promise.reject(r)})}const _I="1.7.2",bg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const E0={};bg.transitional=function(e,n,r){function i(s,o){return"[Axios v"+_I+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new _e(i(o," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!E0[o]&&(E0[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};function bj(t,e,n){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new _e("option "+s+" must be "+u,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+s,_e.ERR_BAD_OPTION)}}const wp={assertOptions:bj,validators:bg},Gr=wp.validators;class ts{constructor(e){this.defaults=e,this.interceptors={request:new f0,response:new f0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ms(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&wp.assertOptions(r,{silentJSONParsing:Gr.transitional(Gr.boolean),forcedJSONParsing:Gr.transitional(Gr.boolean),clarifyTimeoutError:Gr.transitional(Gr.boolean)},!1),i!=null&&(V.isFunction(i)?n.paramsSerializer={serialize:i}:wp.assertOptions(i,{encode:Gr.function,serialize:Gr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&V.merge(s.common,s[n.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),n.headers=un.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(u=u&&A.synchronous,l.unshift(A.fulfilled,A.rejected))});const c=[];this.interceptors.response.forEach(function(A){c.push(A.fulfilled,A.rejected)});let d,p=0,g;if(!u){const S=[w0.bind(this),void 0];for(S.unshift.apply(S,l),S.push.apply(S,c),g=S.length,d=Promise.resolve(n);p<g;)d=d.then(S[p++],S[p++]);return d}g=l.length;let w=n;for(p=0;p<g;){const S=l[p++],A=l[p++];try{w=S(w)}catch(x){A.call(this,x);break}}try{d=w0.call(this,w)}catch(S){return Promise.reject(S)}for(p=0,g=c.length;p<g;)d=d.then(c[p++],c[p++]);return d}getUri(e){e=ms(this.defaults,e);const n=mI(e.baseURL,e.url);return cI(n,e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){ts.prototype[e]=function(n,r){return this.request(ms(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(ms(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ts.prototype[e]=n(),ts.prototype[e+"Form"]=n(!0)});class Ng{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Lo(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ng(function(i){e=i}),cancel:e}}}function Nj(t){return function(n){return t.apply(null,n)}}function Oj(t){return V.isObject(t)&&t.isAxiosError===!0}const Ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ep).forEach(([t,e])=>{Ep[e]=t});function wI(t){const e=new ts(t),n=JS(ts.prototype.request,e);return V.extend(n,ts.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wI(ms(t,i))},n}const ut=wI(Ol);ut.Axios=ts;ut.CanceledError=Lo;ut.CancelToken=Ng;ut.isCancel=fI;ut.VERSION=_I;ut.toFormData=Md;ut.AxiosError=_e;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=Nj;ut.isAxiosError=Oj;ut.mergeConfig=ms;ut.AxiosHeaders=un;ut.formToJSON=t=>hI(V.isHTMLForm(t)?new FormData(t):t);ut.getAdapter=vI.getAdapter;ut.HttpStatusCode=Ep;ut.default=ut;var Vd={},EI={exports:{}},Dj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lj=Dj,Mj=Lj;function TI(){}function SI(){}SI.resetWarningCache=TI;var jj=function(){function t(r,i,s,o,l,u){if(u!==Mj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SI,resetWarningCache:TI};return n.PropTypes=n,n};EI.exports=jj();var Vj=EI.exports;Object.defineProperty(Vd,"__esModule",{value:!0});Vd.default=void 0;var Fj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uj=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hh,T0,Og=Vd.confirmAlert=Yj,II=R,Jr=CI(II),Bj=Vj,Gt=CI(Bj),S0=qu;function CI(t){return t&&t.__esModule?t:{default:t}}function zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $j(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tp=(T0=Hh=function(t){$j(e,t);function e(){var n,r,i,s;zj(this,e);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return s=(r=(i=I0(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(l))),i),i.handleClickButton=function(c){c.onClick&&c.onClick(),i.close()},i.handleClickOverlay=function(c){var d=i.props,p=d.closeOnClickOutside,g=d.onClickOutside,w=c.target===i.overlay;p&&w&&(g(),i.close()),c.stopPropagation()},i.close=function(){var c=i.props.afterClose;Qj(),Kj(i.props),Wj(c)},i.keyboard=function(c){var d=i.props,p=d.closeOnEscape,g=d.onKeypressEscape,w=d.onkeyPress,S=d.keyCodeForClose,A=c.keyCode,x=A===27;S.includes(A)&&i.close(),p&&x&&(g(c),i.close()),w&&w()},i.componentDidMount=function(){document.addEventListener("keydown",i.keyboard,!1)},i.componentWillUnmount=function(){document.removeEventListener("keydown",i.keyboard,!1),i.props.willUnmount()},i.renderCustomUI=function(){var c=i.props,d=c.title,p=c.message,g=c.buttons,w=c.customUI,S={title:d,message:p,buttons:g,onClose:i.close};return w(S)},r),I0(i,s)}return Uj(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.title,o=i.message,l=i.buttons,u=i.childrenElement,c=i.customUI,d=i.overlayClassName;return Jr.default.createElement("div",{className:"react-confirm-alert-overlay "+d,ref:function(g){return r.overlay=g},onClick:this.handleClickOverlay},Jr.default.createElement("div",{className:"react-confirm-alert"},c?this.renderCustomUI():Jr.default.createElement("div",{className:"react-confirm-alert-body"},s&&Jr.default.createElement("h1",null,s),o,u(),Jr.default.createElement("div",{className:"react-confirm-alert-button-group"},l.map(function(p,g){return Jr.default.createElement("button",Fj({key:g,className:p.className},p,{onClick:function(S){return r.handleClickButton(p)}}),p.label)})))))}}]),e}(II.Component),Hh.propTypes={title:Gt.default.string,message:Gt.default.string,buttons:Gt.default.array.isRequired,childrenElement:Gt.default.func,customUI:Gt.default.func,closeOnClickOutside:Gt.default.bool,closeOnEscape:Gt.default.bool,keyCodeForClose:Gt.default.arrayOf(Gt.default.number),willUnmount:Gt.default.func,afterClose:Gt.default.func,onClickOutside:Gt.default.func,onKeypressEscape:Gt.default.func,onkeyPress:Gt.default.func,overlayClassName:Gt.default.string},Hh.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},T0);Vd.default=Tp;var ga=null,Sp="react-confirm-alert";function qj(){var t=document.getElementById("react-confirm-alert-firm-svg");if(!t){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"feGaussianBlur");n.setAttribute("stdDeviation","0.3");var r=document.createElementNS(e,"filter");r.setAttribute("id","gaussian-blur"),r.appendChild(n);var i=document.createElementNS(e,"svg");i.setAttribute("id","react-confirm-alert-firm-svg"),i.setAttribute("class","react-confirm-alert-svg"),i.appendChild(r),document.body.appendChild(i)}}function Wj(t){var e=document.getElementById("react-confirm-alert-firm-svg");e&&e.parentNode.removeChild(e),document.body.children[0].classList.remove("react-confirm-alert-blur"),t()}function Hj(t){var e=document.getElementById(t.targetId||Sp);t.targetId&&!e&&console.error("React Confirm Alert:","Can not get element id (#"+t.targetId+")"),e?(ga=(0,S0.createRoot)(e),ga.render(Jr.default.createElement(Tp,t))):(document.body.children[0].classList.add("react-confirm-alert-blur"),e=document.createElement("div"),e.id=Sp,document.body.appendChild(e),ga=(0,S0.createRoot)(e),ga.render(Jr.default.createElement(Tp,t)))}function Kj(t){var e=document.getElementById(t.targetId||Sp);e&&ga.unmount(e)}function Gj(){document.body.classList.add("react-confirm-alert-body-element")}function Qj(){document.body.classList.remove("react-confirm-alert-body-element")}function Yj(t){Gj(),qj(),Hj(t)}function Xn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function gs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const AI=6048e5,Xj=864e5;let Jj={};function Fd(){return Jj}function dl(t,e){var l,u,c,d;const n=Fd(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Xn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vc(t){return dl(t,{weekStartsOn:1})}function RI(t){const e=Xn(t),n=e.getFullYear(),r=gs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Vc(r),s=gs(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Vc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function C0(t){const e=Xn(t);return e.setHours(0,0,0,0),e}function A0(t){const e=Xn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zj(t,e){const n=C0(t),r=C0(e),i=+n-A0(n),s=+r-A0(r);return Math.round((i-s)/Xj)}function eV(t){const e=RI(t),n=gs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Vc(n)}function tV(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nV(t){if(!tV(t)&&typeof t!="number")return!1;const e=Xn(t);return!isNaN(Number(e))}function rV(t){const e=Xn(t),n=gs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const iV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sV=(t,e,n)=>{let r;const i=iV[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function io(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const oV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uV={date:io({formats:oV,defaultWidth:"full"}),time:io({formats:aV,defaultWidth:"full"}),dateTime:io({formats:lV,defaultWidth:"full"})},cV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dV=(t,e,n,r)=>cV[t];function nr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const hV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vV=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_V={ordinalNumber:vV,era:nr({values:hV,defaultWidth:"wide"}),quarter:nr({values:fV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nr({values:pV,defaultWidth:"wide"}),day:nr({values:mV,defaultWidth:"wide"}),dayPeriod:nr({values:gV,defaultWidth:"wide",formattingValues:yV,defaultFormattingWidth:"wide"})};function rr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?EV(l,p=>p.test(o)):wV(l,p=>p.test(o));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function wV(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function EV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function PI(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const TV=/^(\d+)(th|st|nd|rd)?/i,SV=/\d+/i,IV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CV={any:[/^b/i,/^(a|c)/i]},AV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RV={any:[/1/i,/2/i,/3/i,/4/i]},PV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DV={ordinalNumber:PI({matchPattern:TV,parsePattern:SV,valueCallback:t=>parseInt(t,10)}),era:rr({matchPatterns:IV,defaultMatchWidth:"wide",parsePatterns:CV,defaultParseWidth:"any"}),quarter:rr({matchPatterns:AV,defaultMatchWidth:"wide",parsePatterns:RV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rr({matchPatterns:PV,defaultMatchWidth:"wide",parsePatterns:kV,defaultParseWidth:"any"}),day:rr({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:NV,defaultMatchWidth:"any",parsePatterns:OV,defaultParseWidth:"any"})},LV={code:"en-US",formatDistance:sV,formatLong:uV,formatRelative:dV,localize:_V,match:DV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MV(t){const e=Xn(t);return Zj(e,rV(e))+1}function jV(t){const e=Xn(t),n=+Vc(e)-+eV(e);return Math.round(n/AI)+1}function kI(t,e){var d,p,g,w;const n=Xn(t),r=n.getFullYear(),i=Fd(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(g=i.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,o=gs(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=dl(o,e),u=gs(t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const c=dl(u,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function VV(t,e){var l,u,c,d;const n=Fd(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=kI(t,e),s=gs(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),dl(s,e)}function FV(t,e){const n=Xn(t),r=+dl(n,e)-+VV(n,e);return Math.round(r/AI)+1}function Me(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Me(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Me(n+1,2)},d(t,e){return Me(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Me(t.getHours()%12||12,e.length)},H(t,e){return Me(t.getHours(),e.length)},m(t,e){return Me(t.getMinutes(),e.length)},s(t,e){return Me(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Me(i,e.length)}},xs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Qr.y(t,e)},Y:function(t,e,n,r){const i=kI(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Me(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Me(s,e.length)},R:function(t,e){const n=RI(t);return Me(n,e.length)},u:function(t,e){const n=t.getFullYear();return Me(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=FV(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Me(i,e.length)},I:function(t,e,n){const r=jV(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Me(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qr.d(t,e)},D:function(t,e,n){const r=MV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Me(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Me(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Me(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xs.noon:r===0?i=xs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xs.evening:r>=12?i=xs.afternoon:r>=4?i=xs.morning:i=xs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qr.s(t,e)},S:function(t,e){return Qr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return k0(r);case"XXXX":case"XX":return qi(r);case"XXXXX":case"XXX":default:return qi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return k0(r);case"xxxx":case"xx":return qi(r);case"xxxxx":case"xxx":default:return qi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P0(r,":");case"OOOO":default:return"GMT"+qi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P0(r,":");case"zzzz":default:return"GMT"+qi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Me(r,e.length)},T:function(t,e,n){const r=t.getTime();return Me(r,e.length)}};function P0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Me(s,2)}function k0(t,e){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):qi(t,e)}function qi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Me(Math.trunc(r/60),2),s=Me(r%60,2);return n+i+e+s}const x0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return x0(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",x0(r,e)).replace("{{time}}",xI(i,e))},BV={p:xI,P:UV},zV=/^D+$/,$V=/^Y+$/,qV=["D","DD","YY","YYYY"];function WV(t){return zV.test(t)}function HV(t){return $V.test(t)}function KV(t,e,n){const r=GV(t,e,n);if(console.warn(r),qV.includes(t))throw new RangeError(r)}function GV(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XV=/^'([^]*?)'?$/,JV=/''/g,ZV=/[a-zA-Z]/;function or(t,e,n){var d,p,g,w,S,A,x,E;const r=Fd(),i=(n==null?void 0:n.locale)??r.locale??LV,s=(n==null?void 0:n.firstWeekContainsDate)??((p=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((A=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((E=(x=r.locale)==null?void 0:x.options)==null?void 0:E.weekStartsOn)??0,l=Xn(t);if(!nV(l))throw new RangeError("Invalid time value");let u=e.match(YV).map(_=>{const y=_[0];if(y==="p"||y==="P"){const O=BV[y];return O(_,i.formatLong)}return _}).join("").match(QV).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const y=_[0];if(y==="'")return{isToken:!1,value:eF(_)};if(R0[y])return{isToken:!0,value:_};if(y.match(ZV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(_=>{if(!_.isToken)return _.value;const y=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HV(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&WV(y))&&KV(y,e,String(t));const O=R0[y[0]];return O(l,y,i.localize,c)}).join("")}function eF(t){const e=t.match(XV);return e?e[1].replace(JV,"'"):t}const tF={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},nF=(t,e,n)=>{let r;const i=tF[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},rF={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},iF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sF={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oF={date:io({formats:rF,defaultWidth:"full"}),time:io({formats:iF,defaultWidth:"full"}),dateTime:io({formats:sF,defaultWidth:"full"})},aF={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},lF=(t,e,n,r)=>{const i=aF[t];return typeof i=="function"?i(e):i},uF={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},cF={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dF={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},hF={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},fF={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},pF={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},mF=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},gF={ordinalNumber:mF,era:nr({values:uF,defaultWidth:"wide"}),quarter:nr({values:cF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nr({values:dF,defaultWidth:"wide"}),day:nr({values:hF,defaultWidth:"wide"}),dayPeriod:nr({values:fF,defaultWidth:"wide",formattingValues:pF,defaultFormattingWidth:"wide"})},yF=/^(\d+)[o]?/i,vF=/\d+/i,_F={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},wF={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},EF={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},TF={any:[/1/i,/2/i,/3/i,/4/i]},SF={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},IF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},CF={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},AF={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},RF={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},PF={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},kF={ordinalNumber:PI({matchPattern:yF,parsePattern:vF,valueCallback:t=>parseInt(t,10)}),era:rr({matchPatterns:_F,defaultMatchWidth:"wide",parsePatterns:wF,defaultParseWidth:"any"}),quarter:rr({matchPatterns:EF,defaultMatchWidth:"wide",parsePatterns:TF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rr({matchPatterns:SF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any"}),day:rr({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:AF,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:RF,defaultMatchWidth:"any",parsePatterns:PF,defaultParseWidth:"any"})},Fc={code:"pt-BR",formatDistance:nF,formatLong:oF,formatRelative:lF,localize:gF,match:kF,options:{weekStartsOn:0,firstWeekContainsDate:1}},Dg=({ticketId:t,onClose:e,updateSolution:n})=>{const[r,i]=R.useState("No solucionado"),[s,o]=R.useState(null),[l,u]=R.useState(null),c=p=>{if(p.target.files[0]){const g=p.target.files[0];g.type==="image/jpeg"||g.type==="image/png"?(o(g),u(URL.createObjectURL(g))):(alert("Envie uma imagem do tipo PNG ou JPEG"),o(null),u(null))}},d=async()=>{try{const p=It(Ce,"chamados",t);if(s){const g=kd(xd,`images/tickets/${t}/${s.name}`);await Rd(g,s);const w=await Pd(g);await vn(p,{solucaoChamado:r,dataSolucao:r!=="No solucionado"?new Date:null,status:r!=="No solucionado"?"Atendido":"Aberto",imagemSolucao:w})}else await vn(p,{solucaoChamado:r,dataSolucao:r!=="No solucionado"?new Date:null,status:r!=="No solucionado"?"Atendido":"Aberto"});n(t,r,"Atendido"),G.success("Chamado atualizado com sucesso"),e(),window.location.reload()}catch(p){console.error("Erro ao salvar soluo:",p),G.error("Erro ao atualizar chamado")}};return f.jsx("div",{className:"solution-modal",children:f.jsxs("div",{className:"solution-modal-content",children:[f.jsx("h2",{children:"Alterar Soluo"}),f.jsxs("select",{value:r,onChange:p=>i(p.target.value),children:[f.jsx("option",{value:"No solucionado",children:"No solucionado"}),f.jsx("option",{value:"Troca do aparelho",children:"Troca do aparelho"}),f.jsx("option",{value:"Reiniciar aparelho",children:"Reiniciar rede/aparelho"}),f.jsx("option",{value:"Outros",children:"Outros"})]}),f.jsxs("label",{className:"label-avatar",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:c}),l&&f.jsx("img",{src:l,alt:"Pr-visualizao da imagem",width:"100",height:"100"})]}),f.jsx("button",{onClick:d,children:"OK"}),f.jsx("button",{onClick:e,children:"Cancelar"})]})})};function Lg({conteudo:t,close:e}){const[n,r]=R.useState(null),[i,s]=R.useState([]),[o,l]=R.useState(""),{user:u}=R.useContext(Tn);R.useEffect(()=>{(async()=>{try{const S=Vr(yt(Ce,"comments"),dg("ticketId","==",t.id)),x=(await Bt(S)).docs.map(E=>({id:E.id,...E.data()}));s(x)}catch(S){console.error("Erro ao carregar os comentrios: ",S)}})()},[t.id]);const c=w=>{r(w)},d=()=>{r(null)},p=async()=>{if(o.trim()==="")return;const w={ticketId:t.id,userName:u.nome,userRole:u.role||"Usurio",text:o,dateTime:new Date().toISOString()};try{const S=await Ji(yt(Ce,"comments"),w);s([...i,{id:S.id,...w}]),l("")}catch(S){console.error("Erro ao enviar o comentrio: ",S)}},g=w=>{Og({title:"Confirmao de Excluso",message:"Voc tem certeza que deseja deletar este comentrio?",buttons:[{label:"Sim",onClick:async()=>{try{await _D(It(Ce,"comments",w)),s(i.filter(S=>S.id!==w))}catch(S){console.error("Erro ao deletar o comentrio: ",S)}}},{label:"No",onClick:()=>{}}]})};return f.jsxs("div",{className:"modal",children:[f.jsxs("div",{className:"container",children:[f.jsx("button",{className:"close",onClick:e,children:f.jsx(l0,{size:16,color:"#fff"})}),f.jsxs("div",{className:"information-section",children:[f.jsx("h2",{children:"Detalhes do chamado"}),f.jsx("div",{className:"row",style:{marginTop:"1rem"},children:f.jsxs("span",{children:["Cliente: ",f.jsx("i",{children:t.cliente})]})}),f.jsxs("div",{className:"row",children:[f.jsxs("span",{children:["Assunto: ",f.jsx("i",{children:t.assunto})]}),f.jsx("div",{className:"row",style:{marginTop:"1rem"},children:f.jsxs("span",{children:["Cadastrado em : ",f.jsx("i",{children:t.createdFormat})]})})]}),f.jsxs("div",{className:"row",children:[f.jsxs("span",{children:["Status: ",f.jsx("i",{children:t.status})]}),f.jsx("div",{className:"row",style:{marginTop:"1rem"},children:f.jsxs("span",{children:["A caminho :"," ",f.jsx("i",{children:t.playChamado&&t.playChamado.timestamp?t.playChamado.timestamp.replace(/ UTC.*$/,""):"No disponvel"})]})}),f.jsx("div",{className:"row",style:{marginTop:"1rem"},children:f.jsxs("span",{children:["Chegada Local:"," ",f.jsx("i",{children:t.chegadaLocal&&t.chegadaLocal.timestamp?t.chegadaLocal.timestamp.replace(/ UTC.*$/,""):"No disponvel"})]})})]}),f.jsx("div",{className:"row",children:f.jsxs("span",{children:["Prioridade: ",f.jsx("i",{children:t.prioridade})]})}),f.jsx("div",{className:"row",children:f.jsxs("span",{children:["Tcnico: ",f.jsx("i",{children:t.tecnicoAtb})]})}),t.equipamento&&f.jsx("div",{className:"row",children:f.jsxs("span",{children:["Equipamento: ",f.jsx("i",{children:t.equipamento})]})}),t.complemento!==""&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Complemento"}),f.jsx("p",{children:t.complemento})]}),f.jsxs("div",{className:"row",children:[f.jsx("h3",{children:"Imagens de abertura"}),t.imageUrls.length>0?t.imageUrls.map((w,S)=>f.jsx("img",{src:w,alt:`Imagem de abertura ${S+1}`,className:"round-image",onClick:()=>c(w),onError:A=>{A.target.onerror=null,A.target.src="https://via.placeholder.com/100"}},S)):f.jsx("p",{children:"Sem imagem"})]}),f.jsxs("div",{className:"row",children:[f.jsx("h3",{children:"Imagem de soluo"}),t.imagemSolucao?f.jsx("img",{src:t.imagemSolucao,alt:"Imagem da soluo",className:"round-image",onClick:()=>c(t.imagemSolucao),onError:w=>{w.target.onerror=null,w.target.src="https://via.placeholder.com/100"}}):f.jsx("p",{children:"Sem imagem"})]}),f.jsx("div",{className:"row solution",children:f.jsxs("span",{children:["Soluo: ",f.jsx("i",{children:t.solucaoChamado})]})}),t.dataSolucao&&f.jsxs("div",{className:"row",children:[f.jsx("span",{children:"Data soluo: "}),f.jsx("i",{children:new Date(t.dataSolucao.seconds*1e3).toLocaleDateString()})]})]}),f.jsxs("div",{className:"comments-tab",children:[f.jsx("h3",{children:"Comentrios"}),f.jsx("div",{id:"comments-list",children:i.length>0?i.map((w,S)=>f.jsxs("div",{className:"comment",children:[f.jsxs("div",{className:"comment-header",children:[f.jsx("p",{children:f.jsxs("strong",{children:[w.userName," (",w.userRole,")"]})}),f.jsx("button",{className:"delete-comment",onClick:()=>g(w.id),children:f.jsx(iM,{size:14})})]}),f.jsx("p",{children:w.text}),f.jsx("p",{children:f.jsx("em",{children:new Date(w.dateTime).toLocaleString()})})]},S)):f.jsx("p",{children:"Sem comentrios"})}),f.jsxs("div",{className:"comment-box",children:[f.jsx("textarea",{id:"comment-input",placeholder:"Digite seu comentrio",value:o,onChange:w=>l(w.target.value)}),f.jsx("button",{id:"submit-comment",onClick:p,children:"Enviar"})]})]})]}),n&&f.jsx("div",{className:"expanded-image-modal",onClick:d,children:f.jsxs("div",{className:"expanded-image-container",children:[f.jsx("img",{src:n,alt:"Imagem expandida"}),f.jsxs("button",{className:"close-expanded",onClick:d,children:[f.jsx(l0,{size:25,color:"#fff"}),"Fechar"]})]})})]})}const b0=yt(Ce,"chamados");function xF(){const{logout:t,user:e}=R.useContext(Tn),n=e?e.nome:null,[r,i]=R.useState([]),[s,o]=R.useState(!0),[l,u]=R.useState(!1),[c,d]=R.useState(),[p,g]=R.useState(!1),[w,S]=R.useState(!1),[A,x]=R.useState(),[E,_]=R.useState("prioridade"),[y,O]=R.useState("desc"),[M,U]=R.useState(!1),[I,v]=R.useState(null),C=e?e.isAdmin:!1,[P,N]=R.useState([]),[D,k]=R.useState([]),[ne,we]=R.useState(!1),[Le,K]=R.useState({}),[$,Q]=R.useState({}),[W,ee]=R.useState([]),[se,pe]=R.useState({}),[Ee,Re]=R.useState({}),[Oe,Ue]=R.useState(""),[_t,Sn]=R.useState("");R.useEffect(()=>{async function b(){const F=Vr(b0,Eo("created","desc"),To(10)),Z=await Bt(F);let B=[],ae=new Set,ce=new Set;Z.forEach(J=>{B.push({id:J.id,assunto:J.data().assunto,prioridade:J.data().prioridade,solucaoChamado:J.data().solucaoChamado,cliente:J.data().cliente,clienteId:J.data().clienteId,created:J.data().created,createdFormat:or(J.data().created.toDate(),"dd/MM/yyyy"),status:J.data().status,complemento:J.data().complemento,dataSolucao:J.data().dataSolucao,horaSolucao:J.data().horaSolucao,tecnicoAtb:J.data().tecnicoAtb,imageUrls:J.data().imageUrls||[],imagemSolucao:J.data().imagemSolucao,equipamento:J.data().equipamento,playChamado:J.data().playChamado||null,chegadaLocal:J.data().chegadaLocal||null}),ae.add(J.data().status),ce.add(J.data().prioridade)});const qe=Array.from(ae).reduce((J,Ye)=>(J[Ye]=!0,J),{}),ot=Array.from(ce).reduce((J,Ye)=>(J[Ye]=!0,J),{});K(qe),Q(ot),pe(qe),Re(ot),B=B.filter(J=>J.status!=="Atendido"),i(ve(B)),ee(ve(B)),d(Z.docs[Z.docs.length-1]),o(!1),N(Array.from(ae)),k(Array.from(ce)),B.length===0&&u(!0)}b()},[]);const ie=()=>{we(!ne)};function ve(b){const F={Critica:5,Urgente:4,Alta:3,Mdia:2,Baixa:1};return[...b].sort((Z,B)=>{const ae=F[Z.prioridade]||0,ce=F[B.prioridade]||0;return y==="asc"?ae-ce:ce-ae})}async function ke(b){if(b.size===0)u(!0);else{let Z=[];b.forEach(B=>{Z.push({id:B.id,assunto:B.data().assunto,prioridade:B.data().prioridade,solucaoChamado:B.data().solucaoChamado,cliente:B.data().cliente,clienteId:B.data().clienteId,created:B.data().created,createdFormat:or(B.data().created.toDate(),"dd/MM/yyyy"),status:B.data().status,complemento:B.data().complemento,dataSolucao:B.data().dataSolucao,horaSolucao:B.data().horaSolucao,tecnicoAtb:B.data().tecnicoAtb,imageUrls:B.data().imageUrls||[],imagemSolucao:B.data().imagemSolucao,playChamado:B.data().playChamado||null,chegadaLocal:B.data().chegadaLocal||null})}),Z=Z.filter(B=>B.status!=="Atendido"),Z.length===0?u(!0):(i(B=>ve([...B,...Z])),d(b.docs[b.docs.length-1]))}g(!1)}const Ve=b=>{pe(F=>({...F,[b]:!F[b]}))},Ge=b=>{Re(F=>({...F,[b]:!F[b]}))},qt=()=>{K(se),Q(Ee),In(se,Ee,Oe,_t)},In=(b,F,Z,B)=>{const ae=W.filter(ce=>b[ce.status]&&F[ce.prioridade]&&(!Z||ce.tecnicoAtb.toLowerCase().includes(Z.toLowerCase()))&&(!B||ce.cliente.toLowerCase().includes(B.toLowerCase())));i(ae)},gr=b=>{v(b),U(!0)},yr=(b,F)=>{i(Z=>Z.map(B=>B.id===b?{...B,solucaoChamado:F}:B))};async function zr(){g(!0);const b=Vr(b0,Eo("created","desc"),gg(c),To(10)),F=await Bt(b);await ke(F)}function vr(b){S(!w),x(b)}function Cn(b){E===b?O(y==="asc"?"desc":"asc"):(_(b),O(b==="tecnicoAtb"?"asc":"desc")),i(b==="status"?F=>oe([...F]):b==="tecnicoAtb"?F=>Mi([...F]):F=>ve([...F]))}function Mi(b){return[...b].sort((F,Z)=>{const B=F.tecnicoAtb||"",ae=Z.tecnicoAtb||"";return y==="asc"?B.localeCompare(ae):ae.localeCompare(B)})}function oe(b){const F={Aberto:1,"Em andamento":2,Atendido:3};return[...b].sort((Z,B)=>{const ae=F[Z.status]||0,ce=F[B.status]||0;return y==="asc"?ae-ce:ce-ae})}async function ue(b){if(!n){G.error("Voc precisa estar logado para se atribuir a um chamado.");return}try{const F=It(Ce,"chamados",b);vn(F,{tecnicoAtb:n}),i(Z=>Z.map(B=>B.id===b?{...B,tecnicoAtb:n}:B)),G.success("Chamado atribudo a voc com sucesso!")}catch(F){console.error("Erro ao atribuir o chamado:",F),G.error("Erro ao atribuir o chamado.")}}const de=async(b,F,Z)=>{const B=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${b},${F}&key=${Z}`;try{const ae=await ut.get(B);if(console.log(ae.data),ae.data.status==="OK")return ae.data.results[0].formatted_address;throw new Error(`Geocode error: ${ae.data.status}`)}catch(ae){return console.error("Erro ao obter o endereo:",ae),null}},ge=(b,F,Z)=>{Og({title:b,message:F,buttons:[{label:"Sim",onClick:Z},{label:"No"}]})},be=async(b,F)=>{if(r.find(B=>B.id===b).playChamado){G.error("Voc j sinalizou que est a caminho do chamado!");return}ge("Confirmao","Voc deseja sinalizar que est a caminho?",async()=>{if(!navigator.geolocation){G.error("Geolocalizao no  suportada pelo seu navegador.");return}navigator.geolocation.getCurrentPosition(async B=>{const ae=new Date().toISOString(),{latitude:ce,longitude:qe}=B.coords,ot=await de(ce,qe,"AIzaSyBCANKDqKej6Ek8Hzodf2G92MeSEqH1x6w");if(!ot){G.error("Erro ao obter o endereo.");return}const J=or(new Date(ae),"dd 'de' MMMM 'de' yyyy 's' HH:mm:ss 'UTC'xxx",{locale:Fc});try{const Ye=It(Ce,"chamados",b);await vn(Ye,{playChamado:{timestamp:J,location:new Un(ce,qe),address:ot}}),i(tn=>tn.map(Jn=>Jn.id===b?{...Jn,playChamado:{timestamp:J,location:new Un(ce,qe),address:ot}}:Jn)),G.success(`Voc sinalizou que est a caminho de ${F}`)}catch(Ye){console.error("Erro ao registrar o play:",Ye),G.error("Erro ao registrar o play.")}},B=>{console.error("Erro ao obter a geolocalizao:",B),G.error("Erro ao obter a geolocalizao.")})})},Wt=async b=>{const F=r.find(Z=>Z.id===b);if(F.chegadaLocal){G.error("Voc j sinalizou que chegou no local!");return}ge("Confirmao","Voc deseja sinalizar que chegou ao local?",async()=>{if(!F.playChamado){G.error("Voc precisa ativar 'Play Chamado' antes de registrar a chegada.");return}if(!navigator.geolocation){G.error("Geolocalizao no  suportada pelo seu navegador.");return}navigator.geolocation.getCurrentPosition(async Z=>{const B=new Date().toISOString(),{latitude:ae,longitude:ce}=Z.coords,qe=await de(ae,ce,"AIzaSyBCANKDqKej6Ek8Hzodf2G92MeSEqH1x6w");if(!qe){G.error("Erro ao obter o endereo.");return}const ot=or(new Date(B),"dd 'de' MMMM 'de' yyyy 's' HH:mm:ss 'UTC'xxx",{locale:Fc});try{const J=It(Ce,"chamados",b);await vn(J,{chegadaLocal:{timestamp:ot,location:new Un(ae,ce),address:qe}}),i(Ye=>Ye.map(tn=>tn.id===b?{...tn,chegadaLocal:{timestamp:ot,location:new Un(ae,ce),address:qe}}:tn)),G.success("Chegada registrada com sucesso!")}catch(J){console.error("Erro ao registrar a chegada:",J),G.error("Erro ao registrar a chegada.")}},Z=>{console.error("Erro ao obter a geolocalizao:",Z),G.error("Erro ao obter a geolocalizao.")})})};return s?f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Tickets",children:f.jsx(So,{size:25})}),f.jsx("div",{className:"container dashboard",children:f.jsx("span",{children:"Buscando chamados..."})})]})]}):f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Tickets",children:f.jsx(So,{size:25})}),f.jsx(f.Fragment,{children:r.filter(b=>C||b.tecnicoAtb===n||b.tecnicoAtb==="No atribudo").length===0?f.jsxs("div",{className:"container dashboard",children:[f.jsx("span",{children:"Nenhum chamado encontrado..."}),f.jsxs(Tt,{to:"/new",className:"new",children:[f.jsx(ul,{color:"#fff",size:25}),"Novo chamado"]}),f.jsx("button",{onClick:ie,className:"btn-filtros",children:"Filtros"}),ne&&f.jsxs("div",{className:"filter",children:[P.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`status-${F}`,checked:se[b],onChange:()=>Ve(b)}),f.jsxs("label",{htmlFor:`status-${F}`,children:["Status: ",b]})]},F)),D.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`prioridade-${F}`,checked:Ee[b],onChange:()=>Ge(b)}),f.jsxs("label",{htmlFor:`prioridade-${F}`,children:["Prioridade: ",b]})]},F)),f.jsxs("div",{className:"searchTecPonto",children:[f.jsx("input",{type:"text",placeholder:"Pesquisar um tcnico",value:Oe,onChange:b=>Ue(b.target.value)}),f.jsx("input",{type:"text",placeholder:"Pesquisar um ponto",value:_t,onChange:b=>Sn(b.target.value)})]}),f.jsx("button",{onClick:qt,className:"btn-filtros",children:"OK"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs(Tt,{to:"/new",className:"new",children:[f.jsx(ul,{color:"#fff",size:25}),"Novo chamado"]}),f.jsx("button",{onClick:ie,className:"btn-filtros",children:"Filtros"}),ne&&f.jsxs("div",{className:"filter",children:[P.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`status-${F}`,checked:se[b],onChange:()=>Ve(b)}),f.jsxs("label",{htmlFor:`status-${F}`,children:["Status: ",b]})]},F)),D.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`prioridade-${F}`,checked:Ee[b],onChange:()=>Ge(b)}),f.jsxs("label",{htmlFor:`prioridade-${F}`,children:["Prioridade: ",b]})]},F)),f.jsxs("div",{className:"searchTecPonto",children:[f.jsx("input",{type:"text",placeholder:"Pesquisar um tcnico",value:Oe,onChange:b=>Ue(b.target.value)}),f.jsx("input",{type:"text",placeholder:"Pesquisar um ponto",value:_t,onChange:b=>Sn(b.target.value)})]}),f.jsx("button",{onClick:qt,className:"btn-filtros",children:"OK"})]}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",children:"PONTO"}),f.jsx("th",{scope:"col",children:"Assunto"}),f.jsxs("th",{scope:"col",onClick:()=>Cn("status"),children:["Status"," ",E==="status"&&(y==="asc"?"":"")]}),f.jsxs("th",{scope:"col",onClick:()=>Cn("prioridade"),children:["Prioridade"," ",E==="prioridade"&&(y==="asc"?"":"")]}),f.jsx("th",{scope:"col",children:"Cadastrado em"}),f.jsxs("th",{scope:"col",onClick:()=>Cn("tecnicoAtb"),children:["Tcnico",E==="tecnicoAtb"&&(y==="asc"?"":"")]}),f.jsx("th",{scope:"col",children:"#"})]})}),f.jsx("tbody",{children:r.filter(b=>C||b.tecnicoAtb===n||b.tecnicoAtb==="No atribudo").map((b,F)=>f.jsxs("tr",{children:[f.jsx("td",{"data-label":"Ponto",children:b.cliente}),f.jsx("td",{"data-label":"Assunto",children:b.assunto}),f.jsx("td",{"data-label":"Status",children:f.jsx("span",{className:"badge",style:{backgroundColor:b.status==="Aberto"?"rgb(53, 131, 246)":b.status==="Atendido"?"#5cb85c":"#ffcc00",textShadow:"1px 2px 0px #000"},children:b.status})}),f.jsx("td",{"data-label":"Prioridade",children:f.jsx("span",{className:"badge",style:{backgroundColor:b.prioridade==="Urgente"||b.prioridade==="Critica"?"#ff0000":b.prioridade==="Mdia"||b.prioridade==="Alta"?"#FFCC00":"#5cb85c",textShadow:"1px 2px 0px #000"},children:b.prioridade})}),f.jsx("td",{"data-label":"Cadastrado",children:b.createdFormat}),f.jsx("td",{"data-label":"Cadastrado",children:b.tecnicoAtb?b.tecnicoAtb:"No atribudo"}),f.jsxs("td",{"data-label":"#",children:[f.jsx("button",{className:"action",style:{backgroundColor:b.playChamado?"#088F8F":"#5bc0de"},onClick:()=>be(b.id,b.cliente),disabled:b.playChamado,children:f.jsx(QS,{color:"#fff",size:17})}),f.jsx("button",{className:"action",style:{backgroundColor:"#088F8F"},onClick:()=>Wt(b.id),disabled:!b.playChamado,children:f.jsx(GS,{color:"#fff",size:17})}),f.jsx("button",{className:"action",style:{backgroundColor:"#f6a935"},onClick:()=>ue(b.id),disabled:b.status==="Atendido"||b.tecnicoAtb===n,children:f.jsx(Rg,{color:"#fff",size:15})}),f.jsx("button",{className:"action",style:{backgroundColor:"purple"},onClick:()=>gr(b.id),children:f.jsx(KS,{color:"#fff",size:15})}),f.jsx("button",{className:"action",style:{backgroundColor:"#3583f6"},onClick:()=>vr(b),children:f.jsx(Ag,{color:"#fff",size:15})}),M&&f.jsx(Dg,{ticketId:I,onClose:()=>U(!1),updateSolution:yr}),f.jsx(Tt,{to:`/new/${b.id}`,className:"action",style:{backgroundColor:"#f6a935"},children:f.jsx(Ig,{color:"#fff",size:15})})]})]},F))})]}),p&&f.jsx("h3",{children:"Buscando mais chamados..."}),!p&&!l&&f.jsx("button",{className:"btn-more",onClick:zr,children:"Buscar mais"})]})})]}),w&&f.jsx(Lg,{conteudo:A,close:()=>S(!w)})]})}function bF(){const{user:t,storageUser:e,setUser:n,logout:r}=R.useContext(Tn),[i,s]=R.useState(null),[o,l]=R.useState(t&&t.avatarUrl),[u,c]=R.useState(t&&t.nome),[d,p]=R.useState(t&&t.email),[g,w]=R.useState(t&&t.role);function S(E){if(E.target.files[0]){const _=E.target.files[0];if(_.type==="image/jpeg"||_.type==="image/png")s(_),l(URL.createObjectURL(_));else{alert("Envie uma imagem do tipo PNG ou JPEG"),s(null);return}}}async function A(){const E=t.uid,_=kd(xd,`images/${E}/${i.name}`);Rd(_,i).then(y=>{Pd(y.ref).then(async O=>{let M=O;const U=It(Ce,"users",t.uid);await vn(U,{avatarUrl:M,nome:u}).then(()=>{let I={...t,avatarUrl:M,nome:u};n(I),e(I),G.success("Atualizado com sucesso!")})})})}async function x(E){if(E.preventDefault(),i===null&&u!==""){const _=It(Ce,"users",t.uid);await vn(_,{nome:u}).then(()=>{let y={...t,nome:u};n(y),e(y),G.success("Dados atualizados com sucesso!")})}else u!==""&&i!==null&&A()}return f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Minha conta",children:f.jsx(YS,{color:"#000",size:25})}),f.jsx("div",{className:"container",children:f.jsxs("form",{className:"form-profile",onSubmit:x,children:[f.jsxs("label",{className:"label-avatar",children:[f.jsx("span",{children:f.jsx(oM,{color:"#fff",size:25})}),f.jsx("input",{type:"file",accept:"image/*",onChange:S})," ",f.jsx("br",{}),o===null?f.jsx("img",{src:qS,width:"250",height:"250",alt:"Foto de perfil do usurio"}):f.jsx("img",{src:o,width:"250",height:"250",alt:"Foto de perfil do usurio"})]}),f.jsx("label",{children:"Nome"}),f.jsx("input",{type:"text",value:u,onChange:E=>c(E.target.value)}),f.jsx("label",{children:"Email"}),f.jsx("input",{type:"text",value:d,disabled:!0}),f.jsx("label",{children:"Cargo"})," ",f.jsx("input",{type:"text",value:g,disabled:!0}),f.jsx("button",{type:"submit",children:"Salvar"})]})}),f.jsx("div",{className:"container",children:f.jsx("button",{className:"logout-btn",onClick:()=>r(),children:"Sair"})})]})]})}function Mn({children:t}){const{signed:e,loading:n}=R.useContext(Tn);return n?f.jsx("div",{children:"Carregando..."}):e?t:f.jsx(mP,{to:"/"})}function NF(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(""),[o,l]=R.useState(!1),[u,c]=R.useState([]),[d,p]=R.useState("");R.useState(!1);const[g,w]=R.useState(!1),[S,A]=R.useState(!1),[x,E]=R.useState(!1);R.useEffect(()=>{async function M(){const U=await Bt(yt(Ce,"customers"));let I=[];U.forEach(v=>{I.push({id:v.id,...v.data()})}),c(I)}M()},[]);async function _(M){M.preventDefault(),t!==""&&i!==""&&n!==""?await Ji(yt(Ce,"customers"),{pontoLocal:t,endereco:i,nomeFantasia:n,categoriaEquip:g,checkPc:S,checkCompartilhado:g==="PC"?x:!1}).then(()=>{e(""),s(""),r(""),g(""),x(""),G.success("Cliente cadastrado com sucesso!"),fetchClientes()}).catch(U=>{console.log(U),G.error("Erro ao cadastrar cliente")}):G.error("Preencha todos os campos")}const y=M=>M.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),O=u.filter(M=>y(M.pontoLocal).includes(y(d)));return f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Clientes",children:f.jsx(XS,{size:25})}),f.jsxs("div",{className:"container container-block",children:[f.jsx("input",{type:"text",placeholder:"Pesquisar cliente",value:d,onChange:M=>p(M.target.value)}),f.jsx("div",{className:"clientes-cadastrados",children:f.jsx("ul",{children:O.map(M=>f.jsx("li",{children:M.pontoLocal},M.id))})})]}),f.jsx("div",{className:"container",children:o?f.jsxs("form",{className:"form-profile",onSubmit:_,children:[f.jsx("label",{children:"Ponto"}),f.jsx("input",{type:"text",placeholder:"Ponto da empresa",value:t,onChange:M=>e(M.target.value)}),f.jsx("label",{children:"Nome empresa"}),f.jsx("input",{type:"text",placeholder:"Nome da empresa",value:n,onChange:M=>r(M.target.value)}),f.jsx("label",{children:"Endereo"}),f.jsx("input",{type:"text",placeholder:"Endereo da empresa",value:i,onChange:M=>s(M.target.value)}),f.jsx("button",{type:"submit",children:"Cadastrar"})]}):f.jsx("button",{onClick:()=>l(!0),className:"btn-cadastrarCliente",children:"Cadastrar cliente"})})]})]})}const OF=yt(Ce,"customers");function N0(){const t=ko(),{user:e}=R.useContext(Tn),{id:n}=Tm(),[r,i]=R.useState([]),[s,o]=R.useState([]),[l,u]=R.useState(!0),[c,d]=R.useState(0),[p,g]=R.useState(""),[w,S]=R.useState("Acesso remoto"),[A,x]=R.useState("Aberto"),[E,_]=R.useState("Baixa"),[y,O]=R.useState(!1),[M,U]=R.useState("No solucionado"),[I,v]=R.useState("No atribudo"),[C,P]=R.useState([]),[N,D]=R.useState(!0),[k,ne]=R.useState([]),[we,Le]=R.useState("No informado"),[K,$]=R.useState([]);R.useEffect(()=>{async function ie(){try{const ve=yt(Ce,"users"),Ve=(await Bt(ve)).docs.map(Ge=>({id:Ge.id,nome:Ge.data().nome})).filter(Ge=>Ge.nome!=="");P(Ve)}catch(ve){console.error("Erro ao carregar tcnicos:",ve),G.error("Erro ao carregar tcnicos.")}finally{D(!1)}}ie()},[]),R.useEffect(()=>{async function ie(){await Bt(OF).then(ve=>{let ke=[];if(ve.forEach(Ve=>{ke.push({id:Ve.id,pontoLocal:Ve.data().pontoLocal})}),ve.docs.size===0){console.log("Nenhum dado encontrado"),u(!1),o([{id:1,pontoLocal:"Nenhum cliente encontrado"}]);return}o(ke),u(!1),n&&W(ke)}).catch(ve=>{console.log("Deu erro",ve),u(!1),o([{id:1,pontoLocal:"Fulano de tal"}])})}ie()},[n]),R.useEffect(()=>{s.length>0&&Q()},[c,s]);async function Q(){if(s[c]){const ie=Vr(yt(Ce,"equipamentos"),dg("clienteId","==",s[c].id)),ke=(await Bt(ie)).docs.map(Ve=>({id:Ve.id,categoria:Ve.data().categoria,patrimonio:Ve.data().patrimonio}));ne(ke)}}async function W(ie){const ve=It(Ce,"chamados",n);await yg(ve).then(ke=>{S(ke.data().assunto),x(ke.data().status),_(ke.data().prioridade),g(ke.data().complemento),U(ke.data().solucaoChamado),v(ke.data().tecnicoAtb),$(ke.data().imageUrls||[]);let Ve=ie.findIndex(Ge=>Ge.id===ke.data().clienteId);d(Ve),Le(ke.data().equipamento||"No informado"),O(!0),Q()}).catch(ke=>{console.log("Deu erro",ke),O(!1)})}function ee(ie){x(ie.target.value),console.log(ie.target.value)}function se(ie){_(ie.target.value),console.log(ie.target.value)}function pe(ie){v(ie.target.value),console.log(ie.target.value)}function Ee(ie){if(ie.target.files.length>0){const ve=Array.from(ie.target.files);i(ke=>[...ke,...ve])}}function Re(ie){S(ie.target.value)}function Oe(ie){d(ie.target.value),Q()}function Ue(ie){Le(ie.target.value)}const _t=ie=>{$(ve=>ve.filter((ke,Ve)=>Ve!==ie))};async function Sn(ie){ie.preventDefault();let ve=[...K];if(r.length>0){const Ge=r.map(In=>{const gr=kd(xd,`images/${In.name}`);return Rd(gr,In).then(yr=>Pd(yr.ref))}),qt=await Promise.all(Ge);ve=[...ve,...qt]}const ke=we==="No informado"?"":we,Ve={cliente:s[c].pontoLocal,clienteId:s[c].id,assunto:w,status:A,prioridade:E,complemento:p,solucaoChamado:M,userId:e.uid,tecnicoAtb:I,equipamento:ke,imageUrls:ve,created:new Date};if(y){const Ge=It(Ce,"chamados",n);await vn(Ge,Ve).then(()=>{G.info("Chamado editado com sucesso!"),g(""),d(0),t("/dashboard")}).catch(qt=>{G.error("Erro ao editar chamado, tente novamente!"),console.log(qt)})}else await Ji(yt(Ce,"chamados"),Ve).then(()=>{G.success("Chamado registrado com sucesso!"),g(""),d(0)}).catch(Ge=>{G.error("Erro ao registrar chamado, tente novamente!"),console.log(Ge)})}return f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsxs(Qn,{name:n?"Editando chamado":"Novo chamado",children:[" ",f.jsx(Cg,{size:25})]}),f.jsx("div",{className:"container",children:f.jsxs("form",{className:"form-profile",onSubmit:Sn,children:[f.jsx("label",{children:"Cliente"}),l?f.jsx("input",{type:"text",disabled:!0,value:"Carregando..."}):f.jsx("select",{value:c,onChange:Oe,children:s.map((ie,ve)=>f.jsx("option",{value:ve,children:ie.pontoLocal},ie.id))}),f.jsx("label",{children:"Assunto"}),f.jsxs("select",{value:w,onChange:Re,children:[f.jsx("option",{value:"Acesso remoto",children:"Acesso remoto"}),f.jsx("option",{value:"Visita Tecnica",children:"Visita tcnica"}),f.jsx("option",{value:"Troca de aparelho",children:"Troca de aparelho"})]}),f.jsx("label",{children:"Equipamento"}),f.jsxs("select",{value:we,onChange:Ue,children:[f.jsx("option",{value:"No informado",children:"No informado"}),k.length>0?k.map(ie=>f.jsx("option",{value:`${ie.categoria} - ${ie.patrimonio}`,children:`${ie.categoria} - ${ie.patrimonio}`},ie.id)):f.jsx("option",{value:"",children:"Nenhum equipamento encontrado"})]}),f.jsx("label",{children:"Status"}),f.jsxs("select",{name:"status",value:A,onChange:ee,className:"select-status",children:[f.jsx("option",{value:"Aberto",children:"Aberto"}),f.jsx("option",{value:"Progresso",children:"Em progresso"}),f.jsx("option",{value:"Atendido",children:"Atendido"})]}),f.jsx("label",{children:"Prioridade"}),f.jsxs("select",{value:E,onChange:se,children:[f.jsx("option",{value:"Baixa",children:"Baixa"}),f.jsx("option",{value:"Mdia",children:"Mdia"}),f.jsx("option",{value:"Alta",children:"Alta"}),f.jsx("option",{value:"Urgente",children:"Urgente"}),f.jsx("option",{value:"Critica",children:"Crtica"})]}),f.jsx("label",{children:"Tcnico"}),f.jsx("select",{value:I,onChange:pe,children:N?f.jsx("option",{value:"",children:"Carregando..."}):f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"No atribudo",children:"No atribudo"}),C.map(ie=>f.jsx("option",{value:ie.nome,children:ie.nome},ie.id))]})}),f.jsx("label",{children:"Descrio do problema"}),f.jsx("textarea",{type:"text",placeholder:"Descreva o problema",value:p,onChange:ie=>g(ie.target.value)}),f.jsx("input",{type:"file",onChange:Ee,multiple:!0}),K.length>0&&f.jsx("div",{className:"image-preview-container",children:K.map((ie,ve)=>f.jsxs("div",{className:"image-preview",children:[f.jsx("img",{src:ie,alt:`Imagem ${ve+1}`,width:"100",height:"100"}),f.jsx("button",{type:"button",className:"remove-image-button",onClick:()=>_t(ve),children:"X"})]},ve))}),f.jsx("button",{type:"submit",children:"Registrar"})]})})]})]})}const O0=yt(Ce,"chamados");function DF(){const{logout:t,user:e}=R.useContext(Tn),n=e?e.isAdmin:!1,[r,i]=R.useState([]),[s,o]=R.useState(!0),[l,u]=R.useState(!1),[c,d]=R.useState(),[p,g]=R.useState(!1),[w,S]=R.useState(!1),[A,x]=R.useState(),[E,_]=R.useState("prioridade"),[y,O]=R.useState("desc"),[M,U]=R.useState(!1),[I,v]=R.useState(null);R.useEffect(()=>{async function K(){const $=Vr(O0,Eo("created","desc"),To(5)),Q=await Bt($);let W=[];Q.forEach(ee=>{W.push({id:ee.id,assunto:ee.data().assunto,prioridade:ee.data().prioridade,solucaoChamado:ee.data().solucaoChamado,cliente:ee.data().cliente,clienteId:ee.data().clienteId,created:ee.data().created,createdFormat:or(ee.data().created.toDate(),"dd/MM/yyyy"),status:ee.data().status,complemento:ee.data().complemento,dataSolucao:ee.data().dataSolucao,horaSolucao:ee.data().horaSolucao,tecnicoAtb:ee.data().tecnicoAtb,imagemSolucao:ee.data().imagemSolucao,imageUrls:ee.data().imageUrls||[]})}),W=W.filter(ee=>ee.status=="Atendido"),i(C(W)),d(Q.docs[Q.docs.length-1]),o(!1),W.length===0&&u(!0)}K()},[]);function C(K){const $={Urgente:3,Moderada:2,Normal:1};return[...K].sort((Q,W)=>{const ee=$[Q.prioridade]||0,se=$[W.prioridade]||0;return y==="asc"?ee-se:se-ee})}async function P(K){if(K.size===0)u(!0);else{let Q=[];K.forEach(W=>{Q.push({id:W.id,assunto:W.data().assunto,prioridade:W.data().prioridade,solucaoChamado:W.data().solucaoChamado,cliente:W.data().cliente,clienteId:W.data().clienteId,created:W.data().created,createdFormat:or(W.data().created.toDate(),"dd/MM/yyyy"),status:W.data().status,complemento:W.data().complemento,dataSolucao:W.data().dataSolucao,horaSolucao:W.data().horaSolucao,tecnicoAtb:W.data().tecnicoAtb,imagemSolucao:W.data().imagemSolucao,imageUrls:W.data().imageUrls||[]})}),Q=Q.filter(W=>W.status=="Atendido"),Q.length===0?u(!0):(i(W=>C([...W,...Q])),d(K.docs[K.docs.length-1]))}g(!1)}const N=(K,$)=>{i(Q=>Q.map(W=>W.id===K?{...W,solucaoChamado:$}:W))};async function D(){g(!0);const K=Vr(O0,Eo("created","desc"),gg(c),To(5)),$=await Bt(K);await P($)}function k(K){S(!w),x(K)}function ne(K){E===K?O(y==="asc"?"desc":"asc"):(_(K),O(K==="tecnicoAtb"?"asc":"desc")),i(K==="status"?$=>Le([...$]):K==="tecnicoAtb"?$=>we([...$]):$=>C([...$]))}function we(K){return[...K].sort(($,Q)=>{const W=$.tecnicoAtb||"",ee=Q.tecnicoAtb||"";return y==="asc"?W.localeCompare(ee):ee.localeCompare(W)})}function Le(K){const $={Atendido:3,Progresso:2,Aberto:1};return[...K].sort((Q,W)=>{const ee=$[Q.status]||0,se=$[W.status]||0;return y==="asc"?ee-se:se-ee})}return s?f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Tickets",children:f.jsx(So,{size:25})}),f.jsx("div",{className:"container dashboard",children:f.jsx("span",{children:"Buscando chamados..."})})]})]}):f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Tickets",children:f.jsx(So,{size:25})}),f.jsx(f.Fragment,{children:r.length===0?f.jsx("div",{className:"container dashboard",children:f.jsx("span",{children:"Nenhum chamado atendido est atribudo a voc..."})}):f.jsxs(f.Fragment,{children:[f.jsxs(Tt,{to:"/new",className:"new",children:[f.jsx(ul,{color:"#fff",size:25}),"Novo chamado"]}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",children:"Cliente"}),f.jsx("th",{scope:"col",children:"Assunto"}),f.jsxs("th",{scope:"col",onClick:()=>ne("status"),children:["Status"," ",E==="status"&&(y==="asc"?"":"")]}),f.jsxs("th",{scope:"col",onClick:()=>ne("prioridade"),children:["Prioridade"," ",E==="prioridade"&&(y==="asc"?"":"")]}),f.jsx("th",{scope:"col",children:"Cadastrado em"}),f.jsxs("th",{scope:"col",onClick:()=>ne("tecnicoAtb"),children:["Tcnico",E==="tecnicoAtb"&&(y==="asc"?"":"")]}),f.jsx("th",{scope:"col",children:"#"})]})}),f.jsx("tbody",{children:r.map((K,$)=>f.jsxs("tr",{children:[f.jsx("td",{"data-label":"Cliente",children:K.cliente}),f.jsx("td",{"data-label":"Assunto",children:K.assunto}),f.jsx("td",{"data-label":"Status",children:f.jsx("span",{className:"badge",style:{backgroundColor:K.status==="Aberto"?"rgb(53, 131, 246)":K.status==="Atendido"?"#5cb85c":"#ffcc00",textShadow:"1px 2px 0px #000"},children:K.status})}),f.jsx("td",{"data-label":"Prioridade",children:f.jsx("span",{className:"badge",style:{backgroundColor:K.prioridade==="Urgente"||K.prioridade==="Critica"?"#ff0000":K.prioridade==="Mdia"||K.prioridade==="Alta"?"#FFCC00":"#5cb85c",textShadow:"1px 2px 0px #000"},children:K.prioridade})}),f.jsx("td",{"data-label":"Cadastrado",children:K.createdFormat}),f.jsx("td",{"data-label":"Cadastrado",children:K.tecnicoAtb?K.tecnicoAtb:"No atribudo"}),f.jsxs("td",{"data-label":"#",children:[f.jsx("button",{className:"action",style:{backgroundColor:"#3583f6"},onClick:()=>k(K),children:f.jsx(Ag,{color:"#fff",size:17})}),M&&f.jsx(Dg,{ticketId:I,onClose:()=>U(!1),updateSolution:N}),n&&f.jsx(Tt,{to:`/new/${K.id}`,className:"action",style:{backgroundColor:"#f6a935"},children:f.jsx(Ig,{color:"#fff",size:17})})]})]},$))})]}),p&&f.jsx("h3",{children:"Buscando mais chamados..."}),!p&&!l&&f.jsx("button",{className:"btn-more",onClick:D,children:"Buscar mais"})]})})]}),w&&f.jsx(Lg,{conteudo:A,close:()=>S(!w)})]})}const LF=yt(Ce,"customers");function MF(){const t=ko(),{user:e}=R.useContext(Tn),{id:n}=Tm();R.useState(null);const[r,i]=R.useState([]),[s,o]=R.useState(!0),[l,u]=R.useState(0),[c,d]=R.useState(""),[p,g]=R.useState("No selecionada"),[w,S]=R.useState("Aberto"),[A,x]=R.useState("Baixa"),[E,_]=R.useState(!1),[y,O]=R.useState("No"),[M,U]=R.useState([]),[I,v]=R.useState("");R.useEffect(()=>{async function ne(){await Bt(LF).then(we=>{let Le=[];if(we.forEach(K=>{Le.push({id:K.id,pontoLocal:K.data().pontoLocal})}),we.docs.size===0){console.log("Nenhum dado encontrado"),o(!1),i([{id:1,pontoLocal:"Nenhum cliente encontrado"}]);return}i(Le),o(!1),n&&loadId(Le)}).catch(we=>{console.log("Deu erro",we),o(!1),i([{id:1,pontoLocal:"Fulano de tal"}])})}ne()},[n]),R.useEffect(()=>{if(y==="Sim"&&r[l]){const ne=Vr(yt(Ce,"equipamentos"),dg("clienteId","==",r[l].id));Bt(ne).then(we=>{let Le=[];we.forEach(K=>{Le.push({id:K.id,patrimonio:K.data().patrimonio,categoria:K.data().categoria})}),U(Le)})}},[y,l,r]);function C(ne){g(ne.target.value)}function P(ne){u(ne.target.value),O("No"),v("")}function N(ne){O(ne.target.value)}function D(ne){v(ne.target.value)}async function k(ne){ne.preventDefault();let we=null;if(y==="Sim"){const K=M.find($=>$.id===I);we=K?K.patrimonio:null}const Le={cliente:r[l].pontoLocal,clienteId:r[l].id,categoria:p,userId:e.uid,patrimonio:c,status:w,prioridade:A,compartilhado:y==="Sim",equipamentoPai:we,created:new Date};if(E){const K=It(Ce,"equipamentos",n);await vn(K,Le).then(()=>{G.info("Equipamento editado com sucesso!"),d(""),u(0),t("/dashboard")}).catch($=>{G.error("Erro ao editar Equipamento, tente novamente!"),console.log($)})}else await Ji(yt(Ce,"equipamentos"),Le).then(()=>{G.success("Chamado registrado com sucesso!"),d(""),u(0)}).catch(K=>{G.error("Erro ao registrar chamado, tente novamente!"),console.log(K)})}return f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsxs(Qn,{name:n?"Editando equipamento":"Novo equipamento",children:[" ",f.jsx(Cg,{size:25})]}),f.jsx("div",{className:"container",children:f.jsxs("form",{className:"form-profile",onSubmit:k,children:[f.jsx("label",{children:"Ponto"}),s?f.jsx("input",{type:"text",disabled:!0,value:"Carregando..."}):f.jsx("select",{value:l,onChange:P,children:r.map((ne,we)=>f.jsx("option",{value:we,children:ne.pontoLocal},ne.id))}),f.jsx("label",{children:"Patrimnio"}),f.jsx("input",{type:"text",placeholder:"Digite o nmero do patrimnio",value:c,onChange:ne=>d(ne.target.value)}),f.jsx("label",{children:"Categoria"}),f.jsxs("select",{value:p,onChange:C,children:[f.jsx("option",{value:"No selecionada",children:"No selecionada"}),f.jsx("option",{value:"Computador",children:"Computador"}),f.jsx("option",{value:"B-LINK",children:"B-LINK"}),f.jsx("option",{value:"Tela/TV",children:"Tela/TV"})]}),p!=="No selecionada"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{children:"Compartilhado?"}),f.jsx("div",{children:f.jsxs("select",{value:y,onChange:N,children:[f.jsx("option",{value:"No",children:"No"}),f.jsx("option",{value:"Sim",children:"Sim"})]})})]}),y==="Sim"&&f.jsxs("div",{children:[f.jsx("label",{children:"Selecionar equipamento pai"}),f.jsx("div",{children:M.length>0?f.jsx("select",{value:I,onChange:D,children:M.map(ne=>f.jsxs("option",{value:ne.id,children:[ne.patrimonio," - ",ne.categoria]},ne.id))}):f.jsx("p",{children:"Nenhum equipamento encontrado para esse cliente"})})]})]}),f.jsx("button",{type:"submit",children:"Registrar"})]})})]})]})}const jF=yt(Ce,"customers"),D0=yt(Ce,"campaigns");function L0(){const t=ko(),{user:e}=R.useContext(Tn),{id:n}=Tm(),[r,i]=R.useState([]),[s,o]=R.useState([]),[l,u]=R.useState(!0),[c,d]=R.useState(0),[p,g]=R.useState(""),[w,S]=R.useState("Aberto"),[A,x]=R.useState("Baixa"),[E,_]=R.useState(!1),[y,O]=R.useState("No solucionado"),[M,U]=R.useState("No atribudo"),[I,v]=R.useState([]),[C,P]=R.useState(!0),[N,D]=R.useState([]),[k,ne]=R.useState([]),[we,Le]=R.useState(!0),[K,$]=R.useState({}),[Q,W]=R.useState({}),[ee,se]=R.useState(1),[pe,Ee]=R.useState(!1),[Re,Oe]=R.useState(""),[Ue,_t]=R.useState(!1),[Sn,ie]=R.useState("No atribuda");R.useEffect(()=>{async function oe(){try{const ue=yt(Ce,"users"),ge=(await Bt(ue)).docs.map(be=>({id:be.id,nome:be.data().nome})).filter(be=>be.nome!=="");v(ge)}catch(ue){console.error("Erro ao carregar tcnicos:",ue),G.error("Erro ao carregar tcnicos.")}finally{P(!1)}}oe()},[]),R.useEffect(()=>{async function oe(){try{const ue=await Bt(jF);let de=[];if(ue.forEach(ge=>{de.push({id:ge.id,cliente:ge.data().nomeFantasia,pontoLocal:ge.data().pontoLocal})}),ue.size===0){console.log("Nenhum dado encontrado"),u(!1),o([{id:1,cliente:"Nenhum cliente encontrado"}]);return}o(de),u(!1),n&&ve(de)}catch(ue){console.log("Erro ao carregar clientes",ue),u(!1),o([{id:1,cliente:"Erro ao carregar clientes"}])}}oe()},[n]),R.useEffect(()=>{async function oe(){try{const ue=await Bt(D0);let de=[{id:"nao_atribuida",nome:"No atribuda"}];ue.forEach(ge=>{de.push({id:ge.id,nome:ge.data().nome})}),ne(de),Le(!1)}catch(ue){console.log("Erro ao carregar campanhas",ue),Le(!1),ne([{id:"nao_atribuida",nome:"No atribuda"}])}}oe()},[]);async function ve(oe){const ue=It(Ce,"checking",n);try{const de=await yg(ue);g(de.data().pontoLocal),S(de.data().status),x(de.data().prioridade),O(de.data().solucaoChamado),U(de.data().tecnicoAtb),D(de.data().imageUrls||[]);let ge=oe.findIndex(b=>b.id===de.data().clienteId);d(ge);const be=de.data().campaignSelections;typeof be=="object"?(_t(!0),$(be)):(_t(!1),ie(be||"No atribuda")),_(!0)}catch(de){console.log("Erro ao carregar chamado",de)}}function ke(oe){S(oe.target.value)}function Ve(oe){x(oe.target.value)}function Ge(oe){U(oe.target.value)}function qt(oe){if(oe.target.files.length>0){const ue=Array.from(oe.target.files);i(de=>[...de,...ue])}}function In(oe){d(oe.target.value)}function gr(oe){const ue=oe.target.value;ie(ue),_t(ue==="multiplas_campanhas"),Ee(ue==="nova_campanha")}async function yr(oe,ue){const de=oe.target.value,ge={...K,[ue]:de};$(ge);const be=N[ue],Wt=Q[ue]||ee;W({...Q,[ue]:Wt});try{await Ji(yt(Ce,"images"),{imageUrl:be,campaign:de,imageName:Wt,addedAt:new Date}),G.success("Imagem e campanha salvas com sucesso!")}catch(b){console.error("Erro ao salvar imagem e campanha:",b),G.error("Erro ao salvar imagem e campanha.")}se(ee+1)}async function zr(){if(Re.trim()===""){G.error("Por favor, insira um nome vlido para a campanha.");return}try{const oe=await Ji(D0,{nome:Re});ne(ue=>[...ue,{id:oe.id,nome:Re}]),Ee(!1),ie(Re),Oe(""),G.success("Nova campanha criada com sucesso!")}catch(oe){console.error("Erro ao criar nova campanha:",oe),G.error("Erro ao criar nova campanha.")}}function vr(){Ee(!1),Oe("")}function Cn(oe){D(ue=>ue.filter((de,ge)=>ge!==oe)),$(ue=>{const de={...ue};return delete de[oe],de}),W(ue=>{const de={...ue};return delete de[oe],de})}async function Mi(oe){oe.preventDefault();let ue=[...N];if(r.length>0){const ge=r.map(Wt=>{const b=kd(xd,`images/${Wt.name}`);return Rd(b,Wt).then(F=>Pd(F.ref))}),be=await Promise.all(ge);ue=[...ue,...be]}const de={cliente:s[c].cliente,clienteId:s[c].id,pontoLocal:s[c].pontoLocal,status:w,prioridade:A,solucaoChamado:y,userId:e.uid,tecnicoAtb:M,imageUrls:ue,campaignSelections:Ue?K:Sn,imageNames:Q,created:new Date};try{if(E){const ge=It(Ce,"checking",n);await vn(ge,de),G.info("Chamado editado com sucesso!"),d(0),t("/dashboard")}else await Ji(yt(Ce,"checking"),de),G.success("Chamado registrado com sucesso!"),d(0)}catch(ge){G.error("Erro ao registrar chamado, tente novamente!"),console.log("Erro ao registrar chamado:",ge)}}return f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:n?"Editando chamado":"Novo chamado",children:f.jsx(Cg,{size:25})}),f.jsx("div",{className:"container",children:f.jsxs("form",{className:"form-profile",onSubmit:Mi,children:[f.jsx("label",{children:"Cliente"}),l?f.jsx("input",{type:"text",disabled:!0,value:"Carregando..."}):f.jsx("select",{value:c,onChange:In,children:s.map((oe,ue)=>f.jsx("option",{value:ue,children:oe.cliente},oe.id))}),f.jsx("label",{children:"Ponto"}),l?f.jsx("input",{type:"text",disabled:!0,value:"Carregando..."}):f.jsx("select",{value:c,onChange:In,children:s.map((oe,ue)=>f.jsx("option",{value:ue,children:oe.pontoLocal},oe.id))}),f.jsx("label",{children:"Campanha Principal"}),we?f.jsx("input",{type:"text",disabled:!0,value:"Carregando..."}):f.jsxs("select",{value:Sn||"No atribuda",onChange:gr,children:[k.map(oe=>f.jsx("option",{value:oe.nome,children:oe.nome},oe.id)),f.jsx("option",{value:"multiplas_campanhas",children:"MULTIPLAS CAMPANHAS"}),f.jsx("option",{value:"nova_campanha",children:"Nova campanha"})]}),pe&&f.jsxs("div",{children:[f.jsx("input",{type:"text",placeholder:"Nome da nova campanha",value:Re,onChange:oe=>Oe(oe.target.value)}),f.jsx("button",{type:"button",onClick:zr,children:"OK"}),f.jsx("button",{type:"button",onClick:vr,children:"Cancelar"})]}),f.jsx("label",{children:"Status"}),f.jsxs("select",{name:"status",value:w,onChange:ke,className:"select-status",children:[f.jsx("option",{value:"Aberto",children:"Aberto"}),f.jsx("option",{value:"Progresso",children:"Em progresso"}),f.jsx("option",{value:"Finalizado",children:"Finalizado"})]}),f.jsx("label",{children:"Prioridade"}),f.jsxs("select",{value:A,onChange:Ve,children:[f.jsx("option",{value:"Baixa",children:"Baixa"}),f.jsx("option",{value:"Mdia",children:"Mdia"}),f.jsx("option",{value:"Alta",children:"Alta"}),f.jsx("option",{value:"Urgente",children:"Urgente"}),f.jsx("option",{value:"Critica",children:"Crtica"})]}),f.jsx("label",{children:"Tcnico"}),f.jsx("select",{value:M,onChange:Ge,children:C?f.jsx("option",{value:"",children:"Carregando..."}):f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"No atribudo",children:"No atribudo"}),I.map(oe=>f.jsx("option",{value:oe.nome,children:oe.nome},oe.id))]})}),f.jsx("input",{type:"file",onChange:qt,multiple:!0}),N.length>0&&f.jsx("div",{className:"image-preview-container",children:N.map((oe,ue)=>f.jsxs("div",{className:"image-preview",children:[f.jsx("img",{src:oe,alt:`Imagem ${ue+1}`,width:"100",height:"100"}),Ue&&f.jsxs("select",{value:K[ue]||"No atribuda",onChange:de=>yr(de,ue),children:[k.map(de=>f.jsx("option",{value:de.nome,children:de.nome},de.id)),f.jsx("option",{value:"nova_campanha",children:"Nova campanha"})]}),f.jsx("button",{type:"button",className:"remove-image-button",onClick:()=>Cn(ue),children:"X"})]},ue))}),f.jsx("button",{type:"submit",children:"Registrar"})]})})]})]})}const M0=yt(Ce,"checking");function VF(){const{logout:t,user:e}=R.useContext(Tn),n=e?e.nome:null,[r,i]=R.useState([]),[s,o]=R.useState(!0),[l,u]=R.useState(!1),[c,d]=R.useState(),[p,g]=R.useState(!1),[w,S]=R.useState(!1),[A,x]=R.useState(),[E,_]=R.useState("prioridade"),[y,O]=R.useState("desc"),[M,U]=R.useState(!1),[I,v]=R.useState(null),C=e?e.isAdmin:!1,[P,N]=R.useState([]),[D,k]=R.useState([]),[ne,we]=R.useState(!1),[Le,K]=R.useState({}),[$,Q]=R.useState({}),[W,ee]=R.useState([]),[se,pe]=R.useState({}),[Ee,Re]=R.useState({}),[Oe,Ue]=R.useState(""),[_t,Sn]=R.useState("");R.useEffect(()=>{async function b(){const F=Vr(M0,Eo("created","desc"),To(10)),Z=await Bt(F);let B=[],ae=new Set,ce=new Set;Z.forEach(J=>{B.push({id:J.id,assunto:J.data().assunto,prioridade:J.data().prioridade,solucaoChamado:J.data().solucaoChamado,cliente:J.data().cliente,pontoLocal:J.data().pontoLocal,clienteId:J.data().clienteId,created:J.data().created,createdFormat:or(J.data().created.toDate(),"dd/MM/yyyy"),status:J.data().status,complemento:J.data().complemento,dataSolucao:J.data().dataSolucao,horaSolucao:J.data().horaSolucao,tecnicoAtb:J.data().tecnicoAtb,imageUrls:J.data().imageUrls||[],imagemSolucao:J.data().imagemSolucao,equipamento:J.data().equipamento,playChamado:J.data().playChamado||null,chegadaLocal:J.data().chegadaLocal||null}),ae.add(J.data().status),ce.add(J.data().prioridade)});const qe=Array.from(ae).reduce((J,Ye)=>(J[Ye]=!0,J),{}),ot=Array.from(ce).reduce((J,Ye)=>(J[Ye]=!0,J),{});K(qe),Q(ot),pe(qe),Re(ot),B=B.filter(J=>J.status!=="Atendido"),i(ve(B)),ee(ve(B)),d(Z.docs[Z.docs.length-1]),o(!1),N(Array.from(ae)),k(Array.from(ce)),B.length===0&&u(!0)}b()},[]);const ie=()=>{we(!ne)};function ve(b){const F={Critica:5,Urgente:4,Alta:3,Mdia:2,Baixa:1};return[...b].sort((Z,B)=>{const ae=F[Z.prioridade]||0,ce=F[B.prioridade]||0;return y==="asc"?ae-ce:ce-ae})}async function ke(b){if(b.size===0)u(!0);else{let Z=[];b.forEach(B=>{Z.push({id:B.id,assunto:B.data().assunto,prioridade:B.data().prioridade,solucaoChamado:B.data().solucaoChamado,cliente:B.data().cliente,clienteId:B.data().clienteId,pontoLocal:B.data().pontoLocal,created:B.data().created,createdFormat:or(B.data().created.toDate(),"dd/MM/yyyy"),status:B.data().status,complemento:B.data().complemento,dataSolucao:B.data().dataSolucao,horaSolucao:B.data().horaSolucao,tecnicoAtb:B.data().tecnicoAtb,imageUrls:B.data().imageUrls||[],imagemSolucao:B.data().imagemSolucao,playChamado:B.data().playChamado||null,chegadaLocal:B.data().chegadaLocal||null})}),Z=Z.filter(B=>B.status!=="Atendido"),Z.length===0?u(!0):(i(B=>ve([...B,...Z])),d(b.docs[b.docs.length-1]))}g(!1)}const Ve=b=>{pe(F=>({...F,[b]:!F[b]}))},Ge=b=>{Re(F=>({...F,[b]:!F[b]}))},qt=()=>{K(se),Q(Ee),In(se,Ee,Oe,_t)},In=(b,F,Z,B)=>{const ae=W.filter(ce=>b[ce.status]&&F[ce.prioridade]&&(!Z||ce.tecnicoAtb.toLowerCase().includes(Z.toLowerCase()))&&(!B||ce.cliente.toLowerCase().includes(B.toLowerCase())));i(ae)},gr=b=>{v(b),U(!0)},yr=(b,F)=>{i(Z=>Z.map(B=>B.id===b?{...B,solucaoChamado:F}:B))};async function zr(){g(!0);const b=Vr(M0,Eo("created","desc"),gg(c),To(10)),F=await Bt(b);await ke(F)}function vr(b){S(!w),x(b)}function Cn(b){E===b?O(y==="asc"?"desc":"asc"):(_(b),O(b==="tecnicoAtb"?"asc":"desc")),i(b==="status"?F=>oe([...F]):b==="tecnicoAtb"?F=>Mi([...F]):F=>ve([...F]))}function Mi(b){return[...b].sort((F,Z)=>{const B=F.tecnicoAtb||"",ae=Z.tecnicoAtb||"";return y==="asc"?B.localeCompare(ae):ae.localeCompare(B)})}function oe(b){const F={Aberto:1,"Em andamento":2,Atendido:3};return[...b].sort((Z,B)=>{const ae=F[Z.status]||0,ce=F[B.status]||0;return y==="asc"?ae-ce:ce-ae})}async function ue(b){if(!n){G.error("Voc precisa estar logado para se atribuir a um chamado.");return}try{const F=It(Ce,"checking",b);vn(F,{tecnicoAtb:n}),i(Z=>Z.map(B=>B.id===b?{...B,tecnicoAtb:n}:B)),G.success("Chamado atribudo a voc com sucesso!")}catch(F){console.error("Erro ao atribuir o chamado:",F),G.error("Erro ao atribuir o chamado.")}}const de=async(b,F,Z)=>{const B=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${b},${F}&key=${Z}`;try{const ae=await ut.get(B);if(console.log(ae.data),ae.data.status==="OK")return ae.data.results[0].formatted_address;throw new Error(`Geocode error: ${ae.data.status}`)}catch(ae){return console.error("Erro ao obter o endereo:",ae),null}},ge=(b,F,Z)=>{Og({title:b,message:F,buttons:[{label:"Sim",onClick:Z},{label:"No"}]})},be=async(b,F)=>{if(r.find(B=>B.id===b).playChamado){G.error("Voc j sinalizou que est a caminho do chamado!");return}ge("Confirmao","Voc deseja sinalizar que est a caminho?",async()=>{if(!navigator.geolocation){G.error("Geolocalizao no  suportada pelo seu navegador.");return}navigator.geolocation.getCurrentPosition(async B=>{const ae=new Date().toISOString(),{latitude:ce,longitude:qe}=B.coords,ot=await de(ce,qe,"AIzaSyBCANKDqKej6Ek8Hzodf2G92MeSEqH1x6w");if(!ot){G.error("Erro ao obter o endereo.");return}const J=or(new Date(ae),"dd 'de' MMMM 'de' yyyy 's' HH:mm:ss 'UTC'xxx",{locale:Fc});try{const Ye=It(Ce,"checking",b);await vn(Ye,{playChamado:{timestamp:J,location:new Un(ce,qe),address:ot}}),i(tn=>tn.map(Jn=>Jn.id===b?{...Jn,playChamado:{timestamp:J,location:new Un(ce,qe),address:ot}}:Jn)),G.success(`Voc sinalizou que est a caminho de ${F}`)}catch(Ye){console.error("Erro ao registrar o play:",Ye),G.error("Erro ao registrar o play.")}},B=>{console.error("Erro ao obter a geolocalizao:",B),G.error("Erro ao obter a geolocalizao.")})})},Wt=async b=>{const F=r.find(Z=>Z.id===b);if(F.chegadaLocal){G.error("Voc j sinalizou que chegou no local!");return}ge("Confirmao","Voc deseja sinalizar que chegou ao local?",async()=>{if(!F.playChamado){G.error("Voc precisa ativar 'Play Chamado' antes de registrar a chegada.");return}if(!navigator.geolocation){G.error("Geolocalizao no  suportada pelo seu navegador.");return}navigator.geolocation.getCurrentPosition(async Z=>{const B=new Date().toISOString(),{latitude:ae,longitude:ce}=Z.coords,qe=await de(ae,ce,"AIzaSyBCANKDqKej6Ek8Hzodf2G92MeSEqH1x6w");if(!qe){G.error("Erro ao obter o endereo.");return}const ot=or(new Date(B),"dd 'de' MMMM 'de' yyyy 's' HH:mm:ss 'UTC'xxx",{locale:Fc});try{const J=It(Ce,"checking",b);await vn(J,{chegadaLocal:{timestamp:ot,location:new Un(ae,ce),address:qe}}),i(Ye=>Ye.map(tn=>tn.id===b?{...tn,chegadaLocal:{timestamp:ot,location:new Un(ae,ce),address:qe}}:tn)),G.success("Chegada registrada com sucesso!")}catch(J){console.error("Erro ao registrar a chegada:",J),G.error("Erro ao registrar a chegada.")}},Z=>{console.error("Erro ao obter a geolocalizao:",Z),G.error("Erro ao obter a geolocalizao.")})})};return s?f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Tickets",children:f.jsx(So,{size:25})}),f.jsx("div",{className:"container dashboard",children:f.jsx("span",{children:"Buscando checking..."})})]})]}):f.jsxs("div",{children:[f.jsx(Gn,{}),f.jsxs("div",{className:"content",children:[f.jsx(Qn,{name:"Tickets",children:f.jsx(So,{size:25})}),f.jsx(f.Fragment,{children:r.filter(b=>C||b.tecnicoAtb===n||b.tecnicoAtb==="No atribudo").length===0?f.jsxs("div",{className:"container dashboard",children:[f.jsx("span",{children:"Nenhum chamado encontrado..."}),f.jsxs(Tt,{to:"/newchecking",className:"new",children:[f.jsx(ul,{color:"#fff",size:25}),"Novo chamado"]}),f.jsx("button",{onClick:ie,className:"btn-filtros",children:"Filtros"}),ne&&f.jsxs("div",{className:"filter",children:[P.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`status-${F}`,checked:se[b],onChange:()=>Ve(b)}),f.jsxs("label",{htmlFor:`status-${F}`,children:["Status: ",b]})]},F)),D.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`prioridade-${F}`,checked:Ee[b],onChange:()=>Ge(b)}),f.jsxs("label",{htmlFor:`prioridade-${F}`,children:["Prioridade: ",b]})]},F)),f.jsxs("div",{className:"searchTecpontoLocal",children:[f.jsx("input",{type:"text",placeholder:"Pesquisar um tcnico",value:Oe,onChange:b=>Ue(b.target.value)}),f.jsx("input",{type:"text",placeholder:"Pesquisar um pontoLocal",value:_t,onChange:b=>Sn(b.target.value)})]}),f.jsx("button",{onClick:qt,className:"btn-filtros",children:"OK"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs(Tt,{to:"/newchecking",className:"new",children:[f.jsx(ul,{color:"#fff",size:25}),"Novo chamado"]}),f.jsx("button",{onClick:ie,className:"btn-filtros",children:"Filtros"}),ne&&f.jsxs("div",{className:"filter",children:[P.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`status-${F}`,checked:se[b],onChange:()=>Ve(b)}),f.jsxs("label",{htmlFor:`status-${F}`,children:["Status: ",b]})]},F)),D.map((b,F)=>f.jsxs("div",{children:[f.jsx("input",{type:"checkbox",id:`prioridade-${F}`,checked:Ee[b],onChange:()=>Ge(b)}),f.jsxs("label",{htmlFor:`prioridade-${F}`,children:["Prioridade: ",b]})]},F)),f.jsxs("div",{className:"searchTecpontoLocal",children:[f.jsx("input",{type:"text",placeholder:"Pesquisar um tcnico",value:Oe,onChange:b=>Ue(b.target.value)}),f.jsx("input",{type:"text",placeholder:"Pesquisar um pontoLocal",value:_t,onChange:b=>Sn(b.target.value)})]}),f.jsx("button",{onClick:qt,className:"btn-filtros",children:"OK"})]}),f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",children:"CLIENTE"}),f.jsx("th",{scope:"col",children:"PONTO"}),f.jsxs("th",{scope:"col",onClick:()=>Cn("status"),children:["Status"," ",E==="status"&&(y==="asc"?"":"")]}),f.jsxs("th",{scope:"col",onClick:()=>Cn("prioridade"),children:["Prioridade"," ",E==="prioridade"&&(y==="asc"?"":"")]}),f.jsx("th",{scope:"col",children:"Cadastrado em"}),f.jsxs("th",{scope:"col",onClick:()=>Cn("tecnicoAtb"),children:["Tcnico",E==="tecnicoAtb"&&(y==="asc"?"":"")]}),f.jsx("th",{scope:"col",children:"#"})]})}),f.jsx("tbody",{children:r.filter(b=>C||b.tecnicoAtb===n||b.tecnicoAtb==="No atribudo").map((b,F)=>f.jsxs("tr",{children:[f.jsx("td",{"data-label":"Cliente",children:b.cliente}),f.jsx("td",{"data-label":"pontoLocal",children:b.pontoLocal}),f.jsx("td",{"data-label":"Status",children:f.jsx("span",{className:"badge",style:{backgroundColor:b.status==="Aberto"?"rgb(53, 131, 246)":b.status==="Atendido"?"#5cb85c":"#ffcc00",textShadow:"1px 2px 0px #000"},children:b.status})}),f.jsx("td",{"data-label":"Prioridade",children:f.jsx("span",{className:"badge",style:{backgroundColor:b.prioridade==="Urgente"||b.prioridade==="Critica"?"#ff0000":b.prioridade==="Mdia"||b.prioridade==="Alta"?"#FFCC00":"#5cb85c",textShadow:"1px 2px 0px #000"},children:b.prioridade})}),f.jsx("td",{"data-label":"Cadastrado",children:b.createdFormat}),f.jsx("td",{"data-label":"Cadastrado",children:b.tecnicoAtb?b.tecnicoAtb:"No atribudo"}),f.jsxs("td",{"data-label":"#",children:[f.jsx("button",{className:"action",style:{backgroundColor:b.playChamado?"#088F8F":"#5bc0de"},onClick:()=>be(b.id,b.cliente),disabled:b.playChamado,children:f.jsx(QS,{color:"#fff",size:17})}),f.jsx("button",{className:"action",style:{backgroundColor:"#088F8F"},onClick:()=>Wt(b.id),disabled:!b.playChamado,children:f.jsx(GS,{color:"#fff",size:17})}),f.jsx("button",{className:"action",style:{backgroundColor:"#f6a935"},onClick:()=>ue(b.id),disabled:b.status==="Atendido"||b.tecnicoAtb===n,children:f.jsx(Rg,{color:"#fff",size:15})}),f.jsx("button",{className:"action",style:{backgroundColor:"purple"},onClick:()=>gr(b.id),children:f.jsx(KS,{color:"#fff",size:15})}),f.jsx("button",{className:"action",style:{backgroundColor:"#3583f6"},onClick:()=>vr(b),children:f.jsx(Ag,{color:"#fff",size:15})}),M&&f.jsx(Dg,{ticketId:I,onClose:()=>U(!1),updateSolution:yr}),f.jsx(Tt,{to:`/newchecking/${b.id}`,className:"action",style:{backgroundColor:"#f6a935"},children:f.jsx(Ig,{color:"#fff",size:15})})]})]},F))})]}),p&&f.jsx("h3",{children:"Buscando mais checking..."}),!p&&!l&&f.jsx("button",{className:"btn-more",onClick:zr,children:"Buscar mais"})]})})]}),w&&f.jsx(Lg,{conteudo:A,close:()=>S(!w)})]})}function FF(){return f.jsxs(yP,{children:[f.jsx(dn,{path:"/",element:f.jsx(HL,{})}),f.jsx(dn,{path:"/register",element:f.jsx(Mn,{children:f.jsx(KL,{})})}),f.jsx(dn,{path:"/dashboard",element:f.jsx(Mn,{children:f.jsx(xF,{})})}),f.jsx(dn,{path:"/profile",element:f.jsx(Mn,{children:f.jsx(bF,{})})}),f.jsx(dn,{path:"/customers",element:f.jsx(Mn,{children:f.jsx(NF,{})})}),f.jsx(dn,{path:"/new",element:f.jsx(Mn,{children:f.jsx(N0,{})})}),f.jsx(dn,{path:"/new/:id",element:f.jsx(Mn,{children:f.jsx(N0,{})})}),f.jsx(dn,{path:"/newchecking/",element:f.jsx(Mn,{children:f.jsx(L0,{})})}),f.jsx(dn,{path:"/newchecking/:id",element:f.jsx(Mn,{children:f.jsx(L0,{})})}),f.jsx(dn,{path:"/atendidos",element:f.jsx(Mn,{children:f.jsx(DF,{})})}),f.jsx(dn,{path:"/equipamentos",element:f.jsx(Mn,{children:f.jsx(MF,{})})}),f.jsx(dn,{path:"/checking",element:f.jsx(Mn,{children:f.jsx(VF,{})})})]})}function UF(){return f.jsx("div",{children:f.jsx(IP,{children:f.jsxs(WL,{children:[f.jsx(qL,{autoClose:3e3}),f.jsx(FF,{})]})})})}qu.createRoot(document.getElementById("root")).render(f.jsx(Se.StrictMode,{children:f.jsx(UF,{})}));
